var Nt=Object.create;var Mt=Object.defineProperty;var Pt=Object.getOwnPropertyDescriptor;var Lt=Object.getOwnPropertyNames;var Ot=Object.getPrototypeOf,Rt=Object.prototype.hasOwnProperty;var Ht=(S,C)=>()=>(C||S((C={exports:{}}).exports,C),C.exports);var jt=(S,C,d,g)=>{if(C&&typeof C=="object"||typeof C=="function")for(let f of Lt(C))!Rt.call(S,f)&&f!==d&&Mt(S,f,{get:()=>C[f],enumerable:!(g=Pt(C,f))||g.enumerable});return S};var Ft=(S,C,d)=>(d=S!=null?Nt(Ot(S)):{},jt(C||!S||!S.__esModule?Mt(d,"default",{value:S,enumerable:!0}):d,S));var It=Ht((Ct,Dt)=>{(function(S,C){typeof Ct=="object"&&typeof Dt=="object"?Dt.exports=C():typeof define=="function"&&define.amd?define("dhtmlxgantt",[],C):typeof Ct=="object"?Ct.dhtmlxgantt=C():S.dhtmlxgantt=C()})(window,function(){return function(S){var C={};function d(g){if(C[g])return C[g].exports;var f=C[g]={i:g,l:!1,exports:{}};return S[g].call(f.exports,f,f.exports,d),f.l=!0,f.exports}return d.m=S,d.c=C,d.d=function(g,f,s){d.o(g,f)||Object.defineProperty(g,f,{enumerable:!0,get:s})},d.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},d.t=function(g,f){if(1&f&&(g=d(g)),8&f||4&f&&typeof g=="object"&&g&&g.__esModule)return g;var s=Object.create(null);if(d.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:g}),2&f&&typeof g!="string")for(var u in g)d.d(s,u,function(i){return g[i]}.bind(null,u));return s},d.n=function(g){var f=g&&g.__esModule?function(){return g.default}:function(){return g};return d.d(f,"a",f),f},d.o=function(g,f){return Object.prototype.hasOwnProperty.call(g,f)},d.p="/codebase/",d(d.s=257)}([function(S,C,d){function g(i){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}var f,s=d(2),u={}.constructor.toString();S.exports={copy:function i(o){var n,t;if(o&&g(o)=="object")switch(!0){case s.isDate(o):t=new Date(o);break;case s.isArray(o):for(t=new Array(o.length),n=0;n<o.length;n++)t[n]=i(o[n]);break;default:for(n in t=function(e){return e.constructor.toString()!==u}(o)?Object.create(o):{},o)Object.prototype.hasOwnProperty.apply(o,[n])&&(t[n]=i(o[n]))}return t||o},defined:function(i){return i!==void 0},mixin:function(i,o,n){for(var t in o)(i[t]===void 0||n)&&(i[t]=o[t]);return i},uid:function(){return f||(f=new Date().valueOf()),++f},bind:function(i,o){return i.bind?i.bind(o):function(){return i.apply(o,arguments)}},event:function(i,o,n,t){i.addEventListener?i.addEventListener(o,n,t!==void 0&&t):i.attachEvent&&i.attachEvent("on"+o,n)},eventRemove:function(i,o,n,t){i.removeEventListener?i.removeEventListener(o,n,t!==void 0&&t):i.detachEvent&&i.detachEvent("on"+o,n)}}},function(S,C){function d(a){var l=0,h=0,c=0,_=0;if(a.getBoundingClientRect){var p=a.getBoundingClientRect(),v=document.body,m=document.documentElement||document.body.parentNode||document.body,k=window.pageYOffset||m.scrollTop||v.scrollTop,y=window.pageXOffset||m.scrollLeft||v.scrollLeft,w=m.clientTop||v.clientTop||0,$=m.clientLeft||v.clientLeft||0;l=p.top+k-w,h=p.left+y-$,c=document.body.offsetWidth-p.right,_=document.body.offsetHeight-p.bottom}else{for(;a;)l+=parseInt(a.offsetTop,10),h+=parseInt(a.offsetLeft,10),a=a.offsetParent;c=document.body.offsetWidth-a.offsetWidth-h,_=document.body.offsetHeight-a.offsetHeight-l}return{y:Math.round(l),x:Math.round(h),width:a.offsetWidth,height:a.offsetHeight,right:Math.round(c),bottom:Math.round(_)}}function g(a){var l=!1,h=!1;if(window.getComputedStyle){var c=window.getComputedStyle(a,null);l=c.display,h=c.visibility}else a.currentStyle&&(l=a.currentStyle.display,h=a.currentStyle.visibility);return l!="none"&&h!="hidden"}function f(a){return!isNaN(a.getAttribute("tabindex"))&&1*a.getAttribute("tabindex")>=0}function s(a){return!{a:!0,area:!0}[a.nodeName.loLowerCase()]||!!a.getAttribute("href")}function u(a){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[a.nodeName.toLowerCase()]||!a.hasAttribute("disabled")}function i(a){if(!a)return"";var l=a.className||"";return l.baseVal&&(l=l.baseVal),l.indexOf||(l=""),t(l)}var o;function n(a){var l;return a.tagName?l=a:(l=(a=a||window.event).target||a.srcElement).shadowRoot&&a.composedPath&&(l=a.composedPath()[0]),l}function t(a){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(a)}function e(){return document.head.createShadowRoot||document.head.attachShadow}function r(a){if(!a||!e())return document.body;for(;a.parentNode&&(a=a.parentNode);)if(a instanceof ShadowRoot)return a.host;return document.body}S.exports={getNodePosition:d,getFocusableNodes:function(a){for(var l=a.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),h=Array.prototype.slice.call(l,0),c=0;c<h.length;c++)h[c].$position=c;for(h.sort(function(p,v){return p.tabIndex===0&&v.tabIndex!==0?1:p.tabIndex!==0&&v.tabIndex===0?-1:p.tabIndex===v.tabIndex?p.$position-v.$position:p.tabIndex<v.tabIndex?-1:1}),c=0;c<h.length;c++){var _=h[c];(f(_)||u(_)||s(_))&&g(_)||(h.splice(c,1),c--)}return h},getScrollSize:function(){var a=document.createElement("div");a.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(a);var l=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),l},getClassName:i,addClassName:function(a,l){l&&a.className.indexOf(l)===-1&&(a.className+=" "+l)},removeClassName:function(a,l){l=l.split(" ");for(var h=0;h<l.length;h++){var c=new RegExp("\\s?\\b"+l[h]+"\\b(?![-_.])","");a.className=a.className.replace(c,"")}},insertNode:function(a,l){o||(o=document.createElement("div")),o.innerHTML=l;var h=o.firstChild;return a.appendChild(h),h},removeNode:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},getChildNodes:function(a,l){for(var h=a.childNodes,c=h.length,_=[],p=0;p<c;p++){var v=h[p];v.className&&v.className.indexOf(l)!==-1&&_.push(v)}return _},toNode:function(a){return typeof a=="string"?document.getElementById(a)||document.querySelector(a)||document.body:a||document.body},locateClassName:function(a,l,h){var c=n(a),_="";for(h===void 0&&(h=!0);c;){if(_=i(c)){var p=_.indexOf(l);if(p>=0){if(!h)return c;var v=p===0||!t(_.charAt(p-1)),m=p+l.length>=_.length||!t(_.charAt(p+l.length));if(v&&m)return c}}c=c.parentNode}return null},locateAttribute:function(a,l){if(l){for(var h=n(a);h;){if(h.getAttribute&&h.getAttribute(l))return h;h=h.parentNode}return null}},getTargetNode:n,getRelativeEventPosition:function(a,l){var h=document.documentElement,c=d(l);return{x:a.clientX+h.scrollLeft-h.clientLeft-c.x+l.scrollLeft,y:a.clientY+h.scrollTop-h.clientTop-c.y+l.scrollTop}},isChildOf:function(a,l){if(!a||!l)return!1;for(;a&&a!=l;)a=a.parentNode;return a===l},hasClass:function(a,l){return"classList"in a?a.classList.contains(l):new RegExp("\\b"+l+"\\b").test(a.className)},closest:function(a,l){if(a.closest)return a.closest(l);if(a.matches||a.msMatchesSelector||a.webkitMatchesSelector){var h=a;if(!document.documentElement.contains(h))return null;do{if((h.matches||h.msMatchesSelector||h.webkitMatchesSelector).call(h,l))return h;h=h.parentElement||h.parentNode}while(h!==null&&h.nodeType===1);return null}return console.error("Your browser is not supported"),null},getRootNode:r,hasShadowParent:function(a){return!!r(a)},isShadowDomSupported:e,getActiveElement:function(){var a=document.activeElement;return a.shadowRoot&&(a=a.shadowRoot.activeElement),a===document.body&&document.getSelection&&(a=document.getSelection().focusNode||document.body),a}}},function(S,C){function d(i){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}var g={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function f(i){return!(!i||d(i)!=="object")&&!!(i.getFullYear&&i.getMonth&&i.getDate)}function s(i,o){var n=[];if(i.filter)return i.filter(o);for(var t=0;t<i.length;t++)o(i[t],t)&&(n[n.length]=i[t]);return n}function u(i){return i===0}S.exports={getSecondsInUnit:function(i){return g[i]||g.hour},forEach:function(i,o){if(i.forEach)i.forEach(o);else for(var n=i.slice(),t=0;t<n.length;t++)o(n[t],t)},arrayMap:function(i,o){if(i.map)return i.map(o);for(var n=i.slice(),t=[],e=0;e<n.length;e++)t.push(o(n[e],e));return t},arrayIncludes:function(i,o){if(i.includes)return i.includes(o);for(var n=0;n<i.length;n++)if(i[n]===o)return!0;return!1},arrayFind:function(i,o){if(i.find)return i.find(o);for(var n=0;n<i.length;n++)if(o(i[n],n))return i[n]},arrayFilter:s,arrayDifference:function(i,o){return s(i,function(n,t){return!o(n,t)})},arraySome:function(i,o){if(i.length===0)return!1;for(var n=0;n<i.length;n++)if(o(i[n],n,i))return!0;return!1},hashToArray:function(i){var o=[];for(var n in i)i.hasOwnProperty(n)&&o.push(i[n]);return o},sortArrayOfHash:function(i,o,n){var t=function(e,r){return e<r};i.sort(function(e,r){return e[o]===r[o]?0:n?t(e[o],r[o]):t(r[o],e[o])})},throttle:function(i,o){var n=!1;return function(){n||(i.apply(null,arguments),n=!0,setTimeout(function(){n=!1},o))}},isArray:function(i){return Array.isArray?Array.isArray(i):i&&i.length!==void 0&&i.pop&&i.push},isDate:f,isValidDate:function(i){return f(i)&&!isNaN(i.getTime())},isStringObject:function(i){return i&&d(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function String() { [native code] }"},isNumberObject:function(i){return i&&d(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function Number() { [native code] }"},isBooleanObject:function(i){return i&&d(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function Boolean() { [native code] }"},delay:function(i,o){var n,t=function e(){e.$cancelTimeout(),e.$pending=!0;var r=Array.prototype.slice.call(arguments);n=setTimeout(function(){i.apply(this,r),e.$pending=!1},o)};return t.$pending=!1,t.$cancelTimeout=function(){clearTimeout(n),t.$pending=!1},t.$execute=function(){var e=Array.prototype.slice.call(arguments);i.apply(this,e),t.$cancelTimeout()},t},objectKeys:function(i){if(Object.keys)return Object.keys(i);var o,n=[];for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.push(o);return n},isEventable:function(i){return i.attachEvent&&i.detachEvent},replaceValidZeroId:function(i,o){return u(i)&&!u(o)&&(i="0"),i},checkZeroId:u,findBinary:function(i,o){for(var n,t,e,r=0,a=i.length-1;r<=a;)if(t=+i[n=Math.floor((r+a)/2)],e=+i[n-1],t<o)r=n+1;else{if(!(t>o)){for(;+i[n]==+i[n+1];)n++;return n}if(!isNaN(e)&&e<o)return n-1;a=n-1}return i.length-1}}},function(S,C){S.exports=function(d,g){for(var f in g)g.hasOwnProperty(f)&&(d[f]=g[f]);function s(){this.constructor=d}d.prototype=g===null?Object.create(g):(s.prototype=g.prototype,new s)}},function(S,C){var d=function(){this._silent_mode=!1,this.listeners={}};d.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};var g=function(f){var s={},u=0,i=function(){var o=!0;for(var n in s){var t=s[n].apply(f,arguments);o=o&&t}return o};return i.addEvent=function(o,n){if(typeof o=="function"){var t;if(n&&n.id?t=n.id:(t=u,u++),n&&n.once){var e=o;o=function(){e(),i.removeEvent(t)}}return s[t]=o,t}return!1},i.removeEvent=function(o){delete s[o]},i.clear=function(){s={}},i};S.exports=function(f){var s=new d;f.attachEvent=function(u,i,o){u="ev_"+u.toLowerCase(),s.listeners[u]||(s.listeners[u]=g(this)),o&&o.thisObject&&(i=i.bind(o.thisObject));var n=u+":"+s.listeners[u].addEvent(i,o);return o&&o.id&&(n=o.id),n},f.attachAll=function(u){this.attachEvent("listen_all",u)},f.callEvent=function(u,i){if(s._silent_mode)return!0;var o="ev_"+u.toLowerCase(),n=s.listeners;return n.ev_listen_all&&n.ev_listen_all.apply(this,[u].concat(i)),!n[o]||n[o].apply(this,i)},f.checkEvent=function(u){return!!s.listeners["ev_"+u.toLowerCase()]},f.detachEvent=function(u){if(u){var i=s.listeners;for(var o in i)i[o].removeEvent(u);var n=u.split(":");if(i=s.listeners,n.length===2){var t=n[0],e=n[1];i[t]&&i[t].removeEvent(e)}}},f.detachAllEvents=function(){for(var u in s.listeners)s.listeners[u].clear()}}},function(S,C){S.exports=function(d,g,f,s,u){var i=g.getItemIndexByTopPosition(u.y)||0,o=g.getItemIndexByTopPosition(u.y_end)||s.count();return{start:Math.max(0,i-1),end:Math.min(s.count(),o+1)}}},function(S,C){function d(){console.log("Method is not implemented.")}function g(){}g.prototype.render=d,g.prototype.set_value=d,g.prototype.get_value=d,g.prototype.focus=d,S.exports=function(f){return g}},function(S,C){S.exports=function(d){var g=function(){};return g.prototype={show:function(f,s,u,i){},hide:function(){},set_value:function(f,s,u,i){this.get_input(i).value=f},get_value:function(f,s,u){return this.get_input(u).value||""},is_changed:function(f,s,u,i){var o=this.get_value(s,u,i);return o&&f&&o.valueOf&&f.valueOf?o.valueOf()!=f.valueOf():o!=f},is_valid:function(f,s,u,i){return!0},save:function(f,s,u){},get_input:function(f){return f.querySelector("input")},focus:function(f){var s=this.get_input(f);s&&(s.focus&&s.focus(),s.select&&s.select())}},g}},function(S,C){var d=typeof window<"u",g={isIE:d&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:d&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:d&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:d&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:d&&navigator.userAgent.indexOf("Opera")>=0,isChrome:d&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:d&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:d&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:d&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:d&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!d||typeof navigator>"u"};S.exports=g},function(S,C,d){var g=d(0),f=d(4),s=d(1),u=function(){"use strict";function i(o,n,t,e){o&&(this.$container=s.toNode(o),this.$parent=o),this.$config=g.mixin(n,{headerHeight:33}),this.$gantt=e,this.$domEvents=e._createDomEventScope(),this.$id=n.id||"c"+g.uid(),this.$name="cell",this.$factory=t,f(this)}return i.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},i.prototype.cell=function(o){return null},i.prototype.scrollTo=function(o,n){var t=this.$view;this.$config.html&&(t=this.$view.firstChild),1*o==o&&(t.scrollLeft=o),1*n==n&&(t.scrollTop=n)},i.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},i.prototype.resize=function(o){if(this.$parent)return this.$parent.resize(o);o===!1&&(this.$preResize=!0);var n=this.$container,t=n.offsetWidth,e=n.offsetHeight,r=this.getSize();n===document.body&&(t=document.body.offsetWidth,e=document.body.offsetHeight),t<r.minWidth&&(t=r.minWidth),t>r.maxWidth&&(t=r.maxWidth),e<r.minHeight&&(e=r.minHeight),e>r.maxHeight&&(e=r.maxHeight),this.setSize(t,e),this.$preResize,this.$preResize=!1},i.prototype.hide=function(){this._hide(!0),this.resize()},i.prototype.show=function(o){this._hide(!1),o&&this.$parent&&this.$parent.show(),this.resize()},i.prototype._hide=function(o){if(o===!0&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(o===!1&&!this.$view.parentNode){var n=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,n)}this.$config.hidden=o},i.prototype.$toHTML=function(o,n){o===void 0&&(o=""),n=[n||"",this.$config.css||""].join(" ");var t=this.$config,e="";return t.raw?o=typeof t.raw=="string"?t.raw:"":(o||(o="<div class='gantt_layout_content' "+(n?" class='"+n+"' ":"")+" >"+(t.html||"")+"</div>"),t.header&&(e="<div class='gantt_layout_header'>"+(t.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+t.header+"</div></div>")),"<div class='gantt_layout_cell "+n+"' data-cell-id='"+this.$id+"'>"+e+o+"</div>"},i.prototype.$fill=function(o,n){this.$view=o,this.$parent=n,this.init()},i.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},i.prototype.init=function(){var o=this;this._headerClickHandler=function(n){s.locateAttribute(n,"data-cell-id")==o.$id&&o.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},i.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},i.prototype.getSize=function(){var o={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var n=this.$config.mode==="x";o[n?"width":"height"]=o[n?"maxWidth":"maxHeight"]=this.$config.headerHeight}return o},i.prototype.getContentSize=function(){var o=this.$lastSize.contentX;o!==1*o&&(o=this.$lastSize.width);var n=this.$lastSize.contentY;return n!==1*n&&(n=this.$lastSize.height),{width:o,height:n}},i.prototype._getBorderSizes=function(){var o={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(o.left=1,o.horizontal++),this._currentBorders[this._borders.right]&&(o.right=1,o.horizontal++),this._currentBorders[this._borders.top]&&(o.top=1,o.vertical++),this._currentBorders[this._borders.bottom]&&(o.bottom=1,o.vertical++)),o},i.prototype.setSize=function(o,n){this.$view.style.width=o+"px",this.$view.style.height=n+"px";var t=this._getBorderSizes(),e=n-t.vertical,r=o-t.horizontal;this.$lastSize={x:o,y:n,contentX:r,contentY:e},this.$config.header?this._sizeHeader():this._sizeContent()},i.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},i.prototype._setBorders=function(o,n){n||(n=this);var t=n.$view;for(var e in this._borders)s.removeClassName(t,this._borders[e]);typeof o=="string"&&(o=[o]);var r={};for(e=0;e<o.length;e++)s.addClassName(t,o[e]),r[o[e]]=!0;n._currentBorders=r},i.prototype._sizeContent=function(){var o=this.$view.childNodes[0];o&&o.className=="gantt_layout_content"&&(o.style.height=this.$lastSize.contentY+"px")},i.prototype._sizeHeader=function(){var o=this.$lastSize;o.contentY-=this.$config.headerHeight;var n=this.$view.childNodes[0],t=this.$view.childNodes[1],e=this.$config.mode==="x";if(this.$config.collapsed)if(t.style.display="none",e){n.className="gantt_layout_header collapsed_x",n.style.width=o.y+"px";var r=Math.floor(o.y/2-o.x/2);n.style.transform="rotate(90deg) translate("+r+"px, "+r+"px)",t.style.display="none"}else n.className="gantt_layout_header collapsed_y";else n.className=e?"gantt_layout_header":"gantt_layout_header vertical",n.style.width="auto",n.style.transform="",t.style.display="",t.style.height=o.contentY+"px";n.style.height=this.$config.headerHeight+"px"},i}();S.exports=u},function(S,C,d){var g=d(8);S.exports=function(f){return g.isNode||!f.$root}},function(S,C){S.exports=function(d,g,f,s){return(s=g?g.config:s)&&s.placeholder_task&&f.exists(d)?f.getItem(d).type===s.types.placeholder:!1}},function(S,C,d){var g=d(3),f=d(29);S.exports=function(s){var u=d(6)(s);function i(){return u.apply(this,arguments)||this}return g(i,u),i.prototype.render=function(o){var n="<div class='gantt_cal_ltext' style='height:"+((o.height||"23")+"px")+";'>";return n+=f.getHtmlSelect(o.options,[{key:"style",value:"width:100%;"}]),n+="</div>"},i.prototype.set_value=function(o,n,t,e){var r=o.firstChild;!r._dhx_onchange&&e.onchange&&(r.onchange=e.onchange,r._dhx_onchange=!0),n===void 0&&(n=(r.options[0]||{}).value),r.value=n||""},i.prototype.get_value=function(o){return o.firstChild.value},i.prototype.focus=function(o){var n=o.firstChild;s._focus(n,!0)},i}},function(S,C){S.exports=function(d,g,f,s,u){if(!d.start_date||!d.end_date)return null;var i=f.getItemTop(d.id),o=f.getItemHeight(d.id);if(i>g.y_end||i+o<g.y)return!1;var n=f.posFromDate(d.start_date),t=f.posFromDate(d.end_date),e=Math.min(n,t)-200,r=Math.max(n,t)+200;return!(e>g.x_end||r<g.x)}},function(S,C){S.exports=function(d){return d.config.smart_rendering&&d._smart_render}},function(S,C){function d(f){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(f)}var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch{(typeof window>"u"?"undefined":d(window))==="object"&&(g=window)}S.exports=g},function(S,C,d){(function(g){var f;f=typeof window<"u"?window:g,S.exports=f}).call(this,d(15))},function(S,C,d){var g=d(0);S.exports={createDropTargetObject:function(f){var s={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return f&&g.mixin(s,f,!0),s},nextSiblingTarget:function(f,s,u){var i=this.createDropTargetObject();return i.targetId=s,i.nextSibling=!0,i.targetParent=u.getParent(i.targetId),i.targetIndex=u.getBranchIndex(i.targetId),(u.getParent(f)!=i.targetParent||i.targetIndex<u.getBranchIndex(f))&&(i.targetIndex+=1),i},prevSiblingTarget:function(f,s,u){var i=this.createDropTargetObject();return i.targetId=s,i.prevSibling=!0,i.targetParent=u.getParent(i.targetId),i.targetIndex=u.getBranchIndex(i.targetId),u.getParent(f)==i.targetParent&&i.targetIndex>u.getBranchIndex(f)&&(i.targetIndex-=1),i},firstChildTarget:function(f,s,u){var i=this.createDropTargetObject();return i.targetId=s,i.targetParent=i.targetId,i.targetIndex=0,i.child=!0,i},lastChildTarget:function(f,s,u){var i=u.getChildren(s),o=this.createDropTargetObject();return o.targetId=i[i.length-1],o.targetParent=s,o.targetIndex=i.length,o.nextSibling=!0,o}}},function(S,C,d){var g=d(14);S.exports=function(f,s,u,i){var o=s.width[f];if(o<=0)return!1;if(!i.config.smart_rendering||g(i))return!0;var n=s.left[f]-o,t=s.left[f]+o;return n<=u.x_end&&t>=u.x}},function(S,C){S.exports=function(d,g){var f=0,s=d.left.length-1;if(g)for(var u=0;u<d.left.length;u++){var i=d.left[u];if(i<g.x&&(f=u),i>g.x_end){s=u;break}}return{start:f,end:s}}},function(S,C){S.exports=function(d,g,f){return{top:g.getItemTop(d.id),height:g.getItemHeight(d.id),left:0,right:1/0}}},function(S,C){S.exports=function(d){function g(i,o,n){if(!d._isAllowedUnscheduledTask(i)&&d._isTaskInTimelineLimits(i)){var t=o.getItemPosition(i),e=n,r=o.$getTemplates(),a=d.getTaskType(i.type),l=o.getBarHeight(i.id,a==e.types.milestone),h=0;a==e.types.milestone&&(h=(l-t.height)/2);var c=Math.floor((o.getItemHeight(i.id)-l)/2);a==e.types.milestone&&(t.left-=Math.round(l/2),t.width=l);var _=document.createElement("div"),p=Math.round(t.width);o.$config.item_attribute&&(_.setAttribute(o.$config.item_attribute,i.id),_.setAttribute(o.$config.bind+"_id",i.id)),e.show_progress&&a!=e.types.milestone&&function($,b,x,T,E){var D=1*$.progress||0;x=Math.max(x-2,0);var A=document.createElement("div"),M=Math.round(x*D);M=Math.min(x,M),$.progressColor&&(A.style.backgroundColor=$.progressColor,A.style.opacity=1),A.style.width=M+"px",A.className="gantt_task_progress",A.innerHTML=E.progress_text($.start_date,$.end_date,$),T.rtl&&(A.style.position="absolute",A.style.right="0px");var I=document.createElement("div");if(I.className="gantt_task_progress_wrapper",I.appendChild(A),b.appendChild(I),d.config.drag_progress&&!d.isReadonly($)){var N=document.createElement("div"),P=M;T.rtl&&(P=x-M),N.style.left=P+"px",N.className="gantt_task_progress_drag",A.appendChild(N),b.appendChild(N)}}(i,_,p,e,r);var v=function($,b,x){var T=document.createElement("div");return d.getTaskType($.type)!=d.config.types.milestone?T.innerHTML=x.task_text($.start_date,$.end_date,$):d.getTaskType($.type)==d.config.types.milestone&&b&&(T.style.height=T.style.width=b+"px"),T.className="gantt_task_content",T}(i,p,r);i.textColor&&(v.style.color=i.textColor),_.appendChild(v);var m=function($,b,x,T){var E=T.$getConfig(),D=[$];b&&D.push(b);var A=d.getState(),M=d.getTask(x);if(d.getTaskType(M.type)==E.types.milestone?D.push("gantt_milestone"):d.getTaskType(M.type)==E.types.project&&D.push("gantt_project"),D.push("gantt_bar_"+d.getTaskType(M.type)),d.isSummaryTask(M)&&D.push("gantt_dependent_task"),d.isSplitTask(M)&&(E.open_split_tasks&&!M.$open||!E.open_split_tasks)&&D.push("gantt_split_parent"),E.select_task&&d.isSelectedTask(x)&&D.push("gantt_selected"),x==A.drag_id&&(D.push("gantt_drag_"+A.drag_mode),A.touch_drag&&D.push("gantt_touch_"+A.drag_mode)),A.link_source_id==x&&D.push("gantt_link_source"),A.link_target_id==x&&D.push("gantt_link_target"),E.highlight_critical_path&&d.isCriticalTask&&d.isCriticalTask(M)&&D.push("gantt_critical_task"),A.link_landing_area&&A.link_target_id&&A.link_source_id&&A.link_target_id!=A.link_source_id&&(A.link_target_id==x||A.link_source_id==x)){var I=A.link_source_id,N=A.link_from_start,P=A.link_to_start,O=d.isLinkAllowed(I,x,N,P),H="";H=O?P?"link_start_allow":"link_finish_allow":P?"link_start_deny":"link_finish_deny",D.push(H)}return D.join(" ")}("gantt_task_line",r.task_class(i.start_date,i.end_date,i),i.id,o);(i.color||i.progressColor||i.textColor)&&(m+=" gantt_task_inline_color"),t.width<20&&(m+=" gantt_thin_task"),_.className=m;var k=["left:"+t.left+"px","top:"+(c+t.top)+"px","height:"+(a==e.types.milestone?t.height:l)+"px","line-height:"+Math.max(l<30?l-2:l,0)+"px","width:"+p+"px"];i.color&&k.push("background-color:"+i.color),i.textColor&&k.push("color:"+i.textColor),_.style.cssText=k.join(";");var y=function($,b,x,T){var E="gantt_left "+s(!b.rtl,$),D=null;return T&&(D={type:"marginRight",value:T}),f($,x.leftside_text,E,D)}(i,e,r,h);y&&_.appendChild(y),(y=function($,b,x,T){var E="gantt_right "+s(!!b.rtl,$),D=null;return T&&(D={type:"marginLeft",value:T}),f($,x.rightside_text,E,D)}(i,e,r,h))&&_.appendChild(y),d._waiAria.setTaskBarAttr(i,_);var w=d.getState();return d.isReadonly(i)||(e.drag_resize&&!d.isSummaryTask(i)&&a!=e.types.milestone&&u(_,"gantt_task_drag",i,function($){var b=document.createElement("div");return b.className=$,b},e),e.drag_links&&e.show_links&&u(_,"gantt_link_control",i,function($){var b=document.createElement("div");b.className=$,b.style.cssText=["height:"+l+"px","line-height:"+l+"px"].join(";");var x=document.createElement("div");x.className="gantt_link_point";var T=!1;return w.link_source_id&&e.touch&&(T=!0),x.style.display=T?"block":"",b.appendChild(x),b},e,h)),_}}function f(i,o,n,t){if(!o)return null;var e=o(i.start_date,i.end_date,i);if(!e)return null;var r=document.createElement("div");return r.className="gantt_side_content "+n,r.innerHTML=e,t&&(r.style[t.type]=Math.abs(t.value)+"px"),r}function s(i,o){var n=function(h){return h?{$source:[d.config.links.start_to_start],$target:[d.config.links.start_to_start,d.config.links.finish_to_start]}:{$source:[d.config.links.finish_to_start,d.config.links.finish_to_finish],$target:[d.config.links.finish_to_finish]}}(i);for(var t in n)for(var e=o[t],r=0;r<e.length;r++)for(var a=d.getLink(e[r]),l=0;l<n[t].length;l++)if(a.type==n[t][l])return"gantt_link_crossing";return""}function u(i,o,n,t,e,r){var a,l=d.getState();+n.start_date>=+l.min_date&&((a=t([o,e.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),r&&(a.style.marginLeft=r+"px"),i.appendChild(a)),+n.end_date<=+l.max_date&&((a=t([o,e.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),r&&(a.style.marginRight=r+"px"),i.appendChild(a))}return function(i,o,n){var t=(n=o.$getConfig()).type_renderers[d.getTaskType(i.type)],e=g;return t?t.call(d,i,function(r){return e.call(d,r,o,n)},o):e.call(d,i,o,n)}}},function(S,C,d){var g=d(26),f=d(4),s=d(0),u=d(2),i=d(36),o=d(106),n=function(t,e,r,a){this.$config=s.mixin({},e||{}),this.$scaleHelper=new g(a),this.$gantt=a,this._posFromDateCache={},this._timelineDragScroll=null,s.mixin(this,i(this)),f(this)};n.prototype={init:function(t){t.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=t.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var e=this.$getConfig(),r=e[this.$config.bind+"_attribute"],a=e[this.$config.bindLinks+"_attribute"];!r&&this.$config.bind&&(r="data-"+this.$config.bind+"-id"),!a&&this.$config.bindLinks&&(a="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=r||null,this.$config.link_attribute=a||null;var l=this._createLayerConfig();this.$config.layers||(this.$config.layers=l.tasks),this.$config.linkLayers||(this.$config.linkLayers=l.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(t,e){var r=this.$getConfig();if(1*t===t&&(this.$config.width=t),1*e===e){this.$config.height=e;var a=Math.max(this.$config.height-r.scale_height);this.$task_data.style.height=a+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",r.smart_rendering&&this.$config.rowStore?this.$task_bg.style.height=this.getTotalHeight()+"px":this.$task_bg.style.height="";for(var l=this._tasks,h=this.$task_data.childNodes,c=0,_=h.length;c<_;c++){var p=h[c];p.hasAttribute("data-layer")&&p.style&&(p.style.width=l.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var t=this.$getConfig(),e=this.$config.rowStore?this.getTotalHeight():0,r=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?r:0,contentY:this.isVisible()?t.scale_height+e:0,scrollHeight:this.isVisible()?e:0,scrollWidth:this.isVisible()?r:0}},scrollTo:function(t,e){if(this.isVisible()){var r=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*e===e&&(this.$config.scrollTop=e,this.$task_data.scrollTop=this.$config.scrollTop,r=!0),1*t===t&&(this.$task.scrollLeft=t,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),r=!0),r&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var t=this.getViewPort(),e=this._scales;this.$task_scale.innerHTML=this._getScaleChunkHtml(e,t.x,t.x_end)}},getViewPort:function(){var t=this.$config.scrollLeft||0,e=this.$config.scrollTop||0,r=this.$config.height||0,a=this.$config.width||0;return{y:e,y_end:e+r,x:t,x_end:t+a,height:r,width:a}},_createLayerConfig:function(){var t=this,e=function(){return t.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[e,function(r,a){return!a.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[e],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[e],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[e]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[e]}]}},_attachLayers:function(t){this._taskLayers=[],this._linkLayers=[];var e=this,r=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var a=r.getDataRender(this.$config.bind);a||(a=r.createDataRender({name:this.$config.bind,defaultContainer:function(){return e.$task_data}})),a.container=function(){return e.$task_data};for(var l=this.$config.layers,h=0;l&&h<l.length;h++){typeof(v=l[h])=="string"&&(v=this.$gantt.$ui.layers[v]()),(typeof v=="function"||v&&v.render&&v.update)&&(v={renderer:v}),v.view=this;var c=a.addLayer(v);this._taskLayers.push(c),v.expose&&(this._taskRenderer=a.getLayer(c))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){e.$config.linkStore=e.$gantt.getDatastore(e.$config.bindLinks);var _=r.getDataRender(this.$config.bindLinks);_||(_=r.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return e.$task_data}}));var p=this.$config.linkLayers;for(h=0;p&&h<p.length;h++){var v;typeof v=="string"&&(v=this.$gantt.$ui.layers[v]()),(v=p[h]).view=this;var m=_.addLayer(v);this._taskLayers.push(m),p[h].expose&&(this._linkRenderer=_.getLayer(m))}}},_initStaticBackgroundRender:function(){var t=this,e=o.create(),r=t.$config.rowStore;r&&(this._staticBgHandler=r.attachEvent("onStoreUpdated",function(a,l,h){if(a===null&&t.isVisible()){var c=t.$getConfig();if(c.static_background||c.timeline_placeholder){var _=t.$gantt.getDatastore(t.$config.bind),p=t.$task_bg_static;if(p||((p=document.createElement("div")).className="gantt_task_bg",t.$task_bg_static=p,t.$task_bg.nextSibling?t.$task_data.insertBefore(p,t.$task_bg.nextSibling):t.$task_data.appendChild(p)),_){var v=t.getTotalHeight();c.timeline_placeholder&&(v=c.timeline_placeholder.height||t.$task_data.offsetHeight||99999),e.render(p,c,t.getScale(),v,t.getItemHeight(l?l.id:null))}}else c.static_background&&t.$task_bg_static&&t.$task_bg_static.parentNode&&t.$task_bg_static.parentNode.removeChild(t.$task_bg_static)}}),this.attachEvent("onDestroy",function(){e.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(t){var e=this.$gantt.$services.getService("layers"),r=e.getDataRender(this.$config.bind),a=e.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var l=0;l<this._taskLayers.length;l++)r.removeLayer(this._taskLayers[l]);if(this._linkLayers)for(l=0;l<this._linkLayers.length;l++)a.removeLayer(this._linkLayers[l]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var t=this.$getConfig(),e="",r=0,a=0,l=this.$gantt.getState();if(this.isVisible()){var h=this.$scaleHelper,c=this._getScales();a=t.scale_height;var _=this.$config.width;t.autosize!="x"&&t.autosize!="xy"||(_=Math.max(t.autosize_min_width,0));var p=h.prepareConfigs(c,t.min_column_width,_,a-1,l.min_date,l.max_date,t.rtl),v=this._tasks=p[p.length-1];this._scales=p,this._posFromDateCache={},e=this._getScaleChunkHtml(p,0,this.$config.width),r=v.full_width+"px",a+="px"}this.$task_scale.style.height=a,this.$task_data.style.width=this.$task_scale.style.width=r,this.$task_scale.innerHTML=e},_getScaleChunkHtml:function(t,e,r){for(var a=[],l=this.$gantt.templates.scale_row_class,h=0;h<t.length;h++){var c="gantt_scale_line",_=l(t[h]);_&&(c+=" "+_),a.push('<div class="'+c+'" style="height:'+t[h].height+"px;position:relative;line-height:"+t[h].height+'px">'+this._prepareScaleHtml(t[h],e,r)+"</div>")}return a.join("")},_prepareScaleHtml:function(t,e,r){var a=this.$getConfig(),l=this.$gantt.templates,h=[],c=null,_=null,p=t.format||t.template||t.date;typeof p=="string"&&(p=this.$gantt.date.date_to_str(p));var v=0,m=t.count;!a.smart_scales||isNaN(e)||isNaN(r)||(v=u.findBinary(t.left,e),m=u.findBinary(t.left,r)+1),_=t.css||function(){},!t.css&&a.inherit_scale_class&&(_=l.scale_cell_class);for(var k=v;k<m&&t.trace_x[k];k++){c=new Date(t.trace_x[k]);var y=p.call(this,c),w=t.width[k],$=t.height,b=t.left[k],x="",T="",E="";if(w){x="width:"+w+"px;height:"+$+"px;"+(a.smart_scales?"position:absolute;left:"+b+"px":""),E="gantt_scale_cell"+(k==t.count-1?" gantt_last_cell":""),(T=_.call(this,c))&&(E+=" "+T);var D="<div class='"+E+"'"+this.$gantt._waiAria.getTimelineCellAttr(y)+" style='"+x+"'>"+y+"</div>";h.push(D)}}return h.join("")},dateFromPos:function(t){var e=this._tasks;if(t<0||t>e.full_width||!e.full_width)return null;var r=u.findBinary(this._tasks.left,t),a=this._tasks.left[r],l=e.width[r]||e.col_width,h=0;l&&(h=(t-a)/l,e.rtl&&(h=1-h));var c=0;return h&&(c=this._getColumnDuration(e,e.trace_x[r])),new Date(e.trace_x[r].valueOf()+Math.round(h*c))},posFromDate:function(t){if(!this.isVisible()||!t)return 0;var e=String(t.valueOf());if(this._posFromDateCache[e]!==void 0)return this._posFromDateCache[e];var r=this.columnIndexByDate(t);this.$gantt.assert(r>=0,"Invalid day index");var a=Math.floor(r),l=r%1,h=this._tasks.left[Math.min(a,this._tasks.width.length-1)];a==this._tasks.width.length&&(h+=this._tasks.width[this._tasks.width.length-1]),l&&(a<this._tasks.width.length?h+=this._tasks.width[a]*(l%1):h+=1);var c=Math.round(h);return this._posFromDateCache[e]=c,Math.round(c)},_getNextVisibleColumn:function(t,e,r){for(var a=+e[t],l=t;r[a];)a=+e[++l];return l},_getPrevVisibleColumn:function(t,e,r){for(var a=+e[t],l=t;r[a];)a=+e[--l];return l},_getClosestVisibleColumn:function(t,e,r){var a=this._getNextVisibleColumn(t,e,r);return e[a]||(a=this._getPrevVisibleColumn(t,e,r)),a},columnIndexByDate:function(t){var e=new Date(t).valueOf(),r=this._tasks.trace_x_ascending,a=this._tasks.ignore_x,l=this.$gantt.getState();if(e<=l.min_date)return this._tasks.rtl?r.length:0;if(e>=l.max_date)return this._tasks.rtl?0:r.length;var h=u.findBinary(r,e),c=this._getClosestVisibleColumn(h,r,a),_=r[c],p=this._tasks.trace_index_transition;if(!_)return p?p[0]:0;var v=(t-r[c])/this._getColumnDuration(this._tasks,r[c]);return p?p[c]+(1-v):c+v},getItemPosition:function(t,e,r){var a,l,h;return this._tasks.rtl?(l=this.posFromDate(e||t.start_date),a=this.posFromDate(r||t.end_date)):(a=this.posFromDate(e||t.start_date),l=this.posFromDate(r||t.end_date)),h=Math.max(l-a,0),{left:a,top:this.getItemTop(t.id),height:this.getBarHeight(t.id),width:h,rowHeight:this.getItemHeight(t.id)}},getBarHeight:function(t,e){var r=this.$getConfig(),a=this.$config.rowStore.getItem(t),l=a.task_height||a.bar_height||r.bar_height||r.task_height,h=this.getItemHeight(t);return l=="full"&&(l=h-(r.task_height_offset||5)),l=Math.min(l,h),e&&(l=Math.round(l/Math.sqrt(2))),Math.max(l,0)},getScale:function(){return this._tasks},_getScales:function(){var t=this.$getConfig(),e=this.$scaleHelper,r=[e.primaryScale(t)].concat(e.getSubScales(t));return e.sortScales(r),r},_getColumnDuration:function(t,e){return this.$gantt.date.add(e,t.step,t.unit)-e},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._timelineCacheAttached){var e=this;t._timelineCacheAttached=t.attachEvent("onBeforeFilter",function(){e._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._timelineCacheAttached&&(t.detachEvent(t._timelineCacheAttached),t._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){var t=this.$gantt;this._clearLayers(t),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},S.exports=n},function(S,C){S.exports=function(d,g,f){return{top:g.getItemTop(d.id),height:g.getItemHeight(d.id),left:0,right:1/0}}},function(S,C){S.exports=function(d){var g=[];return{delegate:function(f,s,u,i){g.push([f,s,u,i]),d.$services.getService("mouseEvents").delegate(f,s,u,i)},destructor:function(){for(var f=d.$services.getService("mouseEvents"),s=0;s<g.length;s++){var u=g[s];f.detach(u[0],u[1],u[2],u[3])}g=[]}}}},function(S,C,d){var g=d(1),f=d(0),s=d(4),u=d(187),i=d(36),o=d(185),n=d(184).default,t=function(e,r,a,l){this.$config=f.mixin({},r||{}),this.$gantt=l,this.$parent=e,s(this),this.$state={},f.mixin(this,i(this))};t.prototype={init:function(e){var r=this.$gantt,a=r._waiAria.gridAttrString(),l=r._waiAria.gridDataAttrString(),h=this.$getConfig(),c=h.reorder_grid_columns||!1;this.$config.reorder_grid_columns!==void 0&&(c=this.$config.reorder_grid_columns),e.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+a+"></div>",this.$grid=e.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+r._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+l+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var _=h[this.$config.bind+"_attribute"];if(!_&&this.$config.bind&&(_="data-"+this.$config.bind+"-id"),this.$config.item_attribute=_||null,!this.$config.layers){var p=this._createLayerConfig();this.$config.layers=p}var v=u(r,this);v.init(),this._renderHeaderResizers=v.doOnRender,this._mouseDelegates=d(24)(r),o(r,this).init(),this._addLayers(this.$gantt),this._initEvents(),c&&(this._columnDND=new n(r,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(e,r){var a=e[r];if(a&&a!="*"){var l=this.$gantt,h=1*a;isNaN(h)?l.assert(!1,"Wrong "+r+" value of column "+e.name):e[r]=h}},setSize:function(e,r){this.$config.width=this.$state.width=e,this.$config.height=this.$state.height=r;for(var a,l=this.getGridColumns(),h=0,c=(y=this.$getConfig()).grid_elastic_columns,_=0,p=l.length;_<p;_++)this._validateColumnWidth(l[_],"min_width"),this._validateColumnWidth(l[_],"max_width"),this._validateColumnWidth(l[_],"width"),h+=1*l[_].width;if(!isNaN(h)&&this.$config.scrollable||(h=a=this._setColumnsWidth(e+1)),this.$config.scrollable&&c&&!isNaN(h)){var v="width";c=="min_width"&&(v="min_width");var m=0;l.forEach(function($){m+=$[v]||y.min_grid_column_width}),m--;var k=Math.max(m,e);h=this._setColumnsWidth(k),a=e}this.$config.scrollable?(this.$grid_scale.style.width=h+"px",this.$grid_data.style.width=h+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var y=this.$getConfig();a!==e&&(a!==void 0?(y.grid_width=a,this.$config.width=a-1):isNaN(h)||(this._setColumnsWidth(h),y.grid_width=h,this.$config.width=h-1));var w=Math.max(this.$state.height-y.scale_height,0);this.$grid_data.style.height=w+"px",this.refresh()},getSize:function(){var e=this.$getConfig(),r=this.$config.rowStore?this.getTotalHeight():0,a=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?a:0,contentY:this.isVisible()?e.scale_height+r:0,scrollHeight:this.isVisible()?r:0,scrollWidth:this.isVisible()?a:0}},_bindStore:function(){if(this.$config.bind){var e=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=e,e&&!e._gridCacheAttached){var r=this;e._gridCacheAttached=e.attachEvent("onBeforeFilter",function(){r._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var e=this.$gantt.getDatastore(this.$config.bind);e&&e._gridCacheAttached&&(e.detachEvent(e._gridCacheAttached),e._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var e=this.$config.scrollLeft||0,r=this.$config.scrollTop||0,a=this.$config.height||0,l=this.$config.width||0;return{y:r,y_end:r+a,x:e,x_end:e+l,height:a,width:l}},scrollTo:function(e,r){if(this.isVisible()){var a=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*e==e&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=e,a=!0),1*r==r&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=r,a=!0),a&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(e,r){for(var a=this.$getConfig().columns,l=0,h=0;h<a.length;h++)if(r&&a[h].hide&&l++,a[h].name==e)return h-l;return null},getColumn:function(e){var r=this.getColumnIndex(e);return r===null?null:this.$getConfig().columns[r]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var e=this.$gantt,r=this;return[{renderer:e.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return r.isVisible()}]},{renderer:e.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return e.config.resize_rows}]}]},_addLayers:function(e){if(this.$config.bind){this._taskLayers=[];var r=this,a=this.$gantt.$services.getService("layers"),l=a.getDataRender(this.$config.bind);l||(l=a.createDataRender({name:this.$config.bind,defaultContainer:function(){return r.$grid_data}}));for(var h=this.$config.layers,c=0;h&&c<h.length;c++){var _=h[c];_.view=this;var p=l.addLayer(_);this._taskLayers.push(p)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(e){var r=this.$getConfig(),a=this.$config.rowStore;if(a&&e===null&&this.isVisible()&&r.smart_rendering){var l;if(this.$config.scrollY){var h=this.$gantt.$ui.getView(this.$config.scrollY);h&&(l=h.getScrollState().scrollSize)}if(l||(l=a?this.getTotalHeight():0),l){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var c=this.$rowsPlaceholder=document.createElement("div");c.style.visibility="hidden",c.style.height=l+"px",c.style.width="1px",this.$grid_data.appendChild(c)}}},_initSmartRenderingPlaceholder:function(){var e=this.$config.rowStore;e&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=e.attachEvent("onStoreUpdated",f.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var e=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",e.bind(function(r,a,l){var h=this.$config.rowStore;if(!h)return!0;var c=g.locateAttribute(r,this.$config.item_attribute);return c&&h.close(c.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",e.bind(function(r,a,l){var h=this.$config.rowStore;if(!h)return!0;var c=g.locateAttribute(r,this.$config.item_attribute);return c&&h.open(c.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(e){var r=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var a=0;a<this._taskLayers.length;a++)r.removeLayer(this._taskLayers[a]);this._taskLayers=[]},_getColumnWidth:function(e,r,a){var l=e.min_width||r.min_grid_column_width,h=Math.max(a,l||10);return e.max_width&&(h=Math.min(h,e.max_width)),h},_checkGridColumnMinWidthLimits:function(e,r){for(var a=0,l=e.length;a<l;a++){var h=1*e[a].width;!e[a].min_width&&h<r.min_grid_column_width&&(e[a].min_width=h)}},_getGridWidthLimits:function(){for(var e=this.$getConfig(),r=this.getGridColumns(),a=0,l=0,h=0;h<r.length;h++)a+=r[h].min_width?r[h].min_width:e.min_grid_column_width,l!==void 0&&(l=r[h].max_width?l+r[h].max_width:void 0);return this._checkGridColumnMinWidthLimits(r,e),[a,l]},_setColumnsWidth:function(e,r){var a=this.$getConfig(),l=this.getGridColumns(),h=0,c=e;r=window.isNaN(r)?-1:r;for(var _=0,p=l.length;_<p;_++)h+=1*l[_].width;if(window.isNaN(h))for(this._calculateGridWidth(),h=0,_=0,p=l.length;_<p;_++)h+=1*l[_].width;var v=c-h,m=0;for(_=0;_<r+1;_++)m+=l[_].width;for(h-=m,_=r+1;_<l.length;_++){var k=l[_],y=Math.round(v*(k.width/h));v<0?k.min_width&&k.width+y<k.min_width?y=k.min_width-k.width:!k.min_width&&a.min_grid_column_width&&k.width+y<a.min_grid_column_width&&(y=a.min_grid_column_width-k.width):k.max_width&&k.width+y>k.max_width&&(y=k.max_width-k.width),h-=k.width,k.width+=y,v-=y}for(var w=v>0?1:-1;v>0&&w===1||v<0&&w===-1;){var $=v;for(_=r+1;_<l.length;_++){var b;if((b=l[_].width+w)==this._getColumnWidth(l[_],a,b)&&(v-=w,l[_].width=b),!v)break}if($==v)break}return v&&r>-1&&(b=l[r].width+v)==this._getColumnWidth(l[r],a,b)&&(l[r].width=b),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var e=this.getGridColumns(),r=0,a=0;a<e.length;a++){var l=parseFloat(e[a].width);if(window.isNaN(l))return!1;r+=l}return r},_calculateGridWidth:function(){for(var e=this.$getConfig(),r=this.getGridColumns(),a=0,l=[],h=[],c=0;c<r.length;c++){var _=parseFloat(r[c].width);window.isNaN(_)&&(_=e.min_grid_column_width||10,l.push(c)),h[c]=_,a+=_}var p=this._getGridWidth()+1;if(e.autofit||l.length){var v=p-a;if(e.autofit&&!e.grid_elastic_columns)for(c=0;c<h.length;c++){var m=Math.round(v/(h.length-c));h[c]+=m,(k=this._getColumnWidth(r[c],e,h[c]))!=h[c]&&(m=k-h[c],h[c]=k),v-=m}else if(l.length)for(c=0;c<l.length;c++){m=Math.round(v/(l.length-c));var k,y=l[c];h[y]+=m,(k=this._getColumnWidth(r[y],e,h[y]))!=h[y]&&(m=k-h[y],h[y]=k),v-=m}for(c=0;c<h.length;c++)r[c].width=h[c]}else{var w=p!=a;this.$config.width=a-1,e.grid_width=a,w&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var e=this.$gantt,r=this.$getConfig(),a=this.$gantt.locale,l=this.$gantt.templates,h=this.getGridColumns();r.rtl&&(h=h.reverse());for(var c=[],_=0,p=a.labels,v=r.scale_height-1,m=0;m<h.length;m++){var k=m==h.length-1,y=h[m];y.name||(y.name=e.uid()+"");var w=1*y.width,$=this._getGridWidth();k&&$>_+w&&(y.width=w=$-_),_+=w;var b=e._sort&&y.name==e._sort.name?"<div class='gantt_sort gantt_"+e._sort.direction+"'></div>":"",x=["gantt_grid_head_cell","gantt_grid_head_"+y.name,k?"gantt_last_cell":"",l.grid_header_class(y.name,y)].join(" "),T="width:"+(w-(k?1:0))+"px;",E=y.label||p["column_"+y.name]||p[y.name];E=E||"";var D="<div class='"+x+"' style='"+T+"' "+e._waiAria.gridScaleCellAttrString(y,E)+" data-column-id='"+y.name+"' column_id='"+y.name+"' data-column-name='"+y.name+"' data-column-index='"+m+"'>"+E+b+"</div>";c.push(D)}this.$grid_scale.style.height=r.scale_height+"px",this.$grid_scale.style.lineHeight=v+"px",this.$grid_scale.innerHTML=c.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},S.exports=t},function(S,C,d){var g=d(0);S.exports=function(f){var s=f.date,u=f.$services;return{getSum:function(i,o,n){n===void 0&&(n=i.length-1),o===void 0&&(o=0);for(var t=0,e=o;e<=n;e++)t+=i[e];return t},setSumWidth:function(i,o,n,t){var e=o.width;t===void 0&&(t=e.length-1),n===void 0&&(n=0);var r=t-n+1;if(!(n>e.length-1||r<=0||t>e.length-1)){var a=i-this.getSum(e,n,t);this.adjustSize(a,e,n,t),this.adjustSize(-a,e,t+1),o.full_width=this.getSum(e)}},splitSize:function(i,o){for(var n=[],t=0;t<o;t++)n[t]=0;return this.adjustSize(i,n),n},adjustSize:function(i,o,n,t){n||(n=0),t===void 0&&(t=o.length-1);for(var e=t-n+1,r=this.getSum(o,n,t),a=n;a<=t;a++){var l=Math.floor(i*(r?o[a]/r:1/e));r-=o[a],i-=l,e--,o[a]+=l}o[o.length-1]+=i},sortScales:function(i){function o(t,e){var r=new Date(1970,0,1);return s.add(r,e,t)-r}i.sort(function(t,e){return o(t.unit,t.step)<o(e.unit,e.step)?1:o(t.unit,t.step)>o(e.unit,e.step)?-1:0});for(var n=0;n<i.length;n++)i[n].index=n},_isLegacyMode:function(i){var o=i||f.config;return o.scale_unit||o.date_scale||o.subscales},_prepareScaleObject:function(i){var o=i.format;return o||(o=i.template||i.date||"%d %M"),typeof o=="string"&&(o=f.date.date_to_str(o)),{unit:i.unit||"day",step:i.step||1,format:o,css:i.css}},primaryScale:function(i){var o,n=u.getService("templateLoader"),t=this._isLegacyMode(i),e=i||f.config;if(t)n.initTemplate("date_scale",void 0,void 0,e,f.config.templates),o={unit:f.config.scale_unit,step:f.config.step,template:f.templates.date_scale,date:f.config.date_scale,css:f.templates.scale_cell_class};else{var r=e.scales[0];o={unit:r.unit,step:r.step,template:r.template,format:r.format,date:r.date,css:r.css||f.templates.scale_cell_class}}return this._prepareScaleObject(o)},getSubScales:function(i){var o=this._isLegacyMode(i),n=i||f.config;return(o?n.subscales||[]:n.scales.slice(1)).map(function(t){return this._prepareScaleObject(t)}.bind(this))},prepareConfigs:function(i,o,n,t,e,r,a){for(var l=this.splitSize(t,i.length),h=n,c=[],_=i.length-1;_>=0;_--){var p=_==i.length-1,v=this.initScaleConfig(i[_],e,r);p&&this.processIgnores(v),this.initColSizes(v,o,h,l[_]),this.limitVisibleRange(v),p&&(h=v.full_width),c.unshift(v)}for(_=0;_<c.length-1;_++)this.alineScaleColumns(c[c.length-1],c[_]);for(_=0;_<c.length;_++)a&&this.reverseScale(c[_]),this.setPosSettings(c[_]);return c},reverseScale:function(i){i.width=i.width.reverse(),i.trace_x=i.trace_x.reverse();var o=i.trace_indexes;i.trace_indexes={},i.trace_index_transition={},i.rtl=!0;for(var n=0;n<i.trace_x.length;n++)i.trace_indexes[i.trace_x[n].valueOf()]=n,i.trace_index_transition[o[i.trace_x[n].valueOf()]]=n;return i},setPosSettings:function(i){for(var o=0,n=i.trace_x.length;o<n;o++)i.left.push((i.width[o-1]||0)+(i.left[o-1]||0))},_ignore_time_config:function(i,o){if(f.config.skip_off_time){for(var n=!0,t=i,e=0;e<o.step;e++)e&&(t=s.add(i,e,o.unit)),n=n&&!this.isWorkTime(t,o.unit);return n}return!1},processIgnores:function(i){i.ignore_x={},i.display_count=i.count},initColSizes:function(i,o,n,t){var e=n;i.height=t;var r=i.display_count===void 0?i.count:i.display_count;r||(r=1),i.col_width=Math.floor(e/r),o&&i.col_width<o&&(i.col_width=o,e=i.col_width*r),i.width=[];for(var a=i.ignore_x||{},l=0;l<i.trace_x.length;l++)if(a[i.trace_x[l].valueOf()]||i.display_count==i.count)i.width[l]=0;else{var h=1;i.unit=="month"&&(h=Math.round((s.add(i.trace_x[l],i.step,i.unit)-i.trace_x[l])/864e5)),i.width[l]=h}this.adjustSize(e-this.getSum(i.width),i.width),i.full_width=this.getSum(i.width)},initScaleConfig:function(i,o,n){var t=g.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(o),max_date:new Date(n)},i);return this.eachColumn(i.unit,i.step,o,n,function(e){t.count++,t.trace_x.push(new Date(e)),t.trace_indexes[e.valueOf()]=t.trace_x.length-1}),t.trace_x_ascending=t.trace_x.slice(),t},iterateScales:function(i,o,n,t,e){for(var r=o.trace_x,a=i.trace_x,l=n||0,h=t||a.length-1,c=0,_=1;_<r.length;_++){var p=i.trace_indexes[+r[_]];p!==void 0&&p<=h&&(e&&e.apply(this,[c,_,l,p]),l=p,c=_)}},alineScaleColumns:function(i,o,n,t){this.iterateScales(i,o,n,t,function(e,r,a,l){var h=this.getSum(i.width,a,l-1);this.getSum(o.width,e,r-1)!=h&&this.setSumWidth(h,o,e,r-1)})},eachColumn:function(i,o,n,t,e){var r=new Date(n),a=new Date(t);s[i+"_start"]&&(r=s[i+"_start"](r));var l=new Date(r);for(+l>=+a&&(a=s.add(l,o,i));+l<+a;){e.call(this,new Date(l));var h=l.getTimezoneOffset();l=s.add(l,o,i),l=f._correct_dst_change(l,h,o,i),s[i+"_start"]&&(l=s[i+"_start"](l))}},limitVisibleRange:function(i){var o=i.trace_x,n=i.width.length-1,t=0;if(+o[0]<+i.min_date&&n!=0){var e=Math.floor(i.width[0]*((o[1]-i.min_date)/(o[1]-o[0])));t+=i.width[0]-e,i.width[0]=e,o[0]=new Date(i.min_date)}var r=o.length-1,a=o[r],l=s.add(a,i.step,i.unit);if(+l>+i.max_date&&r>0&&(e=i.width[r]-Math.floor(i.width[r]*((l-i.max_date)/(l-a))),t+=i.width[r]-e,i.width[r]=e),t){for(var h=this.getSum(i.width),c=0,_=0;_<i.width.length;_++){var p=Math.floor(t*(i.width[_]/h));i.width[_]+=p,c+=p}this.adjustSize(t-c,i.width)}}}}},,function(S,C,d){},function(S,C,d){var g=d(2),f={getHtmlSelect:function(i,o,n){var t="",e=this;return i=i||[],g.forEach(i,function(r){var a=[{key:"value",value:r.key}];n==r.key&&(a[a.length]={key:"selected",value:"selected"}),r.attributes&&(a=a.concat(r.attributes)),t+=e.getHtmlOption({innerHTML:r.label},a)}),s("select",{innerHTML:t},o)},getHtmlOption:function(i,o){return s("option",i,o)},getHtmlButton:function(i,o){return s("button",i,o)},getHtmlDiv:function(i,o){return s("div",i,o)},getHtmlLabel:function(i,o){return s("label",i,o)},getHtmlInput:function(i){return"<input"+u(i||[])+">"}};function s(i,o,n){return o=o||[],"<"+i+u(n||[])+">"+(o.innerHTML||"")+"</"+i+">"}function u(i){var o="";return g.forEach(i,function(n){o+=" "+n.key+"='"+n.value+"'"}),o}S.exports=f},function(S,C,d){var g=d(2);S.exports=function(f){var s={};return f.$data.tasksStore.attachEvent("onStoreUpdated",function(){s={}}),function(u,i,o,n){var t=u.id+"_"+i+"_"+o.unit+"_"+o.step;return s[t]?s[t]:s[t]=function(e,r,a,l){var h,c=!1,_={};f.config.process_resource_assignments&&r===f.config.resource_property?(h=e.$role=="task"?f.getResourceAssignments(e.$resource_id,e.$task_id):f.getResourceAssignments(e.id),c=!0):h=e.$role=="task"?[]:f.getTaskBy(r,e.id);for(var p,v,m,k,y,_=function(D,A,M){for(var I=A.unit,N=A.step,P={},O={},H=0;H<D.length;H++){var V=D[H],W=V;M&&(W=f.getTask(V.task_id));var J=V.start_date||W.start_date,q=V.end_date||W.end_date;M&&(V.start_date&&(J=new Date(Math.max(V.start_date.valueOf(),W.start_date.valueOf()))),V.end_date&&(q=new Date(Math.min(V.end_date.valueOf(),W.end_date.valueOf()))));var X=g.findBinary(A.trace_x,J.valueOf()),R=new Date(A.trace_x[X]||f.date[I+"_start"](new Date(J))),lt=f.config.work_time?f.getTaskCalendar(W):f;for(O[lt.id]={};R<q;){var ut=O[lt.id],at=R,L=at.valueOf();if(R=f.date.add(R,N,I),ut[L]!==!1){var F=lt.isWorkTime({date:at,task:W,unit:I});F?(P[L]||(P[L]={tasks:[],assignments:[]}),P[L].tasks.push(W),M&&P[L].assignments.push(V)):ut[L]=!1}}}return P}(h,a,c),w=a.unit,$=a.step,b=[],x=l.$getConfig(),T=0;T<a.trace_x.length;T++)p=new Date(a.trace_x[T]),v=f.date.add(p,$,w),y=_[p.valueOf()]||{},m=y.tasks||[],k=y.assignments||[],m.length||x.resource_render_empty_cells?b.push({start_date:p,end_date:v,tasks:m,assignments:k}):b.push(null);return b}(u,i,o,n)}}},function(S,C,d){var g=d(3),f=d(1),s=function(u){"use strict";function i(o,n,t){var e=u.apply(this,arguments)||this;return o&&(e.$root=!0),e._parseConfig(n),e.$name="layout",e}return g(i,u),i.prototype.destructor=function(){this.$container&&this.$view&&f.removeNode(this.$view);for(var o=0;o<this.$cells.length;o++)this.$cells[o].destructor();this.$cells=[],u.prototype.destructor.call(this)},i.prototype._resizeScrollbars=function(o,n){var t,e=!1,r=[],a=[];function l(v){v.$parent.show(),e=!0,r.push(v)}function h(v){v.$parent.hide(),e=!0,a.push(v)}for(var c=0;c<n.length;c++)o[(t=n[c]).$config.scroll]||t.shouldHide()?h(t):t.shouldShow()?l(t):t.isVisible()?r.push(t):a.push(t);var _={};for(c=0;c<r.length;c++)r[c].$config.group&&(_[r[c].$config.group]=!0);for(c=0;c<a.length;c++)if((t=a[c]).$config.group&&_[t.$config.group]){l(t);for(var p=0;p<r.length;p++)if(r[p]==t){this.$gantt.$scrollbarRepaint=!0;break}}return e},i.prototype._syncCellSizes=function(o,n){if(o){var t={};return this._eachChild(function(e){e.$config.group&&e.$name!="scrollbar"&&e.$name!="resizer"&&(t[e.$config.group]||(t[e.$config.group]=[]),t[e.$config.group].push(e))}),t[o]&&this._syncGroupSize(t[o],n),t[o]}},i.prototype._syncGroupSize=function(o,n){if(o.length)for(var t=o[0].$parent._xLayout?"width":"height",e=o[0].$parent.getNextSibling(o[0].$id)?1:-1,r=n.value,a=n.isGravity,l=0;l<o.length;l++){var h=o[l].getSize(),c=e>0?o[l].$parent.getNextSibling(o[l].$id):o[l].$parent.getPrevSibling(o[l].$id);c.$name=="resizer"&&(c=e>0?c.$parent.getNextSibling(c.$id):c.$parent.getPrevSibling(c.$id));var _=c.getSize();if(a)o[l].$config.gravity=r;else if(c[t]){var p=h.gravity+_.gravity,v=h[t]+_[t],m=p/v;o[l].$config.gravity=m*r,c.$config[t]=v-r,c.$config.gravity=p-m*r}else o[l].$config[t]=r;var k=this.$gantt.$ui.getView("grid");!k||o[l].$content!==k||k.$config.scrollable||a||(this.$gantt.config.grid_width=r)}},i.prototype.resize=function(o){var n=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),n=!0,this._resizeInProgress=!0),u.prototype.resize.call(this,!0),u.prototype.resize.call(this,!1),n){var t=[];t=(t=(t=t.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var e=this.getCellsByType("scroller"),r=0;r<t.length;r++)t[r].$config.hidden||t[r].setContentSize();var a=this._getAutosizeMode(this.$config.autosize),l=this._resizeScrollbars(a,e);if(this.$config.autosize&&(this.autosize(this.$config.autosize),t.forEach(function(h){var c=h.$parent,_=c.getContentSize(a);a.x&&(c.$config.$originalWidthStored||(c.$config.$originalWidthStored=!0,c.$config.$originalWidth=c.$config.width),c.$config.width=_.width),a.y&&(c.$config.$originalHeightStored||(c.$config.$originalHeightStored=!0,c.$config.$originalHeight=c.$config.height),c.$config.height=_.height)}),l=!0),l)for(this.resize(),r=0;r<t.length;r++)t[r].$config.hidden||t[r].setContentSize();this.callEvent("onResize",[])}n&&(this._resizeInProgress=!1)},i.prototype._eachChild=function(o,n){if(o(n=n||this),n.$cells)for(var t=0;t<n.$cells.length;t++)this._eachChild(o,n.$cells[t])},i.prototype.isChild=function(o){var n=!1;return this._eachChild(function(t){t!==o&&t.$content!==o||(n=!0)}),n},i.prototype.getCellsByType=function(o){var n=[];if(o===this.$name&&n.push(this),this.$content&&this.$content.$name==o&&n.push(this.$content),this.$cells)for(var t=0;t<this.$cells.length;t++){var e=i.prototype.getCellsByType.call(this.$cells[t],o);e.length&&n.push.apply(n,e)}return n},i.prototype.getNextSibling=function(o){var n=this.cellIndex(o);return n>=0&&this.$cells[n+1]?this.$cells[n+1]:null},i.prototype.getPrevSibling=function(o){var n=this.cellIndex(o);return n>=0&&this.$cells[n-1]?this.$cells[n-1]:null},i.prototype.cell=function(o){for(var n=0;n<this.$cells.length;n++){var t=this.$cells[n];if(t.$id===o)return t;var e=t.cell(o);if(e)return e}},i.prototype.cellIndex=function(o){for(var n=0;n<this.$cells.length;n++)if(this.$cells[n].$id===o)return n;return-1},i.prototype.moveView=function(o,n){if(this.$cells[n]!==o)return window.alert("Not implemented");n+=this.$config.header?1:0;var t=this.$view;n>=t.childNodes.length?t.appendChild(o.$view):t.insertBefore(o.$view,t.childNodes[n])},i.prototype._parseConfig=function(o){this.$cells=[],this._xLayout=!o.rows;for(var n=o.rows||o.cols||o.views,t=0;t<n.length;t++){var e=n[t];e.mode=this._xLayout?"x":"y";var r=this.$factory.initUI(e,this);r?(r.$parent=this,this.$cells.push(r)):(n.splice(t,1),t--)}},i.prototype.getCells=function(){return this.$cells},i.prototype.render=function(){var o=f.insertNode(this.$container,this.$toHTML());this.$fill(o,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},i.prototype.$fill=function(o,n){this.$view=o,this.$parent=n;for(var t=f.getChildNodes(o,"gantt_layout_cell"),e=t.length-1;e>=0;e--){var r=this.$cells[e];r.$fill(t[e],this),r.$config.hidden&&r.$view.parentNode.removeChild(r.$view)}},i.prototype.$toHTML=function(){for(var o=this._xLayout?"x":"y",n=[],t=0;t<this.$cells.length;t++)n.push(this.$cells[t].$toHTML());return u.prototype.$toHTML.call(this,n.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+o)},i.prototype.getContentSize=function(o){for(var n,t,e,r=0,a=0,l=0;l<this.$cells.length;l++)(t=this.$cells[l]).$config.hidden||(n=t.getContentSize(o),t.$config.view==="scrollbar"&&o[t.$config.scroll]&&(n.height=0,n.width=0),t.$config.resizer&&(this._xLayout?n.height=0:n.width=0),e=t._getBorderSizes(),this._xLayout?(r+=n.width+e.horizontal,a=Math.max(a,n.height+e.vertical)):(r=Math.max(r,n.width+e.horizontal),a+=n.height+e.vertical));return{width:r+=(e=this._getBorderSizes()).horizontal,height:a+=e.vertical}},i.prototype._cleanElSize=function(o){return 1*(o||"").toString().replace("px","")||0},i.prototype._getBoxStyles=function(o){var n=null,t=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],e={boxSizing:(n=window.getComputedStyle?window.getComputedStyle(o,null):{width:o.clientWidth,height:o.clientHeight}).boxSizing=="border-box"};n.MozBoxSizing&&(e.boxSizing=n.MozBoxSizing=="border-box");for(var r=0;r<t.length;r++)e[t[r]]=n[t[r]]?this._cleanElSize(n[t[r]]):0;var a={horPaddings:e.paddingLeft+e.paddingRight+e.borderLeftWidth+e.borderRightWidth,vertPaddings:e.paddingTop+e.paddingBottom+e.borderTopWidth+e.borderBottomWidth,borderBox:e.boxSizing,innerWidth:e.width,innerHeight:e.height,outerWidth:e.width,outerHeight:e.height};return a.borderBox?(a.innerWidth-=a.horPaddings,a.innerHeight-=a.vertPaddings):(a.outerWidth+=a.horPaddings,a.outerHeight+=a.vertPaddings),a},i.prototype._getAutosizeMode=function(o){var n={x:!1,y:!1};return o==="xy"?n.x=n.y=!0:o==="y"||o===!0?n.y=!0:o==="x"&&(n.x=!0),n},i.prototype.autosize=function(o){var n=this._getAutosizeMode(o),t=this._getBoxStyles(this.$container),e=this.getContentSize(o),r=this.$container;n.x&&(t.borderBox&&(e.width+=t.horPaddings),r.style.width=e.width+"px"),n.y&&(t.borderBox&&(e.height+=t.vertPaddings),r.style.height=e.height+"px")},i.prototype.getSize=function(){this._sizes=[];for(var o=0,n=0,t=1e11,e=0,r=1e11,a=0,l=0;l<this.$cells.length;l++){var h=this._sizes[l]=this.$cells[l].getSize();this.$cells[l].$config.hidden||(this._xLayout?(!h.width&&h.minWidth?o+=h.minWidth:o+=h.width,t+=h.maxWidth,n+=h.minWidth,e=Math.max(e,h.height),r=Math.min(r,h.maxHeight),a=Math.max(a,h.minHeight)):(!h.height&&h.minHeight?e+=h.minHeight:e+=h.height,r+=h.maxHeight,a+=h.minHeight,o=Math.max(o,h.width),t=Math.min(t,h.maxWidth),n=Math.max(n,h.minWidth)))}var c=u.prototype.getSize.call(this);return c.maxWidth>=1e5&&(c.maxWidth=t),c.maxHeight>=1e5&&(c.maxHeight=r),c.minWidth=c.minWidth!=c.minWidth?0:c.minWidth,c.minHeight=c.minHeight!=c.minHeight?0:c.minHeight,this._xLayout?(c.minWidth+=this.$config.margin*this.$cells.length||0,c.minWidth+=2*this.$config.padding||0,c.minHeight+=2*this.$config.padding||0):(c.minHeight+=this.$config.margin*this.$cells.length||0,c.minHeight+=2*this.$config.padding||0),c},i.prototype._calcFreeSpace=function(o,n,t){var e=t?n.minWidth:n.minHeight,r=n.maxWidth,a=o;return a?(a>r&&(a=r),a<e&&(a=e),this._free-=a):((a=Math.floor(this._free/this._gravity*n.gravity))>r&&(a=r,this._free-=a,this._gravity-=n.gravity),a<e&&(a=e,this._free-=a,this._gravity-=n.gravity)),a},i.prototype._calcSize=function(o,n,t){var e=o,r=t?n.minWidth:n.minHeight,a=t?n.maxWidth:n.maxHeight;return e||(e=Math.floor(this._free/this._gravity*n.gravity)),e>a&&(e=a),e<r&&(e=r),e},i.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var o=this._xLayout?this._borders.right:this._borders.bottom,n=this.$cells,t=n.length-1,e=t;e>=0;e--)if(!n[e].$config.hidden){t=e;break}for(e=0;e<n.length;e++)if(!n[e].$config.hidden){var r=e>=t,a="";!r&&n[e+1]&&n[e+1].$config.view=="scrollbar"&&(this._xLayout?r=!0:a="gantt_layout_cell_border_transparent"),this._setBorders(r?[]:[o,a],n[e])}},i.prototype._updateCellVisibility=function(){for(var o=this._visibleCells||{},n=!this._visibleCells,t={},e=null,r=[],a=0;a<this._sizes.length;a++)(e=this.$cells[a]).$config.hide_empty&&r.push(e),!n&&e.$config.hidden&&o[e.$id]?e._hide(!0):e.$config.hidden||o[e.$id]||e._hide(!1),e.$config.hidden||(t[e.$id]=!0);for(this._visibleCells=t,a=0;a<r.length;a++){var l=!0;(e=r[a]).$cells.forEach(function(h){h.$config.hidden||h.$config.resizer||(l=!1)}),e.$config.hidden=l}},i.prototype.setSize=function(o,n){this._configureBorders(),u.prototype.setSize.call(this,o,n),n=this.$lastSize.contentY,o=this.$lastSize.contentX;var t,e,r=this.$config.padding||0;this.$view.style.padding=r+"px",this._gravity=0,this._free=this._xLayout?o:n,this._free-=2*r,this._updateCellVisibility();for(var a=0;a<this._sizes.length;a++)if(!(t=this.$cells[a]).$config.hidden){var l=this.$config.margin||0;t.$name!="resizer"||l||(l=-1);var h=t.$view,c=this._xLayout?"marginRight":"marginBottom";a!==this.$cells.length-1&&(h.style[c]=l+"px",this._free-=l),e=this._sizes[a],this._xLayout?e.width||(this._gravity+=e.gravity):e.height||(this._gravity+=e.gravity)}for(a=0;a<this._sizes.length;a++)if(!(t=this.$cells[a]).$config.hidden){var _=(e=this._sizes[a]).width,p=e.height;this._xLayout?this._calcFreeSpace(_,e,!0):this._calcFreeSpace(p,e,!1)}for(a=0;a<this.$cells.length;a++)if(!(t=this.$cells[a]).$config.hidden){e=this._sizes[a];var v=void 0,m=void 0;this._xLayout?(v=this._calcSize(e.width,e,!0),m=n-2*r):(v=o-2*r,m=this._calcSize(e.height,e,!1)),t.setSize(v,m)}},i}(d(9));S.exports=s},function(S,C){S.exports=function(d,g,f,s,u){var i=f.$gantt.getTask(d.source),o=f.$gantt.getTask(d.target),n=f.getItemTop(i.id),t=f.getItemHeight(i.id),e=f.getItemTop(o.id),r=f.getItemHeight(o.id);if(g.y>n+t&&g.y>e+r||g.y_end<e&&g.y_end<n)return!1;var a=f.posFromDate(i.start_date),l=f.posFromDate(i.end_date),h=f.posFromDate(o.start_date),c=f.posFromDate(o.end_date);if(a>l){var _=l;l=a,a=_}return h>c&&(_=c,c=h,h=_),a+=-100,l+=100,h+=-100,c+=100,!(g.x>l&&g.x>c)&&!(g.x_end<a&&g.x_end<h)}},function(S,C,d){var g=d(112);S.exports=function(){var f=[],s=!1;function u(){f=[],s=!1}var i=!1;return function(o,n,t,e,r){(function(_){i||(i=!0,_.attachEvent("onPreFilter",u),_.attachEvent("onStoreUpdated",u),_.attachEvent("onClearAll",u),_.attachEvent("onBeforeStoreUpdate",u))})(e),s||function(_,p,v){var m=p.$getConfig();_.getVisibleItems().forEach(function(k){var y=g(k,p,m,v);y&&f.push({id:k.id,rec:y})}),f.sort(function(k,y){return k.rec.right<y.rec.right?-1:1}),s=!0}(e,n,o);for(var a=[],l=0;l<f.length;l++){var h=f[l],c=h.rec;c.right<r.x||c.left<r.x_end&&c.right>r.x&&c.top<r.y_end&&c.bottom>r.y&&a.push(h.id)}return{ids:a}}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(174),f=d(173),s=d(172);C.LargerUnitsCache=s.LargerUnitsCache,C.createCacheObject=function(){return typeof Map<"u"?new g.WorkUnitsMapCache:new f.WorkUnitsObjectCache}},function(S,C,d){var g=d(0),f=d(2);function s(n,t,e,r,a){return this.date=n,this.unit=t,this.task=e,this.id=r,this.calendar=a,this}function u(n,t,e,r,a,l){return this.date=n,this.dir=t,this.unit=e,this.task=r,this.id=a,this.calendar=l,this}function i(n,t,e,r,a,l,h){return this.start_date=n,this.duration=t,this.unit=e,this.step=r,this.task=a,this.id=l,this.calendar=h,this}function o(n,t,e,r){return this.start_date=n,this.end_date=t,this.task=e,this.calendar=r,this.unit=null,this.step=null,this}S.exports=function(n){return{getWorkHoursArguments:function(){var t=arguments[0];if(t=f.isDate(t)?{date:t}:g.mixin({},t),!f.isValidDate(t.date))throw n.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return t},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var t,e=arguments[0];if(e instanceof s)return e;if((t=e.date?new s(e.date,e.unit,e.task,null,e.calendar):new s(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=t.unit||n.config.duration_unit,!f.isValidDate(t.date))throw n.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return t},getClosestWorkTimeArguments:function(t){var e,r=arguments[0];if(r instanceof u)return r;if(e=f.isDate(r)?new u(r):new u(r.date,r.dir,r.unit,r.task,null,r.calendar),r.id&&(e.task=r),e.dir=r.dir||"any",e.unit=r.unit||n.config.duration_unit,!f.isValidDate(e.date))throw n.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return e},_getStartEndConfig:function(t){var e,r=o;if(t instanceof r)return t;if(f.isDate(t)?e=new r(arguments[0],arguments[1],arguments[2],arguments[3]):(e=new r(t.start_date,t.end_date,t.task),t.id!==null&&t.id!==void 0&&(e.task=t)),e.unit=e.unit||n.config.duration_unit,e.step=e.step||n.config.duration_step,e.start_date=e.start_date||e.start||e.date,!f.isValidDate(e.start_date))throw n.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!f.isValidDate(e.end_date))throw n.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return e},getDurationArguments:function(t,e,r,a){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,e,r,a){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(t,e,r,a){var l,h=arguments[0];if(h instanceof i)return h;if(l=f.isDate(h)?new i(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new i(h.start_date,h.duration,h.unit,h.step,h.task,null,h.calendar),h.id!==null&&h.id!==void 0&&(l.task=h,l.unit=null,l.step=null),l.unit=l.unit||n.config.duration_unit,l.step=l.step||n.config.duration_step,!f.isValidDate(l.start_date))throw n.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return l}}}},function(S,C,d){var g=d(186);S.exports=function(f){var s={},u={},i=null,o=-1,n=null,t=g(f);return{_resetTopPositionHeight:function(){s={},u={},t.resetCache()},_resetHeight:function(){var e=this.$config.rowStore,r=this.getCacheStateTotalHeight(e);n?this.shouldClearHeightCache(n,r)&&(n=r,i=null):n=r,o=-1,t.resetCache()},getRowTop:function(e){if(t.canUseSimpleCalculation())return t.getRowTop(e);var r=this.$config.rowStore;if(!r)return 0;if(u[e]!==void 0)return u[e];for(var a=r.getIndexRange(),l=0,h=0,c=0;c<a.length;c++)u[c]=l,l+=this.getItemHeight(a[c].id),c<e&&(h=l);return h},getItemTop:function(e){if(this.$config.rowStore){if(s[e]!==void 0)return s[e];var r=this.$config.rowStore;if(!r)return 0;var a=r.getIndexById(e);if(a===-1&&r.getParent&&r.exists(e)){var l=r.getParent(e);if(r.exists(l)){var h=r.getItem(l);if(this.$gantt.isSplitTask(h))return this.getItemTop(l)}}return s[e]=this.getRowTop(a),s[e]}return 0},getItemHeight:function(e){if(t.canUseSimpleCalculation())return t.getItemHeight(e);if(!i&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),i[e]!==void 0)return i[e];var r=this.$getConfig().row_height;if(this.$config.rowStore){var a=this.$config.rowStore;if(!a)return r;var l=a.getItem(e);return i[e]=l&&l.row_height||r}return r},_fillHeightCache:function(e){if(e){i={};var r=this.$getConfig().row_height;e.eachItem(function(a){return i[a.id]=a&&a.row_height||r})}},getCacheStateTotalHeight:function(e){var r=this.$getConfig().row_height,a={},l=[],h=0;return e&&e.eachItem(function(c){l.push(c),a[c.id]=c.row_height,h+=c.row_height||r}),{globalHeight:r,items:l,count:l.length,sumHeight:h}},shouldClearHeightCache:function(e,r){if(e.count!=r.count||e.globalHeight!=r.globalHeight||e.sumHeight!=r.sumHeight)return!0;for(var a in e.items){var l=r.items[a];if(l!==void 0&&l!=e.items[a])return!0}return!1},getTotalHeight:function(){if(t.canUseSimpleCalculation())return t.getTotalHeight();if(o!=-1)return o;if(this.$config.rowStore){var e=this.$config.rowStore;this._fillHeightCache(e);var r=this.getItemHeight.bind(this),a=0;return e.getVisibleItems().forEach(function(l){a+=r(l.id)}),o=a,a}return 0},getItemIndexByTopPosition:function(e){if(this.$config.rowStore){if(t.canUseSimpleCalculation())return t.getItemIndexByTopPosition(e);for(var r=this.$config.rowStore,a=0;a<r.countVisible();a++){var l=this.getRowTop(a),h=this.getRowTop(a+1);if(!h){var c=r.getIdByIndex(a);h=l+this.getItemHeight(c)}if(e>=l&&e<h)return a}return r.countVisible()+2}return 0}}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function f(){var s=this;this.canParse=function(u){return!isNaN(s.parse(u))},this.format=function(u){return String(u)},this.parse=function(u){return parseInt(u,10)}}return f.create=function(s){return s===void 0&&(s=null),new f},f}();C.default=g},function(S,C){function d(f,s,u){for(var i=0;i<s.length;i++)f.isLinkExists(s[i])&&(u[s[i]]=f.getLink(s[i]))}function g(f,s,u){d(f,s.$source,u),d(f,s.$target,u)}S.exports={getSubtreeLinks:function(f,s){var u={};return f.isTaskExists(s)&&g(f,f.getTask(s),u),f.eachTask(function(i){g(f,i,u)},s),u},getSubtreeTasks:function(f,s){var u={};return f.eachTask(function(i){u[i.id]=i},s),u}}},function(S,C,d){var g=d(26),f=d(26);function s(u){var i=function(c){var _=new f(c).primaryScale(),p=_.unit,v=_.step;if(c.config.scale_offset_minimal){var m=new g(c),k=[m.primaryScale()].concat(m.getSubScales());m.sortScales(k),p=k[k.length-1].unit,v=k[k.length-1].step||1}return{unit:p,step:v}}(u),o=i.unit,n=i.step,t=function(c,_){var p={start_date:null,end_date:null};if(_.config.start_date&&_.config.end_date){p.start_date=_.date[c+"_start"](new Date(_.config.start_date));var v=new Date(_.config.end_date),m=_.date[c+"_start"](new Date(v));v=+v!=+m?_.date.add(m,1,c):m,p.end_date=v}return p}(o,u);if(!t.start_date||!t.end_date){for(var e=!0,r=u.getTaskByTime(),a=0;a<r.length;a++)if(r[a].type!==u.config.types.project){e=!1;break}if(r.length&&e){var l=r[0].start_date,h=u.date.add(l,1,u.config.duration_unit);t={start_date:new Date(l),end_date:new Date(h)}}else t=u.getSubtaskDates();t.start_date&&t.end_date||(t={start_date:new Date,end_date:new Date}),t.start_date=u.date[o+"_start"](t.start_date),t.start_date=u.calculateEndDate({start_date:u.date[o+"_start"](t.start_date),duration:-1,unit:o,step:n}),t.end_date=u.date[o+"_start"](t.end_date),t.end_date=u.calculateEndDate({start_date:t.end_date,duration:2,unit:o,step:n})}u._min_date=t.start_date,u._max_date=t.end_date}S.exports=function(u){s(u),function(i){if(i.config.fit_tasks){var o=+i._min_date,n=+i._max_date;if(+i._min_date!=o||+i._max_date!=n)return i.render(),i.callEvent("onScaleAdjusted",[]),!0}}(u)}},function(S,C,d){var g=d(41),f=d(0),s=d(2),u=d(42),i=d(11),o=d(2).replaceValidZeroId;u.default&&(u=u.default);var n=function(t){u.apply(this,[t]),this._branches={},this.pull={},this.$initItem=function(c){var _=c;t.initItem&&(_=t.initItem(_));var p=this.getItem(c.id);return p&&p.parent!=_.parent&&this.move(_.id,_.$index||-1,_.parent||this._ganttConfig.root_id),_},this.$parentProperty=t.parentProperty||"parent",typeof t.rootId!="function"?this.$getRootId=function(c){return function(){return c}}(t.rootId||0):this.$getRootId=t.rootId,this.$openInitially=t.openInitially,this.visibleOrder=g.$create(),this.fullOrder=g.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,t.getConfig&&(this._ganttConfig=t.getConfig());var e={},r={},a={},l={},h=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,e={},r={},a={},l={},h=!1,this.eachItem(function(c){var _=this.getParent(c.id);c.$open&&a[_]!==!1?a[c.id]=!0:a[c.id]=!1,this._isSplitItem(c)&&(h=!0,e[c.id]=!0,r[c.id]=!0),h&&r[_]&&(r[c.id]=!0),a[_]||a[_]===void 0?l[c.id]=!0:l[c.id]=!1})}),this.attachEvent("onFilterItem",function(c,_){var p=!1;this._ganttConfig&&(p=this._ganttConfig.open_split_tasks);var v=l[_.id];return h&&(v&&r[_.id]&&!e[_.id]&&(v=!!p),r[_.id]&&!e[_.id]&&(_.$split_subtask=!0)),_.$expanded_branch=!!l[_.id],!!v}),this.attachEvent("onFilter",function(){e={},r={},a={},l={}}),this};n.prototype=f.mixin({_buildTree:function(t){for(var e=null,r=this.$getRootId(),a=0,l=t.length;a<l;a++)e=t[a],this.setParent(e,o(this.getParent(e),r)||r);for(a=0,l=t.length;a<l;a++)e=t[a],this._add_branch(e),e.$level=this.calculateItemLevel(e),e.$local_index=this.getBranchIndex(e.id),f.defined(e.$open)||(e.$open=f.defined(e.open)?e.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(t){return t.render=="split"&&this.hasChild(t.id)},parse:function(t){this._skip_refresh||this.callEvent("onBeforeParse",[t]);var e=this._parseInner(t);this._buildTree(e),this.filter(),this._skip_refresh||this.callEvent("onParse",[e])},_addItemInner:function(t,e){var r=this.getParent(t);f.defined(r)||(r=this.$getRootId(),this.setParent(t,r));var a=this.getIndexById(r)+Math.min(Math.max(e,0),this.visibleOrder.length);1*a!==a&&(a=void 0),u.prototype._addItemInner.call(this,t,a),this.setParent(t,r),t.hasOwnProperty("$rendered_parent")&&this._move_branch(t,t.$rendered_parent),this._add_branch(t,e)},_changeIdInner:function(t,e){var r=this.getChildren(t),a=this._searchVisibleOrder[t];u.prototype._changeIdInner.call(this,t,e);var l=this.getParent(e);this._replace_branch_child(l,t,e),this._branches[t]&&(this._branches[e]=this._branches[t]);for(var h=0;h<r.length;h++){var c=this.getItem(r[h]);c[this.$parentProperty]=e,c.$rendered_parent=e}this._searchVisibleOrder[e]=a,delete this._branches[t]},_traverseBranches:function(t,e){f.defined(e)||(e=this.$getRootId());var r=this._branches[e];if(r)for(var a=0;a<r.length;a++){var l=r[a];t.call(this,l),this._branches[l]&&this._traverseBranches(t,l)}},_updateOrder:function(t){this.fullOrder=g.$create(),this._traverseBranches(function(e){this.fullOrder.push(e)}),t&&u.prototype._updateOrder.call(this,t)},_removeItemInner:function(t){var e=[];this.eachItem(function(a){e.push(a)},t),e.push(this.getItem(t));for(var r=0;r<e.length;r++)this._move_branch(e[r],this.getParent(e[r]),null),u.prototype._removeItemInner.call(this,e[r].id),this._move_branch(e[r],this.getParent(e[r]),null)},move:function(t,e,r){var a=arguments[3],l=(this._ganttConfig||{}).root_id||0;if(a=o(a,l)){if(a===t)return;r=this.getParent(a),e=this.getBranchIndex(a)}if(t!=r){f.defined(r)||(r=this.$getRootId());var h=this.getItem(t),c=this.getParent(h.id),_=this.getChildren(r);if(e==-1&&(e=_.length+1),c==r&&this.getBranchIndex(t)==e)return;if(this.callEvent("onBeforeItemMove",[t,r,e])===!1)return!1;for(var p=[],v=0;v<_.length;v++)i(_[v],null,this,this._ganttConfig)&&(p.push(_[v]),_.splice(v,1),v--);this._replace_branch_child(c,t);var m=(_=this.getChildren(r))[e];(m=o(m,l))?_=_.slice(0,e).concat([t]).concat(_.slice(e)):_.push(t),p.length&&(_=_.concat(p)),this.setParent(h,r),this._branches[r]=_;var k=this.calculateItemLevel(h)-h.$level;h.$level+=k,this.eachItem(function(y){y.$level+=k},h.id,this),this._moveInner(this.getIndexById(t),this.getIndexById(r)+e),this.callEvent("onAfterItemMove",[t,r,e]),this.refresh()}},getBranchIndex:function(t){var e=this.getChildren(this.getParent(t)),r=e.indexOf(t+"");return r==-1&&(r=e.indexOf(+t)),r},hasChild:function(t){var e=this._branches[t];return e&&e.length},getChildren:function(t){var e=this._branches[t];return e||g.$create()},isChildOf:function(t,e){if(!this.exists(t))return!1;if(e===this.$getRootId())return!0;if(!this.hasChild(e))return!1;var r=this.getItem(t),a=this.getParent(t);if(this.getItem(e).$level>=r.$level)return!1;for(;r&&this.exists(a);){if((r=this.getItem(a))&&r.id==e)return!0;a=this.getParent(r)}return!1},getSiblings:function(t){if(!this.exists(t))return g.$create();var e=this.getParent(t);return this.getChildren(e)},getNextSibling:function(t){for(var e=this.getSiblings(t),r=0,a=e.length;r<a;r++)if(e[r]==t){var l=e[r+1];return l===0&&r>0&&(l="0"),l||null}return null},getPrevSibling:function(t){for(var e=this.getSiblings(t),r=0,a=e.length;r<a;r++)if(e[r]==t){var l=e[r-1];return l===0&&r>0&&(l="0"),l||null}return null},getParent:function(t){var e=null;return(e=t.id!==void 0?t:this.getItem(t))?e[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},u.prototype.clearAll.call(this)},calculateItemLevel:function(t){var e=0;return this.eachParent(function(){e++},t),e},_setParentInner:function(t,e,r){r||(t.hasOwnProperty("$rendered_parent")?this._move_branch(t,t.$rendered_parent,e):this._move_branch(t,t[this.$parentProperty],e))},setParent:function(t,e,r){this._setParentInner(t,e,r),t[this.$parentProperty]=e},_eachItemCached:function(t,e){for(var r=0,a=e.length;r<a;r++)t.call(this,e[r])},_eachItemIterate:function(t,e,r){var a=this.getChildren(e);for(a.length&&(a=a.slice().reverse());a.length;){var l=a.pop(),h=this.getItem(l);if(t.call(this,h),r&&r.push(h),this.hasChild(h.id))for(var c=this.getChildren(h.id),_=c.length-1;_>=0;_--)a.push(c[_])}},eachItem:function(t,e){var r=this.$getRootId();f.defined(e)||(e=r);var a=o(e,r)||r,l=!1,h=!1,c=null;a===r&&(this._eachItemMainRangeCache?(l=!0,c=this._eachItemMainRangeCache):(h=!0,c=this._eachItemMainRangeCache=[])),l?this._eachItemCached(t,c):this._eachItemIterate(t,a,h?c:null)},eachParent:function(t,e){for(var r={},a=e,l=this.getParent(a);this.exists(l);){if(r[l])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+l);r[l]=!0,a=this.getItem(l),t.call(this,a),l=this.getParent(a)}},_add_branch:function(t,e,r){var a=r===void 0?this.getParent(t):r;this.hasChild(a)||(this._branches[a]=g.$create());var l=this.getChildren(a);l.indexOf(t.id+"")>-1||l.indexOf(+t.id)>-1||(1*e==e?l.splice(e,0,t.id):l.push(t.id),t.$rendered_parent=a)},_move_branch:function(t,e,r){this._eachItemMainRangeCache=null,this._replace_branch_child(e,t.id),this.exists(r)||r==this.$getRootId()?this._add_branch(t,void 0,r):delete this._branches[t.id],t.$level=this.calculateItemLevel(t),this.eachItem(function(a){a.$level=this.calculateItemLevel(a)},t.id)},_replace_branch_child:function(t,e,r){var a=this.getChildren(t);if(a&&t!==void 0){var l=g.$create(),h=a.indexOf(e+"");h!=-1||isNaN(+e)||(h=a.indexOf(+e)),h>-1&&(r?a.splice(h,1,r):a.splice(h,1)),l=a,this._branches[t]=l}},sort:function(t,e,r){this.exists(r)||(r=this.$getRootId()),t||(t="order");var a=typeof t=="string"?function(p,v){return p[t]==v[t]||s.isDate(p[t])&&s.isDate(v[t])&&p[t].valueOf()==v[t].valueOf()?0:p[t]>v[t]?1:-1}:t;if(e){var l=a;a=function(p,v){return l(v,p)}}var h=this.getChildren(r);if(h){for(var c=[],_=h.length-1;_>=0;_--)c[_]=this.getItem(h[_]);for(c.sort(a),_=0;_<c.length;_++)h[_]=c[_].id,this.sort(t,e,h[_])}},filter:function(t){for(var e in this.pull){var r=this.pull[e].$rendered_parent,a=this.getParent(this.pull[e]);r!==a&&this._move_branch(this.pull[e],r,a)}return u.prototype.filter.apply(this,arguments)},open:function(t){this.exists(t)&&(this.getItem(t).$open=!0,this._skipTaskRecalculation=!0,this.callEvent("onItemOpen",[t]))},close:function(t){this.exists(t)&&(this.getItem(t).$open=!1,this._skipTaskRecalculation=!0,this.callEvent("onItemClose",[t]))},destructor:function(){u.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},u.prototype),S.exports=n},function(S,C,d){var g=d(0),f={$create:function(s){return g.mixin(s||[],this)},$removeAt:function(s,u){s>=0&&this.splice(s,u||1)},$remove:function(s){this.$removeAt(this.$find(s))},$insertAt:function(s,u){if(u||u===0){var i=this.splice(u,this.length-u);this[u]=s,this.push.apply(this,i)}else this.push(s)},$find:function(s){for(var u=0;u<this.length;u++)if(s==this[u])return u;return-1},$each:function(s,u){for(var i=0;i<this.length;i++)s.call(u||this,this[i])},$map:function(s,u){for(var i=0;i<this.length;i++)this[i]=s.call(u||this,this[i]);return this},$filter:function(s,u){for(var i=0;i<this.length;i++)s.call(u||this,this[i])||(this.splice(i,1),i--);return this}};S.exports=f},function(S,C,d){var g=d(41),f=d(0),s=d(4),u=d(11),i=function(o){return this.pull={},this.$initItem=o.initItem,this.visibleOrder=g.$create(),this.fullOrder=g.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=o,s(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};i.prototype={_attachDataChange:function(o){this.attachEvent("onClearAll",o),this.attachEvent("onBeforeParse",o),this.attachEvent("onBeforeUpdate",o),this.attachEvent("onBeforeDelete",o),this.attachEvent("onBeforeAdd",o),this.attachEvent("onParse",o),this.attachEvent("onBeforeFilter",o)},_parseInner:function(o){for(var n=null,t=[],e=0,r=o.length;e<r;e++)n=o[e],this.$initItem&&(this.$config.copyOnParse()&&(n=f.copy(n)),n=this.$initItem(n)),this.callEvent("onItemLoading",[n])&&(this.pull.hasOwnProperty(n.id)||this.fullOrder.push(n.id),t.push(n),this.pull[n.id]=n);return t},parse:function(o){this.isSilent()||this.callEvent("onBeforeParse",[o]);var n=this._parseInner(o);this.isSilent()||(this.refresh(),this.callEvent("onParse",[n]))},getItem:function(o){return this.pull[o]},_updateOrder:function(o){o.call(this.visibleOrder),o.call(this.fullOrder)},updateItem:function(o,n){if(f.defined(n)||(n=this.getItem(o)),!this.isSilent()&&this.callEvent("onBeforeUpdate",[n.id,n])===!1)return!1;f.mixin(this.pull[o],n,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[n.id,n]),this.callEvent("onStoreUpdated",[n.id,n,"update"]))},_removeItemInner:function(o){this._updateOrder(function(){this.$remove(o)}),delete this.pull[o]},removeItem:function(o){var n=this.getItem(o);if(!this.isSilent()&&this.callEvent("onBeforeDelete",[n.id,n])===!1)return!1;this.callEvent("onAfterDeleteConfirmed",[n.id,n]),this._removeItemInner(o),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[n.id,n]),this.callEvent("onStoreUpdated",[n.id,n,"delete"]))},_addItemInner:function(o,n){if(this.exists(o.id))this.silent(function(){this.updateItem(o.id,o)});else{var t=this.visibleOrder,e=t.length;(!f.defined(n)||n<0)&&(n=e),n>e&&(n=Math.min(t.length,n))}this.pull[o.id]=o,this.isSilent()||this._updateOrder(function(){this.$find(o.id)===-1&&this.$insertAt(o.id,n)}),this.filter()},isVisible:function(o){return this.visibleOrder.$find(o)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(o,n){return f.defined(o.id)||(o.id=f.uid()),this.$initItem&&(o=this.$initItem(o)),!(!this.isSilent()&&this.callEvent("onBeforeAdd",[o.id,o])===!1)&&(this._addItemInner(o,n),this.isSilent()||(this.callEvent("onAfterAdd",[o.id,o]),this.callEvent("onStoreUpdated",[o.id,o,"add"])),o.id)},_changeIdInner:function(o,n){this.pull[o]&&(this.pull[n]=this.pull[o]);var t=this._searchVisibleOrder[o];this.pull[n].id=n,this._updateOrder(function(){this[this.$find(o)]=n}),this._searchVisibleOrder[n]=t,delete this._searchVisibleOrder[o],delete this.pull[o]},changeId:function(o,n){this._changeIdInner(o,n),this.callEvent("onIdChange",[o,n])},exists:function(o){return!!this.pull[o]},_moveInner:function(o,n){var t=this.getIdByIndex(o);this._updateOrder(function(){this.$removeAt(o),this.$insertAt(t,Math.min(this.length,n))})},move:function(o,n){var t=this.getIdByIndex(o),e=this.getItem(t);this._moveInner(o,n),this.isSilent()||this.callEvent("onStoreUpdated",[e.id,e,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=g.$create(),this.fullOrder=g.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(o,n){var t=!1;this.isSilent()&&(t=!0),this._skip_refresh=!0,o.call(n||this),t||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(o,n){if(o.length!==n.length)return!1;for(var t=0;t<o.length;t++)if(o[t]!==n[t])return!1;return!0},refresh:function(o,n){var t,e;if(!this.isSilent()&&(o&&(t=this.getItem(o)),e=o?[o,t,"paint"]:[null,null,null],this.callEvent("onBeforeStoreUpdate",e)!==!1)){var r=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,o){if(!n&&!r){var a=this.visibleOrder;this.filter(),this.arraysEqual(a,this.visibleOrder)||(o=void 0)}}else r||this.filter();e=o?[o,t,"paint"]:[null,null,null],this.callEvent("onStoreUpdated",e)}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(o){},serialize:function(){},eachItem:function(o){for(var n=0;n<this.fullOrder.length;n++){var t=this.getItem(this.fullOrder[n]);o.call(this,t)}},find:function(o){var n=[];return this.eachItem(function(t){o(t)&&n.push(t)}),n},filter:function(o){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var n=g.$create(),t=[];this.eachItem(function(r){this.callEvent("onFilterItem",[r.id,r])&&(u(r.id,null,this,this._ganttConfig)?t.push(r.id):n.push(r.id))});for(var e=0;e<t.length;e++)n.push(t[e]);for(this.visibleOrder=n,this._searchVisibleOrder={},e=0;e<this.visibleOrder.length;e++)this._searchVisibleOrder[this.visibleOrder[e]]=e;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(o,n){var t=Math.min(n||1/0,this.countVisible()-1),e=o||0,r=e+"-"+t;if(this._indexRangeCache[r])return this._indexRangeCache[r].slice();for(var a=[],l=e;l<=t;l++)a.push(this.getItem(this.visibleOrder[l]));return this._indexRangeCache[r]=a.slice(),a},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var o=[];for(var n in this.pull)o.push(this.pull[n]);return this._getItemsCache=o.slice(),o},getIdByIndex:function(o){return this.visibleOrder[o]},getIndexById:function(o){var n=this._searchVisibleOrder[o];return n===void 0&&(n=-1),n},_getNullIfUndefined:function(o){return o===void 0?null:o},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(o){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(o)+1])},getPrev:function(o){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(o)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},S.exports=i},function(S,C){var d,g,f=S.exports={};function s(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function i(c){if(d===setTimeout)return setTimeout(c,0);if((d===s||!d)&&setTimeout)return d=setTimeout,setTimeout(c,0);try{return d(c,0)}catch{try{return d.call(null,c,0)}catch{return d.call(this,c,0)}}}(function(){try{d=typeof setTimeout=="function"?setTimeout:s}catch{d=s}try{g=typeof clearTimeout=="function"?clearTimeout:u}catch{g=u}})();var o,n=[],t=!1,e=-1;function r(){t&&o&&(t=!1,o.length?n=o.concat(n):e=-1,n.length&&a())}function a(){if(!t){var c=i(r);t=!0;for(var _=n.length;_;){for(o=n,n=[];++e<_;)o&&o[e].run();e=-1,_=n.length}o=null,t=!1,function(p){if(g===clearTimeout)return clearTimeout(p);if((g===u||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(p);try{g(p)}catch{try{return g.call(null,p)}catch{return g.call(this,p)}}}(c)}}function l(c,_){this.fun=c,this.array=_}function h(){}f.nextTick=function(c){var _=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)_[p-1]=arguments[p];n.push(new l(c,_)),n.length!==1||t||i(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=h,f.addListener=h,f.once=h,f.off=h,f.removeListener=h,f.removeAllListeners=h,f.emit=h,f.prependListener=h,f.prependOnceListener=h,f.listeners=function(c){return[]},f.binding=function(c){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(c){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(S,C){S.exports=function(d,g){if(!g)return!0;if(d._on_timeout)return!1;var f=Math.ceil(1e3/g);return f<2||(setTimeout(function(){delete d._on_timeout},f),d._on_timeout=!0,!0)}},function(S,C,d){var g=d(0);S.exports=function f(s,u){s=s||g.event,u=u||g.eventRemove;var i=[],o={attach:function(n,t,e,r){i.push({element:n,event:t,callback:e,capture:r}),s(n,t,e,r)},detach:function(n,t,e,r){u(n,t,e,r);for(var a=0;a<i.length;a++){var l=i[a];l.element===n&&l.event===t&&l.callback===e&&l.capture===r&&(i.splice(a,1),a--)}},detachAll:function(){for(var n=i.slice(),t=0;t<n.length;t++){var e=n[t];o.detach(e.element,e.event,e.callback,e.capture),o.detach(e.element,e.event,e.callback,void 0),o.detach(e.element,e.event,e.callback,!1),o.detach(e.element,e.event,e.callback,!0)}i.splice(0,i.length)},extend:function(){return f(this.event,this.eventRemove)}};return o}},function(S,C){S.exports=function(d){var g=new RegExp(`<(?:.|
)*?>`,"gm"),f=new RegExp(" +","gm");function s(n){return(n+"").replace(g," ").replace(f," ")}var u=new RegExp("'","gm");function i(n){return(n+"").replace(u,"&#39;")}for(var o in d._waiAria={getAttributeString:function(n){var t=[" "];for(var e in n){var r=i(s(n[e]));t.push(e+"='"+r+"'")}return t.push(" "),t.join(" ")},getTimelineCellAttr:function(n){return d._waiAria.getAttributeString({"aria-label":n})},_taskCommonAttr:function(n,t){n.start_date&&n.end_date&&(t.setAttribute("aria-label",s(d.templates.tooltip_text(n.start_date,n.end_date,n))),n.$dataprocessor_class&&t.setAttribute("aria-busy",!0),t.setAttribute("aria-selected",d.isSelectedTask(n.id)?"true":"false"))},setTaskBarAttr:function(n,t){this._taskCommonAttr(n,t),!d.isReadonly(n)&&d.config.drag_move&&(n.id!=d.getState("tasksDnd").drag_id?t.setAttribute("aria-grabbed",!1):t.setAttribute("aria-grabbed",!0))},taskRowAttr:function(n,t){this._taskCommonAttr(n,t),!d.isReadonly(n)&&d.config.order_branch&&t.setAttribute("aria-grabbed",!1),t.setAttribute("role","row"),t.setAttribute("aria-level",n.$level),d.hasChild(n.id)&&t.setAttribute("aria-expanded",n.$open?"true":"false")},linkAttr:function(n,t){var e=d.config.links,r=n.type==e.finish_to_start||n.type==e.start_to_start,a=n.type==e.start_to_start||n.type==e.start_to_finish,l=d.locale.labels.link+" "+d.templates.drag_link(n.source,a,n.target,r);t.setAttribute("aria-label",s(l)),d.isReadonly(n)&&t.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(n){n.setAttribute("role","separator")},lightboxHiddenAttr:function(n){n.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(n){n.setAttribute("aria-hidden","false")},lightboxAttr:function(n){n.setAttribute("role","dialog"),n.setAttribute("aria-hidden","true"),n.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(n){return this.getAttributeString({role:"button","aria-label":d.locale.labels[n],tabindex:"0"})},lightboxHeader:function(n,t){n.setAttribute("aria-label",t)},lightboxSelectAttrString:function(n){var t="";switch(n){case"%Y":t=d.locale.labels.years;break;case"%m":t=d.locale.labels.months;break;case"%d":t=d.locale.labels.days;break;case"%H:%i":t=d.locale.labels.hours+d.locale.labels.minutes}return d._waiAria.getAttributeString({"aria-label":t})},lightboxDurationInputAttrString:function(n){return this.getAttributeString({"aria-label":d.locale.labels.column_duration,"aria-valuemin":"0"})},gridAttrString:function(){return[" role='treegrid'",d.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(n,t){var e="";if(n.name=="add")e=this.getAttributeString({role:"button","aria-label":d.locale.labels.new_task});else{var r={role:"columnheader","aria-label":t};d._sort&&d._sort.name==n.name&&(d._sort.direction=="asc"?r["aria-sort"]="ascending":r["aria-sort"]="descending"),e=this.getAttributeString(r)}return e},gridDataAttrString:function(){return"role='rowgroup'"},gridCellAttrString:function(n,t,e){var r={role:"gridcell","aria-label":t};return n.editor&&!d.isReadonly(e)||(r["aria-readonly"]=!0),this.getAttributeString(r)},gridAddButtonAttrString:function(n){return this.getAttributeString({role:"button","aria-label":d.locale.labels.new_task})},messageButtonAttrString:function(n){return"tabindex='0' role='button' aria-label='"+n+"'"},messageInfoAttr:function(n){n.setAttribute("role","alert")},messageModalAttr:function(n,t){n.setAttribute("role","dialog"),t&&n.setAttribute("aria-labelledby",t)},quickInfoAttr:function(n){n.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(n,t){n.setAttribute("aria-label",t)},quickInfoButtonAttrString:function(n){return d._waiAria.getAttributeString({role:"button","aria-label":n,tabindex:"0"})},tooltipAttr:function(n){n.setAttribute("role","tooltip")},tooltipVisibleAttr:function(n){n.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(n){n.setAttribute("aria-hidden","true")}},d._waiAria)d._waiAria[o]=function(n){return function(){return d.config.wai_aria_attributes?n.apply(this,arguments):""}}(d._waiAria[o])}},function(S,C){S.exports=function(d){d._extend_to_optional=function(g){var f=g,s={render:f.render,focus:f.focus,set_value:function(u,i,o,n){var t=d._resolve_default_mapping(n);if(!o[t.start_date]||t.start_date=="start_date"&&this._isAllowedUnscheduledTask(o)){s.disable(u,n);var e={};for(var r in t)e[t[r]]=o[r];return f.set_value.call(d,u,i,e,n)}return s.enable(u,n),f.set_value.call(d,u,i,o,n)},get_value:function(u,i,o){return o.disabled?{start_date:null}:f.get_value.call(d,u,i,o)},update_block:function(u,i){if(d.callEvent("onSectionToggle",[d._lightbox_id,i]),u.style.display=i.disabled?"none":"block",i.button){var o=u.previousSibling.querySelector(".gantt_custom_button_label"),n=d.locale.labels,t=i.disabled?n[i.name+"_enable_button"]:n[i.name+"_disable_button"];o.innerHTML=t}d.resizeLightbox()},disable:function(u,i){i.disabled=!0,s.update_block(u,i)},enable:function(u,i){i.disabled=!1,s.update_block(u,i)},button_click:function(u,i,o,n){if(d.callEvent("onSectionButton",[d._lightbox_id,o])!==!1){var t=d._get_typed_lightbox_config()[u];t.disabled?s.enable(n,t):s.disable(n,t)}}};return s},d.form_blocks.duration_optional=d._extend_to_optional(d.form_blocks.duration),d.form_blocks.time_optional=d._extend_to_optional(d.form_blocks.time)}},function(S,C,d){var g=d(3);S.exports=function(f){var s=d(12)(f);function u(){return s.apply(this,arguments)||this}return g(u,s),u.prototype.render=function(i){var o=f.config.types,n=f.locale.labels,t=[],e=i.filter||function(l,h){return!o.placeholder||h!==o.placeholder};for(var r in o)e(r,o[r])&&t.push({key:o[r],label:n["type_"+r]});i.options=t;var a=i.onchange;return i.onchange=function(){f.changeLightboxType(this.value),this.value===f.config.types.task&&(f._lightbox_new_type="task"),typeof a=="function"&&a.apply(this,arguments)},s.prototype.render.apply(this,arguments)},u}},function(S,C,d){var g=d(3),f=d(29);S.exports=function(s){var u=d(6)(s);function i(){return u.apply(this,arguments)||this}function o(t){return!t||t===s.config.constraint_types.ASAP||t===s.config.constraint_types.ALAP}function n(t,e){for(var r=o(e),a=0;a<t.length;a++)t[a].disabled=r}return g(i,u),i.prototype.render=function(t){var e=(t.height||30)+"px",r="<div class='gantt_cal_ltext gantt_section_"+t.name+"' style='height:"+e+";'>",a=[];for(var l in s.config.constraint_types)a.push({key:s.config.constraint_types[l],label:s.locale.labels[s.config.constraint_types[l]]});return t.options=t.options||a,r+="<span data-constraint-type-select>"+f.getHtmlSelect(t.options,[{key:"data-type",value:"constraint-type"}])+"</span>",r+="<label data-constraint-time-select>"+(s.locale.labels.constraint_date||"Constraint date")+": "+s.form_blocks.getTimePicker.call(this,t)+"</label>",r+="</div>"},i.prototype.set_value=function(t,e,r,a){var l=t.querySelector("[data-constraint-type-select] select"),h=t.querySelectorAll("[data-constraint-time-select] select"),c=a._time_format_order,_=s._resolve_default_mapping(a);l._eventsInitialized||(l.addEventListener("change",function(m){n(h,m.target.value)}),l._eventsInitialized=!0);var p=r[_.constraint_date]||new Date;s.form_blocks._fill_lightbox_select(h,0,p,c,a);var v=r[_.constraint_type]||s.getConstraintType(r);l.value=v,n(h,v)},i.prototype.get_value=function(t,e,r){var a=t.querySelector("[data-constraint-type-select] select"),l=t.querySelectorAll("[data-constraint-time-select] select"),h=a.value,c=null;return o(h)||(c=s.form_blocks.getTimePickerValue(l,r)),{constraint_type:h,constraint_date:c}},i.prototype.focus=function(t){s._focus(t.querySelector("select"))},i}},function(S,C,d){var g=d(3);S.exports=function(f){var s=d(12)(f);function u(){return s.apply(this,arguments)||this}function i(o,n){var t=[],e=[];n&&(t=f.getTaskByTime(),o.allow_root&&t.unshift({id:f.config.root_id,text:o.root_label||""}),t=function(h,c,_){var p=c.filter||function(){return!0};h=h.slice(0);for(var v=0;v<h.length;v++){var m=h[v];(m.id==_||f.isChildOf(m.id,_)||p(m.id,m)===!1)&&(h.splice(v,1),v--)}return h}(t,o,n),o.sort&&t.sort(o.sort));for(var r=o.template||f.templates.task_text,a=0;a<t.length;a++){var l=r.apply(f,[t[a].start_date,t[a].end_date,t[a]]);l===void 0&&(l=""),e.push({key:t[a].id,label:l})}return o.options=e,o.map_to=o.map_to||"parent",f.form_blocks.select.render.apply(this,arguments)}return g(u,s),u.prototype.render=function(o){return i(o,!1)},u.prototype.set_value=function(o,n,t,e){n===0&&(n="0");var r=document.createElement("div");r.innerHTML=i(e,t.id);var a=r.removeChild(r.firstChild);return o.onselect=null,o.parentNode.replaceChild(a,o),f.form_blocks.select.set_value.apply(f,[a,n,t,e])},u}},function(S,C,d){var g=d(3),f=d(37).default;S.exports=function(s){var u=d(6)(s);function i(){return u.apply(this,arguments)||this}function o(e){return e.formatter||new f}function n(e,r){var a=e.getElementsByTagName("select"),l=r._time_format_order,h=0,c=0;if(s.defined(l[3])){var _=a[l[3]],p=parseInt(_.value,10);isNaN(p)&&_.hasAttribute("data-value")&&(p=parseInt(_.getAttribute("data-value"),10)),h=Math.floor(p/60),c=p%60}return new Date(a[l[2]].value,a[l[1]].value,a[l[0]].value,h,c)}function t(e,r){var a=e.getElementsByTagName("input")[1];return(a=o(r).parse(a.value))&&!window.isNaN(a)||(a=1),a<0&&(a*=-1),a}return g(i,u),i.prototype.render=function(e){var r="<div class='gantt_time_selects'>"+s.form_blocks.getTimePicker.call(this,e)+"</div>",a=" "+s.locale.labels[s.config.duration_unit+"s"]+" ",l=e.single_date?" style='display:none'":"",h=e.readonly?" disabled='disabled'":"",c=s._waiAria.lightboxDurationInputAttrString(e),_="gantt_duration_value";e.formatter&&(a="",_+=" gantt_duration_value_formatted");var p="<div class='gantt_duration' "+l+"><input type='button' class='gantt_duration_dec' value='\u2212'"+h+"><input type='text' value='5days' class='"+_+"'"+h+" "+c+"><input type='button' class='gantt_duration_inc' value='+'"+h+">"+a+"<span></span></div>";return"<div style='height:"+(e.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+r+" "+p+"</div>"},i.prototype.set_value=function(e,r,a,l){var h,c,_,p,v=e.getElementsByTagName("select"),m=e.getElementsByTagName("input"),k=m[1],y=[m[0],m[2]],w=e.getElementsByTagName("span")[0],$=l._time_format_order;function b(){var T=n.call(s,e,l),E=t.call(s,e,l),D=s.calculateEndDate({start_date:T,duration:E,task:a}),A=s.templates.task_end_date||s.templates.task_date;w.innerHTML=A(D)}function x(T){var E=k.value;E=o(l).parse(E),window.isNaN(E)&&(E=0),(E+=T)<1&&(E=1),k.value=o(l).format(E),b()}y[0].onclick=s.bind(function(){x(-1*s.config.duration_step)},this),y[1].onclick=s.bind(function(){x(1*s.config.duration_step)},this),v[0].onchange=b,v[1].onchange=b,v[2].onchange=b,v[3]&&(v[3].onchange=b),k.onkeydown=s.bind(function(T){var E;return(E=(T=T||window.event).charCode||T.keyCode||T.which)==s.constants.KEY_CODES.DOWN?(x(-1*s.config.duration_step),!1):E==s.constants.KEY_CODES.UP?(x(1*s.config.duration_step),!1):void window.setTimeout(b,1)},this),k.onchange=s.bind(b,this),typeof(h=s._resolve_default_mapping(l))=="string"&&(h={start_date:h}),c=a[h.start_date]||new Date,_=a[h.end_date]||s.calculateEndDate({start_date:c,duration:1,task:a}),p=Math.round(a[h.duration])||s.calculateDuration({start_date:c,end_date:_,task:a}),p=o(l).format(p),s.form_blocks._fill_lightbox_select(v,0,c,$,l),k.value=p,b()},i.prototype.get_value=function(e,r,a){var l=n(e,a),h=t(e,a),c=s.calculateEndDate({start_date:l,duration:h,task:r});return typeof s._resolve_default_mapping(a)=="string"?l:{start_date:l,end_date:c,duration:h}},i.prototype.focus=function(e){s._focus(e.getElementsByTagName("select")[0])},i}},function(S,C,d){var g=d(3);S.exports=function(f){var s=d(6)(f);function u(){return s.apply(this,arguments)||this}return g(u,s),u.prototype.render=function(i){var o="<div class='gantt_cal_ltext' style='height:"+((i.height||"23")+"px")+";'>";if(i.options&&i.options.length)for(var n=0;n<i.options.length;n++)o+="<label><input type='radio' value='"+i.options[n].key+"' name='"+i.name+"'>"+i.options[n].label+"</label>";return o+="</div>"},u.prototype.set_value=function(i,o,n,t){var e;t.options&&t.options.length&&(e=i.querySelector("input[type=radio][value='"+o+"']")||i.querySelector("input[type=radio][value='"+t.default_value+"']"))&&(!i._dhx_onchange&&t.onchange&&(i.onchange=t.onchange,i._dhx_onchange=!0),e.checked=!0)},u.prototype.get_value=function(i,o){var n=i.querySelector("input[type=radio]:checked");return n?n.value:""},u.prototype.focus=function(i){f._focus(i.querySelector("input[type=radio]"))},u}},function(S,C,d){var g=d(2),f=d(3);S.exports=function(s){var u=d(6)(s);function i(){return u.apply(this,arguments)||this}return f(i,u),i.prototype.render=function(o){var n="<div class='gantt_cal_ltext' style='height:"+((o.height||"23")+"px")+";'>";if(o.options&&o.options.length)for(var t=0;t<o.options.length;t++)n+="<label><input type='checkbox' value='"+o.options[t].key+"' name='"+o.name+"'>"+o.options[t].label+"</label>";else o.single_value=!0,n+="<label><input type='checkbox' name='"+o.name+"'></label>";return n+="</div>"},i.prototype.set_value=function(o,n,t,e){var r=Array.prototype.slice.call(o.querySelectorAll("input[type=checkbox]"));!o._dhx_onchange&&e.onchange&&(o.onchange=e.onchange,o._dhx_onchange=!0),e.single_value?r[0].checked=!!n:g.forEach(r,function(a){a.checked=!!n&&n.indexOf(a.value)>=0})},i.prototype.get_value=function(o,n,t){return t.single_value?o.querySelector("input[type=checkbox]").checked:g.arrayMap(Array.prototype.slice.call(o.querySelectorAll("input[type=checkbox]:checked")),function(e){return e.value})},i.prototype.focus=function(o){s._focus(o.querySelector("input[type=checkbox]"))},i}},function(S,C,d){var g=d(3);S.exports=function(f){var s=d(6)(f);function u(){return s.apply(this,arguments)||this}return g(u,s),u.prototype.render=function(i){var o=f.form_blocks.getTimePicker.call(this,i),n="<div style='height:"+(i.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return n+=o,i.single_date?(o=f.form_blocks.getTimePicker.call(this,i,!0),n+="<span></span>"):n+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",n+=o,n+="</div>"},u.prototype.set_value=function(i,o,n,t){var e=t,r=i.getElementsByTagName("select"),a=t._time_format_order;if(e.auto_end_date)for(var l=function(){_=new Date(r[a[2]].value,r[a[1]].value,r[a[0]].value,0,0),p=f.calculateEndDate({start_date:_,duration:1,task:n}),f.form_blocks._fill_lightbox_select(r,a.size,p,a,e)},h=0;h<4;h++)r[h].onchange=l;var c=f._resolve_default_mapping(t);typeof c=="string"&&(c={start_date:c});var _=n[c.start_date]||new Date,p=n[c.end_date]||f.calculateEndDate({start_date:_,duration:1,task:n});f.form_blocks._fill_lightbox_select(r,0,_,a,e),f.form_blocks._fill_lightbox_select(r,a.size,p,a,e)},u.prototype.get_value=function(i,o,n){var t,e=i.getElementsByTagName("select"),r=n._time_format_order;return t=f.form_blocks.getTimePickerValue(e,n),typeof f._resolve_default_mapping(n)=="string"?t:{start_date:t,end_date:function(a,l,h){var c=f.form_blocks.getTimePickerValue(a,n,l.size);return c<=h&&(n.autofix_end!==!1||n.single_date)?f.date.add(h,f._get_timepicker_step(),"minute"):c}(e,r,t)}},u.prototype.focus=function(i){f._focus(i.getElementsByTagName("select")[0])},u}},function(S,C,d){var g=d(3);S.exports=function(f){var s=d(6)(f);function u(){return s.apply(this,arguments)||this}return g(u,s),u.prototype.render=function(i){return"<div class='gantt_cal_ltext' style='height:"+((i.height||"130")+"px")+";'><textarea></textarea></div>"},u.prototype.set_value=function(i,o){f.form_blocks.textarea._get_input(i).value=o||""},u.prototype.get_value=function(i){return f.form_blocks.textarea._get_input(i).value},u.prototype.focus=function(i){var o=f.form_blocks.textarea._get_input(i);f._focus(o,!0)},u.prototype._get_input=function(i){return i.querySelector("textarea")},u}},function(S,C,d){var g=d(3);S.exports=function(f){var s=d(6)(f);function u(){return s.apply(this,arguments)||this}return g(u,s),u.prototype.render=function(i){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+((i.height||"30")+"px")+";'></div>"},u.prototype.set_value=function(i,o){i.innerHTML=o||""},u.prototype.get_value=function(i){return i.innerHTML||""},u.prototype.focus=function(){},u}},function(S,C,d){function g(f){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(f)}S.exports=function(f){var s=d(1),u=d(2),i=d(56)(f),o=d(55)(f),n=d(54)(f),t=d(12)(f),e=d(53)(f),r=d(52)(f),a=d(51)(f),l=d(50)(f),h=d(12)(f),c=d(49)(f),_=d(48)(f);function p(m,k){var y,w,$="";for(w=0;w<m.length;w++)y=f.config._migrate_buttons[m[w]]?f.config._migrate_buttons[m[w]]:m[w],$+="<div "+f._waiAria.lightboxButtonAttrString(y)+" class='gantt_btn_set gantt_left_btn_set "+y+"_set'"+(k?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+y+"'></div><div>"+f.locale.labels[y]+"</div></div>";return $}function v(m,k,y){var w,$,b,x,T,E,D="";switch(y.timeFormat[k]){case"%Y":for(m._time_format_order[2]=k,m._time_format_order.size++,m.year_range&&(isNaN(m.year_range)?m.year_range.push&&(b=m.year_range[0],x=m.year_range[1]):w=m.year_range),w=w||10,$=$||Math.floor(w/2),b=b||y.date.getFullYear()-$,x=x||f.getState().max_date.getFullYear()+$,T=b;T<x;T++)D+="<option value='"+T+"'>"+T+"</option>";break;case"%m":for(m._time_format_order[1]=k,m._time_format_order.size++,T=0;T<12;T++)D+="<option value='"+T+"'>"+f.locale.date.month_full[T]+"</option>";break;case"%d":for(m._time_format_order[0]=k,m._time_format_order.size++,T=1;T<32;T++)D+="<option value='"+T+"'>"+T+"</option>";break;case"%H:%i":for(m._time_format_order[3]=k,m._time_format_order.size++,T=y.first,E=y.date.getDate(),m._time_values=[];T<y.last;)D+="<option value='"+T+"'>"+f.templates.time_picker(y.date)+"</option>",m._time_values.push(T),y.date.setTime(y.date.valueOf()+60*f._get_timepicker_step()*1e3),T=24*(y.date.getDate()!=E?1:0)*60+60*y.date.getHours()+y.date.getMinutes()}return D}f._lightbox_methods={},f._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",f._lightbox_root=f.$root,f.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:f._lightbox_id}}),f.showLightbox=function(m){if(this.callEvent("onBeforeLightbox",[m])){var k=this.getTask(m),y=this.getLightbox(this.getTaskType(k.type));this._center_lightbox(y),this.showCover(),this._fill_lightbox(m,y),this._waiAria.lightboxVisibleAttr(y),this.callEvent("onLightbox",[m])}},f._get_timepicker_step=function(){if(this.config.round_dnd_dates){var m;if(function(y){var w=y.$ui.getView("timeline");return!(!w||!w.isVisible())}(this)){var k=f.getScale();m=u.getSecondsInUnit(k.unit)*k.step/60}return(!m||m>=1440)&&(m=this.config.time_step),m}return this.config.time_step},f.getLabel=function(m,k){for(var y=this._get_typed_lightbox_config(),w=0;w<y.length;w++)if(y[w].map_to==m){for(var $=y[w].options,b=0;b<$.length;b++)if($[b].key==k)return $[b].label}return""},f.updateCollection=function(m,k){k=k.slice(0);var y=f.serverList(m);if(!y)return!1;y.splice(0,y.length),y.push.apply(y,k||[]),f.resetLightbox()},f.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},f.getLightbox=function(m){var k,y,w,$,b,x="";if(function(){var E=f.config.csp===!0,D=!!window.Sfdc||!!window.$A||window.Aura||"$shadowResolver$"in document.body;f._lightbox_root=E||D?f.$root:document.body}(),m===void 0&&(m=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(m)){this._lightbox_type=this.getTaskType(m),k=document.createElement("div"),x="gantt_cal_light",y=this._is_lightbox_timepicker(),(f.config.wide_form||y)&&(x+=" gantt_cal_light_wide"),y&&(f.config.wide_form=!0,x+=" gantt_cal_light_full"),k.className=x,k.style.visibility="hidden",w=this._lightbox_template,w+=p(this.config.buttons_left),w+=p(this.config.buttons_right,!0),k.innerHTML=w,f._waiAria.lightboxAttr(k),f.config.drag_lightbox&&(k.firstChild.onmousedown=f._ready_to_dnd,k.firstChild.onselectstart=function(){return!1},k.firstChild.style.cursor="pointer",f._init_dnd_events()),this._lightbox&&this.resetLightbox(),f._lightbox_root.insertBefore(k,f._lightbox_root.firstChild),this._lightbox=k,$=this._get_typed_lightbox_config(m),w=this._render_sections($);var T=(b=k.querySelector("div.gantt_cal_larea")).style.overflow;b.style.overflow="hidden",b.innerHTML=w,function(E){var D,A,M,I,N,P;for(P=0;P<E.length;P++)D=E[P],M=f._lightbox_root.querySelector("#"+D.id),D.id&&M&&(A=M.querySelector("label"),(I=M.nextSibling)&&(N=I.querySelector("input, select, textarea"))&&(N.id=N.id||"input_"+f.uid(),D.inputId=N.id,A.setAttribute("for",D.inputId)))}($),this.resizeLightbox(),b.style.overflow=T,this._init_lightbox_events(this),k.style.display="none",k.style.visibility="visible"}return this._lightbox},f._render_sections=function(m){for(var k="",y=0;y<m.length;y++){var w=this.form_blocks[m[y].type];if(w){m[y].id="area_"+this.uid();var $=m[y].hidden?" style='display:none'":"",b="";m[y].button&&(b="<div class='gantt_custom_button' data-index='"+y+"'><div class='gantt_custom_button_"+m[y].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+m[y].button]+"</div></div>"),this.config.wide_form&&(k+="<div class='gantt_wrap_section' "+$+">"),k+="<div id='"+m[y].id+"' class='gantt_cal_lsection'><label>"+b+this.locale.labels["section_"+m[y].name]+"</label></div>"+w.render.call(this,m[y]),k+="</div>"}}return k},f.resizeLightbox=function(){if(this._lightbox){var m=this._lightbox.querySelector(".gantt_cal_larea");m.style.height="0px",m.style.height=m.scrollHeight+"px",this._lightbox.style.height=m.scrollHeight+this.config.lightbox_additional_height+"px",m.style.height=m.scrollHeight+"px"}},f._center_lightbox=function(m){if(m){m.style.display="block";var k=window.pageYOffset||f._lightbox_root.scrollTop||document.documentElement.scrollTop,y=window.pageXOffset||f._lightbox_root.scrollLeft||document.documentElement.scrollLeft,w=window.innerHeight||document.documentElement.clientHeight;m.style.top=k?Math.round(k+Math.max((w-m.offsetHeight)/2,0))+"px":Math.round(Math.max((w-m.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>f._lightbox_root.offsetWidth?m.style.left=Math.round(y+(f._lightbox_root.offsetWidth-m.offsetWidth)/2)+"px":m.style.left=Math.round((f._lightbox_root.offsetWidth-m.offsetWidth)/2)+"px"}},f.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",(f._lightbox_root||f.$root).appendChild(this._cover))},f.event(window,"deviceorientation",function(){f.getState().lightbox&&f._center_lightbox(f.getLightbox())}),f._init_lightbox_events=function(){f.lightbox_events={},f.lightbox_events.gantt_save_btn=function(){f._save_lightbox()},f.lightbox_events.gantt_delete_btn=function(){f._lightbox_new_type=null,f.callEvent("onLightboxDelete",[f._lightbox_id])&&(f.isTaskExists(f._lightbox_id)?f.$click.buttons.delete(f._lightbox_id):f.hideLightbox())},f.lightbox_events.gantt_cancel_btn=function(){f._cancel_lightbox()},f.lightbox_events.default=function(m,k){if(k.getAttribute("data-dhx-button"))f.callEvent("onLightboxButton",[k.className,k,m]);else{var y,w,$=s.getClassName(k);if($.indexOf("gantt_custom_button")!=-1)if($.indexOf("gantt_custom_button_")!=-1)for(y=k.parentNode.getAttribute("data-index"),w=k;w&&s.getClassName(w).indexOf("gantt_cal_lsection")==-1;)w=w.parentNode;else y=k.getAttribute("data-index"),w=k.parentNode,k=k.firstChild;var b=f._get_typed_lightbox_config();y&&(y*=1,f.form_blocks[b[1*y].type].button_click(y,k,w,w.nextSibling))}},this.event(f.getLightbox(),"click",function(m){m=m||window.event;var k=s.getTargetNode(m),y=s.getClassName(k);return y||(k=k.previousSibling,y=s.getClassName(k)),k&&y&&y.indexOf("gantt_btn_set")===0&&(k=k.firstChild,y=s.getClassName(k)),!(!k||!y)&&(f.defined(f.lightbox_events[k.className])?f.lightbox_events[k.className]:f.lightbox_events.default)(m,k)}),f.getLightbox().onkeydown=function(m){var k=m||window.event,y=m.target||m.srcElement,w=s.getClassName(y).indexOf("gantt_btn_set")>-1;switch((m||k).keyCode){case f.constants.KEY_CODES.SPACE:if((m||k).shiftKey)return;w&&y.click&&y.click();break;case f.keys.edit_save:if((m||k).shiftKey)return;w&&y.click?y.click():f._save_lightbox();break;case f.keys.edit_cancel:f._cancel_lightbox()}}},f._cancel_lightbox=function(){var m=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,m.$new]),f.isTaskExists(m.id)&&m.$new&&(this.silent(function(){f.$data.tasksStore.removeItem(m.id),f._update_flags(m.id,null)}),this.refreshData()),this.hideLightbox()},f._save_lightbox=function(){var m=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,m,!!m.$new])&&(f.$data.tasksStore._skipTaskRecalculation="lightbox",m.$new?(delete m.$new,this.addTask(m,m.parent,this.getTaskIndex(m.id))):this.isTaskExists(m.id)&&(this.mixin(this.getTask(m.id),m,!0),this.refreshTask(m.id),this.updateTask(m.id)),f.$data.tasksStore._skipTaskRecalculation=!1,this.refreshData(),this.hideLightbox())},f._resolve_default_mapping=function(m){var k=m.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[m.type]?m.map_to=="auto"?k={start_date:"start_date",end_date:"end_date",duration:"duration"}:typeof m.map_to=="string"&&(k={start_date:m.map_to}):m.type==="constraint"&&(m.map_to&&typeof m.map_to!="string"||(k={constraint_type:"constraint_type",constraint_date:"constraint_date"})),k},f.getLightboxValues=function(){var m={};f.isTaskExists(this._lightbox_id)&&(m=this.mixin({},this.getTask(this._lightbox_id)));for(var k=this._get_typed_lightbox_config(),y=0;y<k.length;y++){var w=f._lightbox_root.querySelector("#"+k[y].id);w=w&&w.nextSibling;var $=this.form_blocks[k[y].type];if($){var b=$.get_value.call(this,w,m,k[y]),x=f._resolve_default_mapping(k[y]);if(typeof x=="string"&&x!="auto")m[x]=b;else if(g(x)=="object")for(var T in x)x[T]&&(m[x[T]]=b[T])}}return f._lightbox_new_type=="task"&&(m.type=f.config.types.task,f._lightbox_new_type=null),m},f.hideLightbox=function(){var m=this.getLightbox();m&&(m.style.display="none"),this._waiAria.lightboxHiddenAttr(m),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},f.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},f.resetLightbox=function(){f._lightbox&&!f._custom_lightbox&&f._lightbox.parentNode.removeChild(f._lightbox),f._lightbox=null,f.hideCover()},f._set_lightbox_values=function(m,k){var y=m,w=k.getElementsByTagName("span"),$=[];f.templates.lightbox_header?($.push(""),$.push(f.templates.lightbox_header(y.start_date,y.end_date,y)),w[1].innerHTML="",w[2].innerHTML=f.templates.lightbox_header(y.start_date,y.end_date,y)):($.push(this.templates.task_time(y.start_date,y.end_date,y)),$.push(String(this.templates.task_text(y.start_date,y.end_date,y)||"").substr(0,70)),w[1].innerHTML=this.templates.task_time(y.start_date,y.end_date,y),w[2].innerHTML=String(this.templates.task_text(y.start_date,y.end_date,y)||"").substr(0,70)),w[1].innerHTML=$[0],w[2].innerHTML=$[1],f._waiAria.lightboxHeader(k,$.join(" "));for(var b=this._get_typed_lightbox_config(this.getLightboxType()),x=0;x<b.length;x++){var T=b[x];if(this.form_blocks[T.type]){var E=f._lightbox_root.querySelector("#"+T.id).nextSibling,D=this.form_blocks[T.type],A=f._resolve_default_mapping(b[x]),M=this.defined(y[A])?y[A]:T.default_value;D.set_value.call(f,E,M,y,T),T.focus&&D.focus.call(f,E)}}f.isTaskExists(m.id)&&(f._lightbox_id=m.id)},f._fill_lightbox=function(m,k){var y=this.getTask(m);this._set_lightbox_values(y,k)},f.getLightboxSection=function(m){for(var k=this._get_typed_lightbox_config(),y=0;y<k.length&&k[y].name!=m;y++);var w=k[y];if(!w)return null;this._lightbox||this.getLightbox();var $=f._lightbox_root.querySelector("#"+w.id),b=$.nextSibling,x={section:w,header:$,node:b,getValue:function(E){return f.form_blocks[w.type].get_value.call(f,b,E||{},w)},setValue:function(E,D){return f.form_blocks[w.type].set_value.call(f,b,E,D||{},w)}},T=this._lightbox_methods["get_"+w.type+"_control"];return T?T(x):x},f._lightbox_methods.get_template_control=function(m){return m.control=m.node,m},f._lightbox_methods.get_select_control=function(m){return m.control=m.node.getElementsByTagName("select")[0],m},f._lightbox_methods.get_textarea_control=function(m){return m.control=m.node.getElementsByTagName("textarea")[0],m},f._lightbox_methods.get_time_control=function(m){return m.control=m.node.getElementsByTagName("select"),m},f._init_dnd_events=function(){var m=f._lightbox_root;this.event(m,"mousemove",f._move_while_dnd),this.event(m,"mouseup",f._finish_dnd)},f._move_while_dnd=function(m){if(f._dnd_start_lb){document.gantt_unselectable||(f._lightbox_root.className+=" gantt_unselectable",document.gantt_unselectable=!0);var k=f.getLightbox(),y=[m.pageX,m.pageY];k.style.top=f._lb_start[1]+y[1]-f._dnd_start_lb[1]+"px",k.style.left=f._lb_start[0]+y[0]-f._dnd_start_lb[0]+"px"}},f._ready_to_dnd=function(m){var k=f.getLightbox();f._lb_start=[parseInt(k.style.left,10),parseInt(k.style.top,10)],f._dnd_start_lb=[m.pageX,m.pageY]},f._finish_dnd=function(){f._lb_start&&(f._lb_start=f._dnd_start_lb=!1,f._lightbox_root.className=f._lightbox_root.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},f._focus=function(m,k){if(m&&m.focus&&!f.config.touch)try{k&&m.select&&m.select(),m.focus()}catch{}},f.form_blocks={getTimePicker:function(m,k){var y,w,$,b="",x=this.config,T={first:0,last:1440,date:this.date.date_part(new Date(f._min_date.valueOf())),timeFormat:function(E){var D,A,M;return E.time_format?E.time_format:(M=["%d","%m","%Y"],D=f.getScale(),A=D?D.unit:f.config.duration_unit,u.getSecondsInUnit(A)<u.getSecondsInUnit("day")&&M.push("%H:%i"),M)}(m)};for(m._time_format_order={size:0},f.config.limit_time_select&&(T.first=60*x.first_hour,T.last=60*x.last_hour+1,T.date.setHours(x.first_hour)),y=0;y<T.timeFormat.length;y++)y>0&&(b+=" "),(w=v(m,y,T))&&($=f._waiAria.lightboxSelectAttrString(T.timeFormat[y]),b+="<select "+(m.readonly?"disabled='disabled'":"")+(k?" style='display:none' ":"")+$+">"+w+"</select>");return b},getTimePickerValue:function(m,k,y){var w,$=k._time_format_order,b=f.defined($[3]),x=0,T=0,E=y||0;return b&&(w=parseInt(m[$[3]+E].value,10),x=Math.floor(w/60),T=w%60),new Date(m[$[2]+E].value,m[$[1]+E].value,m[$[0]+E].value,x,T)},_fill_lightbox_select:function(m,k,y,w){if(m[k+w[0]].value=y.getDate(),m[k+w[1]].value=y.getMonth(),m[k+w[2]].value=y.getFullYear(),f.defined(w[3])){var $=60*y.getHours()+y.getMinutes();$=Math.round($/f._get_timepicker_step())*f._get_timepicker_step();var b=m[k+w[3]];b.value=$,b.setAttribute("data-value",$)}},template:new i,textarea:new o,select:new t,time:new n,duration:new a,parent:new l,radio:new r,checkbox:new e,resources:new h,constraint:new c,typeselect:new _},f._is_lightbox_timepicker=function(){for(var m=this._get_typed_lightbox_config(),k=0;k<m.length;k++)if(m[k].name=="time"&&m[k].type=="time")return!0;return!1},f._simple_confirm=function(m,k,y,w){if(!m)return y();var $={text:m};k&&($.title=k),w&&($.ok=w),y&&($.callback=function(b){b&&y()}),f.confirm($)},f._get_typed_lightbox_config=function(m){m===void 0&&(m=this.getLightboxType());var k=function(y){for(var w in this.config.types)if(this.config.types[w]==y)return w;return"task"}.call(this,m);return f.config.lightbox[k+"_sections"]?f.config.lightbox[k+"_sections"]:f.config.lightbox.sections},f._silent_redraw_lightbox=function(m){var k=this.getLightboxType();if(this.getState().lightbox){var y=this.getState().lightbox,w=this.getLightboxValues(),$=this.copy(this.getTask(y));this.resetLightbox();var b=this.mixin($,w,!0),x=this.getLightbox(m||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(b,x),this.showCover()}else this.resetLightbox(),this.getLightbox(m||void 0);this.callEvent("onLightboxChange",[k,this.getLightboxType()])}}},function(S,C){S.exports=function(d){function g(u){var i=u.$config.scrollX?d.$ui.getView(u.$config.scrollX):null,o=u.$config.scrollY?d.$ui.getView(u.$config.scrollY):null,n={x:null,y:null};return i&&i.getScrollState().visible&&(n.x=i.$view.scrollLeft),o&&o.getScrollState().visible&&(n.y=o.$view.scrollTop),n}function f(){var u;return d.$ui.getView("timeline")&&(u=d.$ui.getView("timeline")._tasks_dnd),u}d.config.touch_drag=500,d.config.touch=!0,d.config.touch_feedback=!0,d.config.touch_feedback_duration=1,d._prevent_touch_scroll=!1,d._touch_feedback=function(){d.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(d.config.touch_feedback_duration)},d.attachEvent("onGanttReady",d.bind(function(){if(this.config.touch!="force"&&(this.config.touch=this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),this.config.touch){var u=!0;try{document.createEvent("TouchEvent")}catch{u=!1}u?this._touch_events(["touchmove","touchstart","touchend"],function(i){return i.touches&&i.touches.length>1?null:i.touches[0]?{target:i.target,pageX:i.touches[0].pageX,pageY:i.touches[0].pageY,clientX:i.touches[0].clientX,clientY:i.touches[0].clientY}:i},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(i){return i.pointerType=="mouse"?null:i},function(i){return!i||i.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(i){return i.pointerType==i.MSPOINTER_TYPE_MOUSE?null:i},function(i){return!i||i.pointerType==i.MSPOINTER_TYPE_MOUSE})}},d));var s=[];d._touch_events=function(u,i,o){for(var n,t=0,e=!1,r=!1,a=null,l=null,h=null,c=[],_=null,p=0;p<s.length;p++)d.eventRemove(s[p][0],s[p][1],s[p][2]);for((s=[]).push([d.$container,u[0],function(m){var k=f();if(!o(m)&&e){l&&clearTimeout(l);var y=i(m);if(k&&(k.drag.id||k.drag.start_drag))return k.on_mouse_move(y),m.preventDefault&&m.preventDefault(),m.cancelBubble=!0,!1;if(!d._prevent_touch_scroll){if(y&&a){var w=a.pageX-y.pageX,$=a.pageY-y.pageY;if(!r&&(Math.abs(w)>5||Math.abs($)>5)&&(r=!0,t=0,n=_?g(_):d.getScrollState()),r){var b,x=n.x+w,T=n.y+$;if(_?(function(E,D,A){var M=E.$config.scrollX?d.$ui.getView(E.$config.scrollX):null,I=E.$config.scrollY?d.$ui.getView(E.$config.scrollY):null;M&&M.scrollTo(D,null),I&&I.scrollTo(null,A)}(_,x,T),b=g(_)):(d.scrollTo(x,T),b=d.getScrollState()),n.x!=b.x&&$>2*w||n.y!=b.y&&w>2*$)return v(m)}}return v(m)}return!0}}]),s.push([this.$container,"contextmenu",function(m){if(e)return v(m)}]),s.push([this.$container,u[1],function(m){if(document&&document.body&&document.body.classList.add("gantt_touch_active"),!o(m))if(m.touches&&m.touches.length>1)e=!1;else{a=i(m),_=function(y){for(var w=d.$layout.getCellsByType("viewCell"),$=0;$<w.length;$++){var b=w[$].$view.getBoundingClientRect();if(y.clientX>=b.left&&y.clientX<=b.right&&y.clientY<=b.bottom&&y.clientY>=b.top)return w[$]}}(a),d._locate_css(a,"gantt_hor_scroll")||d._locate_css(a,"gantt_ver_scroll")||(e=!0);var k=f();l=setTimeout(function(){var y=d.locate(a);k&&y&&!d._locate_css(a,"gantt_link_control")&&!d._locate_css(a,"gantt_grid_data")&&(k.on_mouse_down(a),k.drag&&k.drag.start_drag&&(function(w){var $=d._getTaskLayers(),b=d.getTask(w);if(b&&d.isTaskVisible(w)){h=w;for(var x=0;x<$.length;x++)if((b=$[x].rendered[w])&&b.getAttribute(d.config.task_attribute)&&b.getAttribute(d.config.task_attribute)==w){var T=b.cloneNode(!0);c.push(b),$[x].rendered[w]=T,b.style.display="none",T.className+=" gantt_drag_move ",b.parentNode.appendChild(T)}}}(y),k._start_dnd(a),d._touch_drag=!0,d.refreshTask(y),d._touch_feedback())),l=null},d.config.touch_drag)}}]),s.push([this.$container,u[2],function(m){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!o(m)){l&&clearTimeout(l),d._touch_drag=!1,e=!1;var k=i(m),y=f();if(y&&y.on_mouse_up(k),h&&d.isTaskExists(h)&&(d.refreshTask(h),c.length&&(c.forEach(function($){$.parentNode&&$.parentNode.removeChild($)}),d._touch_feedback())),e=r=!1,c=[],h=null,a&&t){var w=new Date;w-t<500?(d.$services.getService("mouseEvents").onDoubleClick(a),v(m)):t=w}else t=new Date}}]),p=0;p<s.length;p++)d.event(s[p][0],s[p][1],s[p][2]);function v(m){return m&&m.preventDefault&&m.preventDefault(),m.cancelBubble=!0,!1}}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(8),f=d(4),s=["ctrlKey","altKey","shiftKey","metaKey"],u=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],i=function(){function o(n){var t=this;this.zoomIn=function(){var e=t.getCurrentLevel()-1;e<0||t.setLevel(e)},this.zoomOut=function(){var e=t.getCurrentLevel()+1;e>t._levels.length-1||t.setLevel(e)},this.getCurrentLevel=function(){return t._activeLevelIndex},this.getLevels=function(){return t._levels},this.setLevel=function(e){var r=t._getZoomIndexByName(e);r===-1&&t.$gantt.assert(r!==-1,"Invalid zoom level for gantt.ext.zoom.setLevel. "+e+" is not an expected value."),t._setLevel(r,0)},this._getZoomIndexByName=function(e){var r=-1;if(typeof e=="string"){if(!isNaN(Number(e))&&t._levels[Number(e)])r=Number(e);else for(var a=0;a<t._levels.length;a++)if(t._levels[a].name===e){r=a;break}}else r=e;return r},this._getVisibleDate=function(){if(!t.$gantt.$task)return null;var e=t.$gantt.getScrollState().x,r=t.$gantt.$task.offsetWidth;t._visibleDate=t.$gantt.dateFromPos(e+r/2)},this._setLevel=function(e,r){t._activeLevelIndex=e;var a=t.$gantt,l=a.copy(t._levels[t._activeLevelIndex]),h=a.copy(l);if(delete h.name,a.mixin(a.config,h,!0),!!a.$root&&!!a.$task){if(r){var c=t.$gantt.dateFromPos(r+t.$gantt.getScrollState().x);t.$gantt.render();var _=t.$gantt.posFromDate(c);t.$gantt.scrollTo(_-r)}else{var p=t.$gantt.$task.offsetWidth;t._visibleDate||t._getVisibleDate();var v=t._visibleDate;t.$gantt.render(),_=t.$gantt.posFromDate(v),t.$gantt.scrollTo(_-p/2)}t.callEvent("onAfterZoom",[t._activeLevelIndex,l])}},this._attachWheelEvent=function(e){var r,a=g.isFF?"wheel":"mousewheel";(r=typeof e.element=="function"?e.element():e.element)&&t._domEvents.attach(r,a,t.$gantt.bind(function(l){if(this._useKey&&(s.indexOf(this._useKey)<0||!l[this._useKey]))return!1;if(typeof this._handler=="function")return this._handler.apply(this,[l]),!0},t),{passive:!1})},this._defaultHandler=function(e){var r=t.$gantt.$task.getBoundingClientRect().x,a=e.clientX-r,l=!1;(t.$gantt.env.isFF?-40*e.deltaY:e.wheelDelta)>0&&(l=!0),e.preventDefault(),e.stopPropagation(),t._setScaleSettings(l,a)},this._setScaleDates=function(){t._initialStartDate&&t._initialEndDate&&(t.$gantt.config.start_date=t._initialStartDate,t.$gantt.config.end_date=t._initialEndDate)},this.$gantt=n,this._domEvents=this.$gantt._createDomEventScope()}return o.prototype.init=function(n){var t=this;this.$gantt.env.isNode||(this._initialStartDate=n.startDate,this._initialEndDate=n.endDate,this._activeLevelIndex=n.activeLevelIndex?n.activeLevelIndex:0,this._levels=this._mapScales(n.levels||u),this._handler=n.handler||this._defaultHandler,this._minColumnWidth=n.minColumnWidth||60,this._maxColumnWidth=n.maxColumnWidth||240,this._widthStep=n.widthStep||3/8*n.minColumnWidth,this._useKey=n.useKey,this._initialized||(f(this),this.$gantt.attachEvent("onGanttScroll",function(){t._getVisibleDate()})),this._domEvents.detachAll(),n.trigger==="wheel"&&(this.$gantt.$root?this._attachWheelEvent(n):this.$gantt.attachEvent("onGanttReady",function(){t._attachWheelEvent(n)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},o.prototype._mapScales=function(n){return n.map(function(t){return Array.isArray(t)?{scales:t}:t})},o.prototype._setScaleSettings=function(n,t){n?this._stepUp(t):this._stepDown(t)},o.prototype._stepUp=function(n){if(!(this._activeLevelIndex>=this._levels.length-1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var e=this.$gantt.config.min_column_width+this._widthStep;e>this._maxColumnWidth&&(e=this._minColumnWidth,t++),this.$gantt.config.min_column_width=e}else t++;this._setLevel(t,n)}},o.prototype._stepDown=function(n){if(!(this._activeLevelIndex<1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var e=this.$gantt.config.min_column_width-this._widthStep;e<this._minColumnWidth&&(e=this._maxColumnWidth,t--),this.$gantt.config.min_column_width=e}else t--;this._setLevel(t,n)}},o}();C.default=i},function(S,C){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(d,g,f){var s=document.createElement("DIV");f=f||window.gantt,s.id="gantt_"+f.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=f;var u=this.vs[this.av];return u.grid=f,f.init(s.id,d,g),s.firstChild.style.border="none",u.gridId=s.id,u.gridObj=s,this.vs[this._viewRestore()].grid}),window.dhtmlXCellObject!==void 0&&(window.dhtmlXCellObject.prototype.attachGantt=function(d,g,f){f=f||window.gantt;var s=document.createElement("DIV");return s.id="gantt_"+f.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=f,f.init(s.id,d,g),s.firstChild.style.border="none",s=null,this.callEvent("_onContentAttach",[]),this.dataObj}),S.exports=null},function(S,C){function d(g){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(g)}window.jQuery&&function(g){var f=[];g.fn.dhx_gantt=function(s){if(typeof(s=s||{})!="string"){var u=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)u.push(d(this.gantt)=="object"?this.gantt:window.gantt);else{var i=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var o in s)o!="data"&&(i.config[o]=s[o]);i.init(this),s.data&&i.parse(s.data),u.push(i)}}),u.length===1?u[0]:u}if(f[s])return f[s].apply(this,[]);g.error("Method "+s+" does not exist on jQuery.dhx_gantt")}}(window.jQuery),S.exports=null},function(S,C,d){var g=d(1),f=d(10);S.exports=function(s){var u=50,i=30,o=10,n=50,t=null,e=!1,r=null,a={started:!1},l={};function h(y){return y&&g.isChildOf(y,s.$root)&&y.offsetHeight}function c(){var y=!!document.querySelector(".gantt_drag_marker"),w=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),$=!!document.querySelector(".gantt_link_direction"),b=s.getState(),x=b.autoscroll;return e=y&&!w&&!$,!(!b.drag_mode&&!y||w)||x}function _(y){if(r&&(clearTimeout(r),r=null),y){var w=s.config.autoscroll_speed;w&&w<10&&(w=10),r=setTimeout(function(){t=setInterval(m,w||n)},s.config.autoscroll_delay||o)}}function p(y){y?(_(!0),a.started||(a.x=l.x,a.y=l.y,a.started=!0)):(t&&(clearInterval(t),t=null),_(!1),a.started=!1)}function v(y){var w=c();if(!t&&!r||w||p(!1),!s.config.autoscroll||!w)return!1;l={x:y.clientX,y:y.clientY},y.type=="touchmove"&&(l.x=y.targetTouches[0].clientX,l.y=y.targetTouches[0].clientY),!t&&w&&p(!0)}function m(){if(!c())return p(!1),!1;var y=h(s.$task)?s.$task:h(s.$grid)?s.$grid:s.$root;if(y){var w=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(V){w=w||!!document.querySelector(V)}),w&&(y=s.$grid);var $=g.getNodePosition(y),b=l.x-$.x,x=l.y-$.y+window.scrollY,T=e?0:k(b,$.width,a.x-$.x),E=k(x,$.height,a.y-$.y+window.scrollY),D=s.getScrollState(),A=D.y,M=D.inner_height,I=D.height,N=D.x,P=D.inner_width,O=D.width;(E&&!M||E<0&&!A||E>0&&A+M>=I+2)&&(E=0),(T&&!P||T<0&&!N||T>0&&N+P>=O)&&(T=0);var H=s.config.autoscroll_step;H&&H<2&&(H=2),T*=H||i,E*=H||i,(T||E)&&function(V,W){var J=s.getScrollState(),q=null,X=null;V&&(q=J.x+V,q=Math.min(J.width,q),q=Math.max(0,q)),W&&(X=J.y+W,X=Math.min(J.height,X),X=Math.max(0,X)),s.scrollTo(q,X)}(T,E)}}function k(y,w,$){return y-u<0&&y<$?-1:y>w-u&&y>$?1:0}s.attachEvent("onGanttReady",function(){if(!f(s)){var y=g.getRootNode(s.$root)||document.body;s.eventRemove(y,"mousemove",v),s.event(y,"mousemove",v),s.eventRemove(y,"touchmove",v),s.event(y,"touchmove",v),s.eventRemove(y,"pointermove",v),s.event(y,"pointermove",v)}}),s.attachEvent("onDestroy",function(){p(!1)})}},function(S,C,d){S.exports=function(g){g.ext||(g.ext={});for(var f=[d(62),d(61),d(60)],s=0;s<f.length;s++)f[s]&&f[s](g);var u=d(59).default;g.ext.zoom=new u(g)}},function(S,C){S.exports=function(d){d.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(S,C){S.exports=function(d){d.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(S,C){S.exports=function(d){d.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},d.attachEvent("onAfterTaskDrag",function(g){var f=d.getTaskNode(g);f&&(f.className+=" gantt_drag_animation",setTimeout(function(){var s=f.className.indexOf(" gantt_drag_animation");s>-1&&(f.className=f.className.slice(0,s))},200))})}},function(S,C){S.exports=function(d){d.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(S,C){S.exports=function(d){d.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(S,C){S.exports=function(d){d.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(S,C){S.exports=function(d){d.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(S,C){function d(g,f){var s=f.skin;if(!s||g)for(var u=document.getElementsByTagName("link"),i=0;i<u.length;i++){var o=u[i].href.match("dhtmlxgantt_([a-z_]+).css");if(o&&(f.skins[o[1]]||!s)){s=o[1];break}}f.skin=s||"terrace";var n=f.skins[f.skin]||f.skins.terrace;(function(r,a,l){for(var h in a)(r[h]===void 0||l)&&(r[h]=a[h])})(f.config,n.config,g);var t=f.getGridColumns();for(t[1]&&!f.defined(t[1].width)&&(t[1].width=n._second_column_width),t[2]&&!f.defined(t[2].width)&&(t[2].width=n._third_column_width),i=0;i<t.length;i++){var e=t[i];e.name=="add"&&(e.width||(e.width=44),f.defined(e.min_width)&&f.defined(e.max_width)||(e.min_width=e.min_width||e.width,e.max_width=e.max_width||e.width),e.min_width&&(e.min_width=+e.min_width),e.max_width&&(e.max_width=+e.max_width),e.width&&(e.width=+e.width,e.width=e.min_width&&e.min_width>e.width?e.min_width:e.width,e.width=e.max_width&&e.max_width<e.width?e.max_width:e.width))}n.config.task_height&&(f.config.task_height=n.config.task_height||"full"),n.config.bar_height&&(f.config.bar_height=n.config.bar_height||"full"),n._lightbox_template&&(f._lightbox_template=n._lightbox_template),n._redefine_lightbox_buttons&&(f.config.buttons_right=n._redefine_lightbox_buttons.buttons_right,f.config.buttons_left=n._redefine_lightbox_buttons.buttons_left),f.resetLightbox()}S.exports=function(g){g.resetSkin||(g.resetSkin=function(){this.skin="",d(!0,this)},g.skins={},g.attachEvent("onGanttLayoutReady",function(){d(!1,this)}))}},function(S,C){S.exports=function(){function d(t){return t.$ui.getView("timeline")}function g(t){return t.$ui.getView("grid")}function f(t){var e=d(t);if(e&&!e.$config.hidden)return e;var r=g(t);return r&&!r.$config.hidden?r:null}function s(t){var e=null,r=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(a){r=r||!!document.querySelector(a)}),(e=r?g(t):f(t))?i(t,e,"scrollY"):null}function u(t){var e=f(t);return e&&e.id!="grid"?i(t,e,"scrollX"):null}function i(t,e,r){var a=e.$config[r];return t.$ui.getView(a)}var o="DEFAULT_VALUE";function n(t,e,r,a){var l=t(this);return l&&l.isVisible()?l[e].apply(l,r):a?a():o}return{getColumnIndex:function(t){var e=n.call(this,g,"getColumnIndex",[t]);return e===o?0:e},dateFromPos:function(t){var e=n.call(this,d,"dateFromPos",Array.prototype.slice.call(arguments));return e===o?this.getState().min_date:e},posFromDate:function(t){var e=n.call(this,d,"posFromDate",[t]);return e===o?0:e},getRowTop:function(t){var e=this,r=n.call(e,d,"getRowTop",[t],function(){return n.call(e,g,"getRowTop",[t])});return r===o?0:r},getTaskTop:function(t){var e=this,r=n.call(e,d,"getItemTop",[t],function(){return n.call(e,g,"getItemTop",[t])});return r===o?0:r},getTaskPosition:function(t,e,r){var a=n.call(this,d,"getItemPosition",[t,e,r]);return a===o?{left:0,top:this.getTaskTop(t.id),height:this.getTaskBarHeight(t.id),width:0}:a},getTaskBarHeight:function(t,e){var r=this,a=n.call(r,d,"getBarHeight",[t,e],function(){return n.call(r,g,"getItemHeight",[t])});return a===o?0:a},getTaskHeight:function(t){var e=this,r=n.call(e,d,"getItemHeight",[t],function(){return n.call(e,g,"getItemHeight",[t])});return r===o?0:r},columnIndexByDate:function(t){var e=n.call(this,d,"columnIndexByDate",[t]);return e===o?0:e},roundTaskDates:function(){n.call(this,d,"roundTaskDates",[])},getScale:function(){var t=n.call(this,d,"getScale",[]);return t===o?null:t},getTaskNode:function(t){var e=d(this);if(e&&e.isVisible()){var r=e._taskRenderer.rendered[t];if(!r){var a=e.$config.item_attribute;r=e.$task_bars.querySelector("["+a+"='"+t+"']")}return r||null}return null},getLinkNode:function(t){var e=d(this);return e.isVisible()?e._linkRenderer.rendered[t]:null},scrollTo:function(t,e){var r=s(this),a=u(this),l={position:0},h={position:0};r&&(h=r.getScrollState()),a&&(l=a.getScrollState());var c=a&&1*t==t,_=r&&1*e==e;if(c&&_)for(var p=r._getLinkedViews(),v=a._getLinkedViews(),m=[],k=0;k<p.length;k++)for(var y=0;y<v.length;y++)p[k].$config.id&&v[y].$config.id&&p[k].$config.id===v[y].$config.id&&m.push(p[k].$config.id);c&&(m&&m.forEach(function(b){this.$ui.getView(b).$config.$skipSmartRenderOnScroll=!0}.bind(this)),a.scroll(t),m&&m.forEach(function(b){this.$ui.getView(b).$config.$skipSmartRenderOnScroll=!1}.bind(this))),_&&r.scroll(e);var w={position:0},$={position:0};r&&(w=r.getScrollState()),a&&($=a.getScrollState()),this.callEvent("onGanttScroll",[l.position,h.position,$.position,w.position])},showDate:function(t){var e=this.posFromDate(t),r=Math.max(e-this.config.task_scroll_offset,0);this.scrollTo(r)},showTask:function(t){var e=this.getTaskPosition(this.getTask(t)),r=e.left;this.config.rtl&&(r=e.left+e.width);var a,l=Math.max(r-this.config.task_scroll_offset,0),h=this._scroll_state().y;a=h?e.top-(h-this.getTaskBarHeight(t))/2:e.top,this.scrollTo(l,a);var c=g(this),_=d(this);c&&_&&c.$config.scrollY!=_.$config.scrollY&&i(this,c,"scrollY").scrollTo(null,a)},_scroll_state:function(){var t={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},e=s(this),r=u(this);if(r){var a=r.getScrollState();a.visible&&(t.x=a.size,t.x_inner=a.scrollSize),t.x_pos=a.position||0}if(e){var l=e.getScrollState();l.visible&&(t.y=l.size,t.y_inner=l.scrollSize),t.y_pos=l.position||0}return t},getScrollState:function(){var t=this._scroll_state();return{x:t.x_pos,y:t.y_pos,inner_width:t.x,inner_height:t.y,width:t.x_inner,height:t.y_inner}},getLayoutView:function(t){return this.$ui.getView(t)},scrollLayoutCell:function(t,e,r){var a=this.$ui.getView(t);if(!a)return!1;if(e!==null){var l=this.$ui.getView(a.$config.scrollX);l&&l.scrollTo(e,null)}if(r!==null){var h=this.$ui.getView(a.$config.scrollY);h&&h.scrollTo(null,r)}}}}},function(S,C){S.exports=function(d){delete d.addTaskLayer,delete d.addLinkLayer}},function(S,C,d){var g=d(1),f=function(s){return{getVerticalScrollbar:function(){return s.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return s.$ui.getView("scrollHor")},_legacyGridResizerClass:function(u){for(var i=u.getCellsByType("resizer"),o=0;o<i.length;o++){var n=i[o],t=!1,e=n.$parent.getPrevSibling(n.$id);if(e&&e.$config&&e.$config.id==="grid")t=!0;else{var r=n.$parent.getNextSibling(n.$id);r&&r.$config&&r.$config.id==="grid"&&(t=!0)}t&&(n.$config.css=(n.$config.css?n.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(u){var i=!0;this._legacyGridResizerClass(u),u.attachEvent("onBeforeResize",function(){var o=s.$ui.getView("timeline");o&&(o.$config.hidden=o.$parent.$config.hidden=!s.config.show_chart);var n=s.$ui.getView("grid");if(n){var t=n._getColsTotalWidth(),e=!s.config.show_grid||!s.config.grid_width||t===0;if(i&&!e&&t!==!1&&(s.config.grid_width=t),n.$config.hidden=n.$parent.$config.hidden=e,!n.$config.hidden){var r=n._getGridWidthLimits();if(r[0]&&s.config.grid_width<r[0]&&(s.config.grid_width=r[0]),r[1]&&s.config.grid_width>r[1]&&(s.config.grid_width=r[1]),o&&s.config.show_chart){if(n.$config.width=s.config.grid_width-1,!n.$config.scrollable&&n.$config.scrollY&&s.$root.offsetWidth){var a=n.$gantt.$layout.$container.offsetWidth,l=s.$ui.getView(n.$config.scrollY).$config.width,h=a-(n.$config.width+l);h<0&&(n.$config.width+=h,s.config.grid_width+=h)}if(i)n.$parent.$config.width=s.config.grid_width,n.$parent.$config.group&&s.$layout._syncCellSizes(n.$parent.$config.group,{value:n.$parent.$config.width,isGravity:!1});else if(o&&!g.isChildOf(o.$task,u.$view)){if(!n.$config.original_grid_width){var c=s.skins[s.skin];c&&c.config&&c.config.grid_width?n.$config.original_grid_width=c.config.grid_width:n.$config.original_grid_width=0}s.config.grid_width=n.$config.original_grid_width,n.$parent.$config.width=s.config.grid_width}else n.$parent._setContentSize(n.$config.width,null),s.$layout._syncCellSizes(n.$parent.$config.group,{value:s.config.grid_width,isGravity:!1})}else o&&g.isChildOf(o.$task,u.$view)&&(n.$config.original_grid_width=s.config.grid_width),i||(n.$parent.$config.width=0)}i=!1}}),this._initScrollStateEvents(u)},_initScrollStateEvents:function(u){s._getVerticalScrollbar=this.getVerticalScrollbar,s._getHorizontalScrollbar=this.getHorizontalScrollbar;var i=this.getVerticalScrollbar(),o=this.getHorizontalScrollbar();i&&i.attachEvent("onScroll",function(n,t,e){var r=s.getScrollState();s.callEvent("onGanttScroll",[r.x,n,r.x,t])}),o&&o.attachEvent("onScroll",function(n,t,e){var r=s.getScrollState();s.callEvent("onGanttScroll",[n,r.y,t,r.y]);var a=s.$ui.getView("grid");a&&a.$grid_data&&!a.$config.scrollable&&(a.$grid_data.style.left=a.$grid.scrollLeft+"px",a.$grid_data.scrollLeft=a.$grid.scrollLeft)}),u.attachEvent("onResize",function(){i&&!s.$scroll_ver&&(s.$scroll_ver=i.$scroll_ver),o&&!s.$scroll_hor&&(s.$scroll_hor=o.$scroll_hor)})},_findGridResizer:function(u,i){for(var o,n=u.getCellsByType("resizer"),t=!0,e=0;e<n.length;e++){var r=n[e];r._getSiblings();var a=r._behind,l=r._front;if(a&&a.$content===i||a.isChild&&a.isChild(i)){o=r,t=!0;break}if(l&&l.$content===i||l.isChild&&l.isChild(i)){o=r,t=!1;break}}return{resizer:o,gridFirst:t}},onInitialized:function(u){var i=s.$ui.getView("grid"),o=this._findGridResizer(u,i);if(o.resizer){var n,t=o.gridFirst,e=o.resizer;if(e.$config.mode!=="x")return;e.attachEvent("onResizeStart",function(r,a){var l=s.$ui.getView("grid"),h=l?l.$parent:null;if(h){var c=l._getGridWidthLimits();l.$config.scrollable||(h.$config.minWidth=c[0]),h.$config.maxWidth=c[1]}return n=t?r:a,s.callEvent("onGridResizeStart",[n])}),e.attachEvent("onResize",function(r,a){var l=t?r:a;return s.callEvent("onGridResize",[n,l])}),e.attachEvent("onResizeEnd",function(r,a,l,h){var c=t?r:a,_=t?l:h,p=s.$ui.getView("grid"),v=p?p.$parent:null;v&&(v.$config.minWidth=void 0);var m=s.callEvent("onGridResizeEnd",[c,_]);return m&&_!==0&&(s.config.grid_width=_),m})}},onDestroyed:function(u){}}};S.exports=f},function(S,C,d){var g=d(1),f=function(s,u){var i,o,n,t,e,r=10,a=18;function l(){return{link_source_id:t,link_target_id:o,link_from_start:e,link_to_start:n,link_landing_area:i}}var h=u.$services,c=h.getService("state"),_=h.getService("dnd");c.registerProvider("linksDnD",l);var p=new _(s.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:u.$root,selector:".gantt_link_point",preventDefault:!0});function v(b,x,T,E,D){var A=function(N,P,O){var H=P(N),V={x:H.left,y:H.top,width:H.width,height:H.height};if(O.rtl?(V.xEnd=V.x,V.x=V.xEnd+V.width):V.xEnd=V.x+V.width,V.yEnd=V.y+V.height,u.getTaskType(N.type)==u.config.types.milestone){var W=function(J){var q=s.getBarHeight(J,!0);return Math.round(Math.sqrt(2*q*q))-2}(N.id);V.x+=(O.rtl?1:-1)*(W/2),V.xEnd+=(O.rtl?-1:1)*(W/2),V.width=H.xEnd-H.x}return V}(b,function(N){return u.getTaskPosition(N)},E),M={x:A.x,y:A.y};x||(M.x=A.xEnd),M.y+=u.getTaskHeight(b.id)/2;var I=function(N){return u.getTaskType(N.type)==u.config.types.milestone}(b)&&D?2:0;return T=T||0,E.rtl&&(T*=-1),M.x+=(x?-1:1)*T-I,M}function m(b,x){var T=p.getPosition(b),E=function(O){var H=0,V=0;return O&&(H=O.offsetWidth||0,V=O.offsetHeight||0),{width:H,height:V}}(x),D=function(){var O=u.$root;return{right:O.offsetWidth,bottom:O.offsetHeight}}(),A=u.config.tooltip_offset_x||r,M=u.config.tooltip_offset_y||r,I=u.config.scroll_size||a,N=u.$container.getBoundingClientRect().y+window.scrollY,P={y:T.y+M,x:T.x+A,bottom:T.y+E.height+M+I,right:T.x+E.width+A+I};return P.bottom>D.bottom+N&&(P.y=D.bottom+N-E.height-M),P.right>D.right&&(P.x=D.right-E.width-A),P}function k(b){var x=l(),T=["gantt_link_tooltip"];x.link_source_id&&x.link_target_id&&(u.isLinkAllowed(x.link_source_id,x.link_target_id,x.link_from_start,x.link_to_start)?T.push("gantt_allowed_link"):T.push("gantt_invalid_link"));var E=u.templates.drag_link_class(x.link_source_id,x.link_from_start,x.link_target_id,x.link_to_start);E&&T.push(E);var D="<div class='"+E+"'>"+u.templates.drag_link(x.link_source_id,x.link_from_start,x.link_target_id,x.link_to_start)+"</div>";b.innerHTML=D}function y(){t=e=o=null,n=!0}function w(b,x,T,E){var D=function(){return p._direction&&p._direction.parentNode||(p._direction=document.createElement("div"),s.$task_links.appendChild(p._direction)),p._direction}(),A=l(),M=["gantt_link_direction"];u.templates.link_direction_class&&M.push(u.templates.link_direction_class(A.link_source_id,A.link_from_start,A.link_target_id,A.link_to_start));var I=Math.sqrt(Math.pow(T-b,2)+Math.pow(E-x,2));if(I=Math.max(0,I-3)){D.className=M.join(" ");var N=(E-x)/(T-b),P=Math.atan(N);$(b,T,x,E)==2?P+=Math.PI:$(b,T,x,E)==3&&(P-=Math.PI);var O=Math.sin(P),H=Math.cos(P),V=Math.round(x),W=Math.round(b),J=["-webkit-transform: rotate("+P+"rad)","-moz-transform: rotate("+P+"rad)","-ms-transform: rotate("+P+"rad)","-o-transform: rotate("+P+"rad)","transform: rotate("+P+"rad)","width:"+Math.round(I)+"px"];if(window.navigator.userAgent.indexOf("MSIE 8.0")!=-1){J.push('-ms-filter: "'+function(R,lt){return"progid:DXImageTransform.Microsoft.Matrix(M11 = "+lt+",M12 = -"+R+",M21 = "+R+",M22 = "+lt+",SizingMethod = 'auto expand')"}(O,H)+'"');var q=Math.abs(Math.round(b-T)),X=Math.abs(Math.round(E-x));switch($(b,T,x,E)){case 1:V-=X;break;case 2:W-=q,V-=X;break;case 3:W-=q}}J.push("top:"+V+"px"),J.push("left:"+W+"px"),D.style.cssText=J.join(";")}}function $(b,x,T,E){return x>=b?E<=T?1:4:E<=T?2:3}p.attachEvent("onBeforeDragStart",u.bind(function(b,x){var T=x.target||x.srcElement;if(y(),u.getState("tasksDnd").drag_id)return!1;if(g.locateClassName(T,"gantt_link_point")){g.locateClassName(T,"task_start_date")&&(e=!0);var E=u.locate(x);t=E;var D=u.getTask(E);return u.isReadonly(D)?(y(),!1):(this._dir_start=v(D,!!e,0,s.$getConfig(),!0),!0)}return!1},this)),p.attachEvent("onAfterDragStart",u.bind(function(b,x){u.config.touch&&u.refreshData(),k(p.config.marker)},this)),p.attachEvent("onDragMove",u.bind(function(b,x){var T=p.config,E=m(x,T.marker);(function(X,R){X.style.left=R.x+"px",X.style.top=R.y+"px"})(T.marker,E);var D=!!g.locateClassName(x,"gantt_link_control"),A=o,M=i,I=n,N=u.locate(x),P=!0,O=g.getTargetNode(x);if(g.isChildOf(O,u.$root)||(D=!1,N=null),D&&(P=!g.locateClassName(x,"task_end_date"),D=!!N),o=N,i=D,n=P,D){var H=u.getTask(N),V=s.$getConfig(),W=g.locateClassName(x,"gantt_link_control"),J=0;W&&(J=Math.floor(W.offsetWidth/2)),this._dir_end=v(H,!!n,J,V)}else this._dir_end=g.getRelativeEventPosition(x,s.$task_data),u.env.isEdge&&(this._dir_end.y+=window.scrollY);var q=!(M==D&&A==N&&I==P);return q&&(A&&u.refreshTask(A,!1),N&&u.refreshTask(N,!1)),q&&k(T.marker),w(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),p.attachEvent("onDragEnd",u.bind(function(){var b=l();if(b.link_source_id&&b.link_target_id&&b.link_source_id!=b.link_target_id){var x=u._get_link_type(b.link_from_start,b.link_to_start),T={source:b.link_source_id,target:b.link_target_id,type:x};T.type&&u.isLinkAllowed(T)&&u.callEvent("onLinkCreated",[T])&&u.addLink(T)}y(),u.config.touch?u.refreshData():(b.link_source_id&&u.refreshTask(b.link_source_id,!1),b.link_target_id&&u.refreshTask(b.link_target_id,!1)),p._direction&&(p._direction.parentNode&&p._direction.parentNode.removeChild(p._direction),p._direction=null)},this)),u.attachEvent("onGanttRender",u.bind(function(){p._direction&&w(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))};S.exports={createLinkDND:function(){return{init:f}}}},function(S,C,d){var g=d(1),f=d(0),s=d(44),u=d(2);S.exports={createTaskDND:function(){var i;return{extend:function(o){o.roundTaskDates=function(n){i.round_task_dates(n)}},init:function(o,n){return i=function(t,e){var r=e.$services;return{drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=e._createDomEventScope(),this.clear_drag_state();var a=e.config.drag_mode;this.set_actions(),r.getService("state").registerProvider("tasksDnd",f.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var l={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var h in this._events)for(var c in a)this._events[h][c]=l[h];this._handlers[a.move]=this._move,this._handlers[a.resize]=this._resize,this._handlers[a.progress]=this._resize_progress},set_actions:function(){var a=t.$task_data;this._domEvents.attach(a,"mousemove",e.bind(function(l){this.on_mouse_move(l)},this)),this._domEvents.attach(a,"mousedown",e.bind(function(l){this.on_mouse_down(l)},this)),this._domEvents.attach(document.body,"mouseup",e.bind(function(l){this.on_mouse_up(l)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(a,l,h){var c=t.$getConfig(),_=this._drag_task_coords(a,h);h.left?(a.start_date=e.dateFromPos(_.start+l),a.start_date||(a.start_date=new Date(e.getState().min_date))):(a.end_date=e.dateFromPos(_.end+l),a.end_date||(a.end_date=new Date(e.getState().max_date)));var p=this._calculateMinDuration(c.min_duration,c.duration_unit);a.end_date-a.start_date<c.min_duration&&(h.left?a.start_date=e.calculateEndDate(a.end_date,-p,c.duration_unit,a):a.end_date=e.calculateEndDate(a.start_date,p,c.duration_unit,a)),e._init_task_timing(a)},_calculateMinDuration:function(a,l){return Math.ceil(a/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[l])},_resize_progress:function(a,l,h){var c=this._drag_task_coords(a,h),_=t.$getConfig().rtl?c.start-h.pos.x:h.pos.x-c.start,p=Math.max(0,_);a.progress=Math.min(1,p/Math.abs(c.end-c.start))},_find_max_shift:function(a,l){var h;for(var c in a){var _=a[c],p=e.getTask(_.id),v=this._drag_task_coords(p,_),m=e.posFromDate(new Date(e.getState().min_date)),k=e.posFromDate(new Date(e.getState().max_date));if(v.end+l>k){var y=k-v.end;(y<h||h===void 0)&&(h=y)}else if(v.start+l<m){var w=m-v.start;(w>h||h===void 0)&&(h=w)}}return h},_move:function(a,l,h,c){var _=this._drag_task_coords(a,h),p=null,v=null;c?(p=new Date(+h.obj.start_date+c),v=new Date(+h.obj.end_date+c)):(p=e.dateFromPos(_.start+l),v=e.dateFromPos(_.end+l)),p?v?(a.start_date=p,a.end_date=v):(a.end_date=new Date(e.getState().max_date),a.start_date=e.dateFromPos(e.posFromDate(a.end_date)-(_.end-_.start))):(a.start_date=new Date(e.getState().min_date),a.end_date=e.dateFromPos(e.posFromDate(a.start_date)+(_.end-_.start)))},_drag_task_coords:function(a,l){return{start:l.obj_s_x=l.obj_s_x||e.posFromDate(a.start_date),end:l.obj_e_x=l.obj_e_x||e.posFromDate(a.end_date)}},_mouse_position_change:function(a,l){var h=a.x-l.x,c=a.y-l.y;return Math.sqrt(h*h+c*c)},_is_number:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},on_mouse_move:function(a){if(this.drag.start_drag){var l=g.getRelativeEventPosition(a,e.$task_data),h=this.drag.start_drag.start_x,c=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(h)&&this._is_number(c)&&this._mouse_position_change({x:h,y:c},l)>20)&&this._start_dnd(a)}if(this.drag.mode){if(!s(this,40))return;this._update_on_move(a)}},_update_item_on_move:function(a,l,h,c,_,p){var v=e.getTask(l),m=e.mixin({},v),k=e.mixin({},v);this._handlers[h].apply(this,[k,a,c,p]),e.mixin(v,k,!0),e.callEvent("onTaskDrag",[v.id,h,k,m,_]),e.mixin(v,k,!0),e.refreshTask(l)},_update_on_move:function(a){var l=this.drag,h=t.$getConfig();if(l.mode){var c=g.getRelativeEventPosition(a,t.$task_data);if(l.pos&&l.pos.x==c.x)return;l.pos=c;var _=e.dateFromPos(c.x);if(!_||isNaN(_.getTime()))return;var p=c.x-l.start_x,v=e.getTask(l.id);if(this._handlers[l.mode]){if(l.mode===h.drag_mode.move){var m={};this._isMultiselect()&&e.getSelectedTasks().indexOf(l.id)>=0&&(m=this.dragMultiple);var k=!1;if(e.isSummaryTask(v)&&e.config.drag_project){var y={};y[l.id]=f.copy(l),k=!0,m=f.mixin(y,this.dragMultiple)}var w=this._find_max_shift(m,p);for(var $ in w!==void 0&&(p=w),this._update_item_on_move(p,l.id,l.mode,l,a),m){var b=m[$];if(k&&b.id!=l.id&&(e._bulk_dnd=!0),w===void 0&&(k||Object.keys(m).length>1))var x=_-e.dateFromPos(l.start_x);this._update_item_on_move(p,b.id,b.mode,b,a,x)}e._bulk_dnd=!1}else this._update_item_on_move(p,l.id,l.mode,l,a);e._update_parents(l.id)}}},on_mouse_down:function(a,l){if(a.button!=2||a.button===void 0){var h=t.$getConfig(),c=e.locate(a),_=null;if(e.isTaskExists(c)&&(_=e.getTask(c)),!e.isReadonly(_)&&!this.drag.mode){this.clear_drag_state(),l=l||a.target||a.srcElement;var p=g.getClassName(l),v=this._get_drag_mode(p,l);if(!p||!v)return l.parentNode?this.on_mouse_down(a,l.parentNode):void 0;if(v)if(v.mode&&v.mode!=h.drag_mode.ignore&&h["drag_"+v.mode]){if(c=e.locate(l),_=e.copy(e.getTask(c)||{}),e.isReadonly(_))return this.clear_drag_state(),!1;if(e.isSummaryTask(_)&&!h.drag_project&&v.mode!=h.drag_mode.progress)return void this.clear_drag_state();v.id=c;var m=g.getRelativeEventPosition(a,e.$task_data);v.start_x=m.x,v.start_y=m.y,v.obj=_,this.drag.start_drag=v,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(e.checkEvent("onMouseDown")&&e.callEvent("onMouseDown",[p.split(" ")[0]])&&l.parentNode)return this.on_mouse_down(a,l.parentNode)}}},_fix_dnd_scale_time:function(a,l){var h=t.$getConfig(),c=e.getScale().unit,_=e.getScale().step;function p(v){if(e.config.correct_work_time){var m=t.$getConfig();e.isWorkTime(v.start_date,void 0,v)||(v.start_date=e.calculateEndDate({start_date:v.start_date,duration:-1,unit:m.duration_unit,task:v}))}}h.round_dnd_dates||(c="minute",_=h.time_step),l.mode==h.drag_mode.resize?l.left?(a.start_date=e.roundDate({date:a.start_date,unit:c,step:_}),p(a)):(a.end_date=e.roundDate({date:a.end_date,unit:c,step:_}),function(v){if(e.config.correct_work_time){var m=t.$getConfig();e.isWorkTime(new Date(v.end_date-1),void 0,v)||(v.end_date=e.calculateEndDate({start_date:v.end_date,duration:1,unit:m.duration_unit,task:v}))}}(a)):l.mode==h.drag_mode.move&&(a.start_date=e.roundDate({date:a.start_date,unit:c,step:_}),p(a),a.end_date=e.calculateEndDate(a))},_fix_working_times:function(a,l){var h=t.$getConfig();(l=l||{mode:h.drag_mode.move}).mode==h.drag_mode.resize?l.left?a.start_date=e.getClosestWorkTime({date:a.start_date,dir:"future",task:a}):a.end_date=e.getClosestWorkTime({date:a.end_date,dir:"past",task:a}):l.mode==h.drag_mode.move&&e.correctTaskWorkTime(a)},_finalize_mouse_up:function(a,l,h,c){var _=e.getTask(a);if(l.work_time&&l.correct_work_time&&this._fix_working_times(_,h),this._fix_dnd_scale_time(_,h),this._fireEvent("before_finish",h.mode,[a,h.mode,e.copy(h.obj),c])){var p=a;e._init_task_timing(_),this.clear_drag_state(),e.updateTask(_.id),this._fireEvent("after_finish",h.mode,[p,h.mode,c])}else this.clear_drag_state(),a==h.id&&(h.obj._dhx_changed=!1,e.mixin(_,h.obj,!0)),e.refreshTask(_.id)},on_mouse_up:function(a){var l=this.drag;if(l.mode&&l.id){var h=t.$getConfig(),c=e.getTask(l.id),_=this.dragMultiple,p=!1,v=0;l.mode===h.drag_mode.move&&(e.isSummaryTask(c)&&h.drag_project||this._isMultiselect())&&(p=!0,v=Object.keys(_).length);var m=function(){if(p)for(var k in _)this._finalize_mouse_up(_[k].id,h,_[k],a);this._finalize_mouse_up(l.id,h,l,a)};p&&v>10?e.batchUpdate(function(){m.call(this)}.bind(this)):m.call(this)}this.clear_drag_state()},_get_drag_mode:function(a,l){var h=t.$getConfig().drag_mode,c={mode:null,left:null};switch((a||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":c.mode=h.move;break;case"gantt_task_drag":c.mode=h.resize;var _=l.getAttribute("data-bind-property");c.left=_=="start_date";break;case"gantt_task_progress_drag":c.mode=h.progress;break;case"gantt_link_control":case"gantt_link_point":c.mode=h.ignore;break;default:c=null}return c},_start_dnd:function(a){var l=this.drag=this.drag.start_drag;delete l.start_drag;var h=t.$getConfig(),c=l.id;if(h["drag_"+l.mode]&&e.callEvent("onBeforeDrag",[c,l.mode,a])&&this._fireEvent("before_start",l.mode,[c,l.mode,a])){delete l.start_drag;var _=e.getTask(c);if(e.isReadonly(_))return void this.clear_drag_state();if(this._isMultiselect()){var p=e.getSelectedTasks();p.indexOf(l.id)>=0&&u.forEach(p,e.bind(function(v){var m=e.getTask(v);e.isSummaryTask(m)&&e.config.drag_project&&l.mode==h.drag_mode.move&&this._addSubtasksToDragMultiple(m.id),this.dragMultiple[v]=e.mixin({id:m.id,obj:e.copy(m)},this.drag)},this))}e.isSummaryTask(_)&&e.config.drag_project&&l.mode==h.drag_mode.move&&this._addSubtasksToDragMultiple(_.id),e.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(a,l,h){e.assert(this._events[a],"Invalid stage:{"+a+"}");var c=this._events[a][l];return e.assert(c,"Unknown after drop mode:{"+l+"}"),e.assert(h,"Invalid event arguments"),!e.checkEvent(c)||e.callEvent(c,h)},round_task_dates:function(a){var l=this.drag,h=t.$getConfig();l||(l={mode:h.drag_mode.move}),this._fix_dnd_scale_time(a,l)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return e.config.drag_multiple&&!!(e.getSelectedTasks&&e.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(a){e.eachTask(function(l){this.dragMultiple[l.id]=e.mixin({id:l.id,obj:e.copy(l)},this.drag)},a,this)}}}(o,n),o._tasks_dnd=i,i.init(n)},destructor:function(){i&&(i.destructor(),i=null)}}}}},function(S,C,d){var g=d(0),f=d(76),s=d(75),u=d(1),i=function(o){var n=o.$services;return{onCreated:function(t){var e=t.$config;e.bind=g.defined(e.bind)?e.bind:"task",e.bindLinks=g.defined(e.bindLinks)?e.bindLinks:"link",t._linksDnD=s.createLinkDND(),t._tasksDnD=f.createTaskDND(),t._tasksDnD.extend(t),this._mouseDelegates=d(24)(o)},onInitialized:function(t){this._attachDomEvents(o),this._attachStateProvider(o,t),t._tasksDnD.init(t,o),t._linksDnD.init(t,o),t.$config.id=="timeline"&&this.extendDom(t)},onDestroyed:function(t){this._clearDomEvents(o),this._clearStateProvider(o),t._tasksDnD&&t._tasksDnD.destructor()},extendDom:function(t){o.$task=t.$task,o.$task_scale=t.$task_scale,o.$task_data=t.$task_data,o.$task_bg=t.$task_bg,o.$task_links=t.$task_links,o.$task_bars=t.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(t){function e(r,a){if(r&&this.callEvent("onLinkDblClick",[r,a])){var l=this.getLink(r);if(this.isReadonly(l))return;var h=this.locale.labels.link+" "+this.templates.link_description(this.getLink(r))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){t._simple_confirm(h,"",function(){t.deleteLink(r)})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",t.bind(function(r,a){var l=this.locate(r,this.config.link_attribute);l&&this.callEvent("onLinkClick",[l,r])},t),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",t.bind(function(r,a){var l=u.getRelativeEventPosition(r,t.$task_data),h=t.dateFromPos(l.x),c=Math.floor(t.columnIndexByDate(h)),_=t.getScale().trace_x[c];t.callEvent("onScaleClick",[r,_])},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",t.bind(function(r,a,l){a=this.locate(r,t.config.link_attribute),e.call(this,a,r)},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",t.bind(function(r,a,l){a=this.locate(r);var h=this.getTask(a),c=null;return l.parentNode&&u.getClassName(l.parentNode)&&(c=u.getClassName(l.parentNode).indexOf("_left")>-1?h.$target[0]:h.$source[0]),c&&e.call(this,c,r),!1},t),this.$task)},_attachStateProvider:function(t,e){var r=e;n.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:r._tasks?r._tasks.unit:void 0,scale_step:r._tasks?r._tasks.step:void 0}})},_clearStateProvider:function(){n.getService("state").unregisterProvider("tasksTimeline")}}};S.exports=i},function(S,C,d){var g=d(1);function f(u,i){var o=g.getNodePosition(i.$grid_data);return u.x+=o.x+i.$grid.scrollLeft,u.y+=o.y-i.$grid_data.scrollTop,u}function s(u,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=g.getNodePosition(u.$root);return i>n.width&&(i=n.width-o-2),i}S.exports={removeLineHighlight:function(u){u.markerLine&&u.markerLine.parentNode&&u.markerLine.parentNode.removeChild(u.markerLine),u.markerLine=null},highlightPosition:function(u,i,o){var n=function(e,r){var a=g.getNodePosition(r.$grid_data),l=g.getRelativeEventPosition(e,r.$grid_data),h=a.x+r.$grid.scrollLeft,c=l.y-10,_=r.getItemHeight(e.targetId);c<a.y&&(c=a.y);var p=r.getTotalHeight();return c>a.y+p-_&&(c=a.y+p-_),a.x=h,a.y=c,a.width=s(r.$gantt,a.width,9),a}(u,o);i.marker.style.left=n.x+9+"px",i.marker.style.width=n.width+"px",i.marker.style.overflow="hidden";var t=i.markerLine;t||((t=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",t.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",t.style.pointerEvents="none"),u.child?function(e,r,a){var l=e.targetParent,h=f({x:0,y:a.getItemTop(l)},a),c=a.$grid_data.getBoundingClientRect().bottom+window.scrollY,_=s(a.$gantt,a.$grid_data.offsetWidth);r.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",r.style.width=_+"px",r.style.top=h.y+"px",r.style.left=h.x+"px",r.style.height=a.getItemHeight(l)+"px",h.y>c&&(r.style.top=c+"px")}(u,t,o):function(e,r,a){var l=function(_,p){var v=p.$config.rowStore,m={x:0,y:0},k=p.$grid_data.querySelector(".gantt_tree_indent"),y=15,w=0;if(k&&(y=k.offsetWidth),_.targetId!==v.$getRootId()){var $=p.getItemTop(_.targetId),b=p.getItemHeight(_.targetId);if(w=v.exists(_.targetId)?v.calculateItemLevel(v.getItem(_.targetId)):0,_.prevSibling)m.y=$;else if(_.nextSibling){var x=0;v.eachItem(function(T){v.getIndexById(T.id)!==-1&&x++},_.targetId),m.y=$+b+x*b}else m.y=$+b,w+=1}return m.x=40+w*y,m.width=s(p.$gantt,Math.max(p.$grid_data.offsetWidth-m.x,0),m.x),f(m,p)}(e,a),h=a.$grid_data.getBoundingClientRect().bottom+window.scrollY;r.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",r.style.left=l.x+"px",r.style.height="4px";var c=l.y-2;r.style.top=c+"px",r.style.width=l.width+"px",c>h&&(r.style.top=h+"px")}(u,t,o),i.markerLine||(document.body.appendChild(t),i.markerLine=t)}}},function(S,C,d){var g=d(17);S.exports=function(f,s,u,i,o){var n;if(s!==o.$getRootId())n=u<.25?g.prevSiblingTarget(f,s,o):!(u>.6)||o.hasChild(s)&&o.getItem(s).$open?g.firstChildTarget(f,s,o):g.nextSiblingTarget(f,s,o);else{var t=o.$getRootId();n=o.hasChild(t)&&i>=0?g.lastChildTarget(f,t,o):g.firstChildTarget(f,t,o)}return n}},function(S,C,d){var g=d(17);function f(i,o,n,t,e){for(var r=o;t.exists(r);){var a=t.calculateItemLevel(t.getItem(r));if((a===n||a===n-1)&&t.getBranchIndex(r)>-1)break;r=e?t.getPrev(r):t.getNext(r)}return t.exists(r)?t.calculateItemLevel(t.getItem(r))===n?e?g.nextSiblingTarget(i,r,t):g.prevSiblingTarget(i,r,t):g.firstChildTarget(i,r,t):null}function s(i,o,n,t){return f(i,o,n,t,!0)}function u(i,o,n,t){return f(i,o,n,t,!1)}S.exports=function(i,o,n,t,e,r){var a;if(o!==e.$getRootId()){var l=e.getItem(o),h=e.calculateItemLevel(l);if(h===r){var c=e.getPrevSibling(o);n<.5&&!c?a=g.prevSiblingTarget(i,o,e):(n<.5&&(o=c),a=g.nextSiblingTarget(i,o,e))}else if(h>r)e.eachParent(function(k){e.calculateItemLevel(k)===r&&(o=k.id)},l),a=s(i,o,r,e);else{var _=s(i,o,r,e),p=u(i,o,r,e);a=n<.5?_:p}}else{var v=e.$getRootId(),m=e.getChildren(v);a=g.createDropTargetObject(),a=m.length&&t>=0?s(i,function(k){for(var y=k.getNext();k.exists(y);){var w=k.getNext(y);if(!k.exists(w))return y;y=w}return null}(e),r,e):u(i,v,r,e)}return a}},function(S,C,d){var g=d(1),f=d(17),s=d(80),u=d(79),i=d(78),o=d(11);S.exports={init:function(n,t){var e=n.$services.getService("dnd");if(t.$config.bind&&n.getDatastore(t.$config.bind)){var r=new e(t.$grid_data,{updates_per_second:60});n.defined(t.$getConfig().dnd_sensitivity)&&(r.config.sensitivity=t.$getConfig().dnd_sensitivity),r.attachEvent("onBeforeDragStart",n.bind(function(c,_){var p=a(_);if(!p||(n.hideQuickInfo&&n._hideQuickInfo(),g.closest(_.target,".gantt_grid_editor_placeholder")))return!1;var v=p.getAttribute(t.$config.item_attribute),m=t.$config.rowStore.getItem(v);return!n.isReadonly(m)&&!l(v)&&(r.config.initial_open_state=m.$open,!!n.callEvent("onRowDragStart",[v,_.target||_.srcElement,_])&&void 0)},n)),r.attachEvent("onAfterDragStart",n.bind(function(c,_){var p=a(_);r.config.marker.innerHTML=p.outerHTML;var v=r.config.marker.firstChild;v&&(r.config.marker.style.opacity=.4,v.style.position="static",v.style.pointerEvents="none"),r.config.id=p.getAttribute(t.$config.item_attribute);var m=t.$config.rowStore,k=m.getItem(r.config.id);r.config.level=m.calculateItemLevel(k),r.config.drop_target=f.createDropTargetObject({targetParent:m.getParent(k.id),targetIndex:m.getBranchIndex(k.id),targetId:k.id,nextSibling:!0}),k.$open=!1,k.$transparent=!0,this.refreshData()},n)),r.attachEvent("onDragMove",n.bind(function(c,_){var p=h(_);return p&&n.callEvent("onBeforeRowDragMove",[r.config.id,p.targetParent,p.targetIndex])!==!1||(p=f.createDropTargetObject(r.config.drop_target)),i.highlightPosition(p,r.config,t),r.config.drop_target=p,this.callEvent("onRowDragMove",[r.config.id,p.targetParent,p.targetIndex]),!0},n)),r.attachEvent("onDragEnd",n.bind(function(){var c=t.$config.rowStore,_=c.getItem(r.config.id);i.removeLineHighlight(r.config),_.$transparent=!1,_.$open=r.config.initial_open_state;var p=r.config.drop_target;this.callEvent("onBeforeRowDragEnd",[r.config.id,p.targetParent,p.targetIndex])===!1?_.$drop_target=null:(c.move(r.config.id,p.targetIndex,p.targetParent),n.render(),this.callEvent("onRowDragEnd",[r.config.id,p.targetParent,p.targetIndex])),c.refresh(_.id)},n))}function a(c){return g.locateAttribute(c,t.$config.item_attribute)}function l(c){return o(c,n,n.getDatastore(t.$config.bind))}function h(c){var _,p=function(w){var $=g.getRelativeEventPosition(w,t.$grid_data).y,b=t.$config.rowStore;document.doctype||($+=window.scrollY),$=$||0;var x=t.$state.scrollTop||0,T=n.$grid_data.getBoundingClientRect().height+x+window.scrollY,E=x,D=t.getItemIndexByTopPosition(t.$state.scrollTop);if(b.exists(D)||(D=b.countVisible()-1),D<0)return b.$getRootId();var A=b.getIdByIndex(D),M=t.$state.scrollTop/t.getItemHeight(A),I=M-Math.floor(M);I>.1&&I<.9&&(T-=t.getItemHeight(A)*I,E+=t.getItemHeight(A)*(1-I));var N=g.getNodePosition(t.$grid_data),P=N.y+N.height,O=r.config.marker.offsetHeight;$+O+window.scrollY>=T&&(r.config.marker.style.top=P-O+"px"),$>=T?$=T:$<=E&&($=E,r.config.marker.style.top=N.y+"px");var H=t.getItemIndexByTopPosition($);if(H>b.countVisible()-1||H<0)return b.$getRootId();var V=b.getIdByIndex(H);return l(V)?b.getPrevSibling(V):b.getIdByIndex(H)}(c),v=null,m=t.$config.rowStore,k=!t.$getConfig().order_branch_free,y=g.getRelativeEventPosition(c,t.$grid_data).y;return document.doctype||(y+=window.scrollY),p!==m.$getRootId()&&(v=(y-t.getItemTop(p))/t.getItemHeight(p)),k?(_=s(r.config.id,p,v,y,m,r.config.level))&&_.targetParent&&l(_.targetParent)&&(p=m.getPrevSibling(_.targetParent),_=s(r.config.id,p,v,y,m,r.config.level)):_=u(r.config.id,p,v,y,m),_}}}},function(S,C,d){var g=d(1),f=d(11);S.exports={init:function(s,u){var i=s.$services.getService("dnd");if(u.$config.bind&&s.getDatastore(u.$config.bind)){var o=new i(u.$grid_data,{updates_per_second:60});s.defined(u.$getConfig().dnd_sensitivity)&&(o.config.sensitivity=u.$getConfig().dnd_sensitivity),o.attachEvent("onBeforeDragStart",s.bind(function(r,a){var l=n(a);if(!l||(s.hideQuickInfo&&s._hideQuickInfo(),g.closest(a.target,".gantt_grid_editor_placeholder")))return!1;var h=l.getAttribute(u.$config.item_attribute);if(e(h))return!1;var c=t().getItem(h);return!s.isReadonly(c)&&(o.config.initial_open_state=c.$open,!!s.callEvent("onRowDragStart",[h,a.target||a.srcElement,a])&&void 0)},s)),o.attachEvent("onAfterDragStart",s.bind(function(r,a){var l=n(a);o.config.marker.innerHTML=l.outerHTML;var h=o.config.marker.firstChild;h&&(h.style.position="static"),o.config.id=l.getAttribute(u.$config.item_attribute);var c=t(),_=c.getItem(o.config.id);o.config.index=c.getBranchIndex(o.config.id),o.config.parent=_.parent,_.$open=!1,_.$transparent=!0,this.refreshData()},s)),o.lastTaskOfLevel=function(r){for(var a=null,l=t().getItems(),h=0,c=l.length;h<c;h++)l[h].$level==r&&(a=l[h]);return a?a.id:null},o._getGridPos=s.bind(function(r){var a=g.getNodePosition(u.$grid_data),l=a.x+u.$grid.scrollLeft,h=r.pos.y-10,c=u.getItemHeight(o.config.id);h<a.y&&(h=a.y);var _=u.getTotalHeight();h>a.y+_-c&&(h=a.y+_-c);var p=a.y+a.height;return h>p-c&&(h=p-c),a.x=l,a.y=h,a},s),o._getTargetY=s.bind(function(r){var a=g.getNodePosition(u.$grid_data),l=u.$state.scrollTop||0,h=s.$grid_data.getBoundingClientRect().height+l,c=r.pageY-a.y+l;return c>h?c=h:c<l&&(c=l),c},s),o._getTaskByY=s.bind(function(r,a){var l=t();r=r||0;var h=u.getItemIndexByTopPosition(r);return(h=a<h?h-1:h)>l.countVisible()-1?null:l.getIdByIndex(h)},s),o.attachEvent("onDragMove",s.bind(function(r,a){var l=s.$grid_data.getBoundingClientRect(),h=l.height+l.y+(u.$state.scrollTop||0)+window.scrollY,c=o.config,_=o._getGridPos(a),p=u.$getConfig(),v=t();_.y<h?c.marker.style.top=_.y+"px":c.marker.style.top=h+"px",c.marker.style.left=_.x+10+"px";var m=g.getNodePosition(s.$root);_.width>m.width&&(c.marker.style.width=m.width-10-2+"px",c.marker.style.overflow="hidden");var k=v.getItem(o.config.id),y=o._getTargetY(a),w=o._getTaskByY(y,v.getIndexById(k.id));function $(P,O){return!v.isChildOf(b.id,O.id)&&(P.$level==O.$level||p.order_branch_free)}if(v.exists(w)||(w=o.lastTaskOfLevel(p.order_branch_free?k.$level:0))==o.config.id&&(w=null),v.exists(w)){var b=v.getItem(w),x=u.getItemTop(b.id),T=u.getItemHeight(b.id);if(x+T/2<y){var E=v.getIndexById(b.id),D=v.getNext(b.id),A=v.getItem(D);if(e(D)){var M=v.getPrev(A.id);A=v.getItem(M)}if(A){if(A.id==k.id)return p.order_branch_free&&v.isChildOf(k.id,b.id)&&v.getChildren(b.id).length==1?void v.move(k.id,v.getBranchIndex(b.id)+1,v.getParent(b.id)):void 0;b=A}else if(D=v.getIdByIndex(E),A=v.getItem(D),e(D)&&(M=v.getPrev(A.id),A=v.getItem(M)),$(A,k)&&A.id!=k.id)return void v.move(k.id,-1,v.getParent(A.id))}else if(p.order_branch_free&&b.id!=k.id&&$(b,k)&&!e(b.id)){if(!v.hasChild(b.id))return b.$open=!0,void v.move(k.id,-1,b.id);if(v.getIndexById(b.id)||T/3<y)return}E=v.getIndexById(b.id),M=v.getIdByIndex(E-1);for(var I=v.getItem(M),N=1;(!I||I.id==b.id)&&E-N>=0;)M=v.getIdByIndex(E-N),I=v.getItem(M),N++;if(k.id==b.id||e(b.id))return;$(b,k)&&k.id!=b.id?v.move(k.id,0,0,b.id):b.$level!=k.$level-1||v.getChildren(b.id).length?I&&$(I,k)&&k.id!=I.id&&v.move(k.id,-1,v.getParent(I.id)):v.move(k.id,0,b.id)}return!0},s)),o.attachEvent("onDragEnd",s.bind(function(){var r=t(),a=r.getItem(o.config.id);a.$transparent=!1,a.$open=o.config.initial_open_state,this.callEvent("onBeforeRowDragEnd",[o.config.id,o.config.parent,o.config.index])===!1?(r.move(o.config.id,o.config.index,o.config.parent),a.$drop_target=null):this.callEvent("onRowDragEnd",[o.config.id,a.$drop_target]),s.render(),this.refreshData()},s))}function n(r){return g.locateAttribute(r,u.$config.item_attribute)}function t(){return s.getDatastore(u.$config.bind)}function e(r){return f(r,s,t())}}}},function(S,C,d){var g=d(0),f=d(82),s=d(81),u=function(i){return{onCreated:function(o){o.$config=g.mixin(o.$config,{bind:"task"}),o.$config.id=="grid"&&(this.extendGantt(o),i.ext.inlineEditors=i.ext._inlineEditors.createEditors(o),i.ext.inlineEditors.init()),this._mouseDelegates=d(24)(i)},onInitialized:function(o){var n=o.$getConfig();n.order_branch&&(n.order_branch=="marker"?s.init(o.$gantt,o):f.init(o.$gantt,o)),this.initEvents(o,i),o.$config.id=="grid"&&this.extendDom(o)},onDestroyed:function(o){o.$config.id=="grid"&&i.ext.inlineEditors.destructor(),this.clearEvents(o,i)},initEvents:function(o,n){this._mouseDelegates.delegate("click","gantt_row",n.bind(function(t,e,r){var a=o.$getConfig();if(e!==null){var l=this.getTask(e);a.scroll_on_click&&!n._is_icon_open_click(t)&&this.showDate(l.start_date),n.callEvent("onTaskRowClick",[e,r])}},n),o.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",n.bind(function(t,e,r){var a=r.getAttribute("data-column-id");if(n.callEvent("onGridHeaderClick",[a,t])){var l=o.$getConfig();if(a!="add"){if(l.sort&&a){for(var h,c=a,_=0;_<l.columns.length;_++)if(l.columns[_].name==a){h=l.columns[_];break}if(h&&h.sort!==void 0&&h.sort!==!0&&!(c=h.sort))return;var p=this._sort&&this._sort.direction&&this._sort.name==a?this._sort.direction:"desc";p=p=="desc"?"asc":"desc",this._sort={name:a,direction:p},this.sort(c,p=="desc")}}else n.$services.getService("mouseEvents").callHandler("click","gantt_add",o.$grid,[t,l.root_id])}},n),o.$grid),this._mouseDelegates.delegate("click","gantt_add",n.bind(function(t,e,r){if(!o.$getConfig().readonly)return this.createTask({},e||n.config.root_id),!1},n),o.$grid)},clearEvents:function(o,n){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(o){i.$grid=o.$grid,i.$grid_scale=o.$grid_scale,i.$grid_data=o.$grid_data},extendGantt:function(o){i.getGridColumns=i.bind(o.getGridColumns,o),o.attachEvent("onColumnResizeStart",function(){return i.callEvent("onColumnResizeStart",arguments)}),o.attachEvent("onColumnResize",function(){return i.callEvent("onColumnResize",arguments)}),o.attachEvent("onColumnResizeEnd",function(){return i.callEvent("onColumnResizeEnd",arguments)}),o.attachEvent("onColumnResizeComplete",function(n,t){i.config.grid_width=t}),o.attachEvent("onBeforeRowResize",function(){return i.callEvent("onBeforeRowResize",arguments)}),o.attachEvent("onRowResize",function(){return i.callEvent("onRowResize",arguments)}),o.attachEvent("onBeforeRowResizeEnd",function(){return i.callEvent("onBeforeRowResizeEnd",arguments)}),o.attachEvent("onAfterRowResize",function(){return i.callEvent("onAfterRowResize",arguments)})}}};S.exports=u},function(S,C,d){var g=d(23),f=d(5);S.exports=function(s){return{render:function(u,i,o){var n=i.$getConfig(),t=document.createElement("div");return t.className="gantt_task_grid_row_resize_wrap",t.style.top=i.getItemTop(u.id)+i.getItemHeight(u.id)+"px",t.innerHTML="<div class='gantt_task_grid_row_resize'></div>",t.setAttribute(n.task_grid_row_resizer_attribute,u.id),s._waiAria.gridSeparatorAttr(t),t},update:null,getRectangle:g,getVisibleRange:f}}},function(S,C,d){var g=d(20),f=d(5),s=d(19),u=d(18),i=d(30);function o(t,e,r,a){var l=100*(1-(1*t||0)),h=a.posFromDate(e),c=a.posFromDate(r),_=document.createElement("div");return _.className="gantt_histogram_hor_bar",_.style.top=l+"%",_.style.left=h+"px",_.style.width=c-h+1+"px",_}function n(t,e,r){if(t===e)return null;var a=1-Math.max(t,e),l=Math.abs(t-e),h=document.createElement("div");return h.className="gantt_histogram_vert_bar",h.style.top=100*a+"%",h.style.height=100*l+"%",h.style.left=r+"px",h}S.exports=function(t){var e=i(t),r={},a={},l={};function h(p,v){var m=r[p];m&&m[v]&&m[v].parentNode&&m[v].parentNode.removeChild(m[v])}function c(p,v,m,k,y,w,$){var b=l[p.id];b&&b.parentNode&&b.parentNode.removeChild(b);var x=function(T,E,D,A){for(var M=E.getScale(),I=document.createElement("div"),N=s(M,A),P=N.start;P<=N.end;P++){var O=M.trace_x[P],H=M.trace_x[P+1]||t.date.add(O,M.step,M.unit),V=M.trace_x[P].valueOf(),W=Math.min(T[V]/D,1)||0;if(W<0)return null;var J=Math.min(T[H.valueOf()]/D,1)||0,q=o(W,O,H,E);q&&I.appendChild(q);var X=n(W,J,E.posFromDate(H));X&&I.appendChild(X)}return I}(m,y,w,$);return x&&v&&(x.setAttribute("data-resource-id",p.id),x.setAttribute(y.$config.item_attribute,p.id),x.style.position="absolute",x.style.top=v.top+1+"px",x.style.height=y.getItemHeight(p.id)-1+"px",x.style.left=0),x}function _(p,v,m,k,y,w,$){var b=y.histogram_cell_class(w.start_date,w.end_date,p,w.tasks,w.assignments),x=y.histogram_cell_label(w.start_date,w.end_date,p,w.tasks,w.assignments),T=y.histogram_cell_allocated(w.start_date,w.end_date,p,w.tasks,w.assignments),E=$.getItemHeight(p.id)-1;if(b||x){var D=document.createElement("div");return D.className=["gantt_histogram_cell",b].join(" "),D.setAttribute($.$config.item_attribute,p.id),D.style.cssText=["left:"+v.left+"px","width:"+v.width+"px","height:"+E+"px","line-height:"+E+"px","top:"+(v.top+1)+"px"].join(";"),x&&(x="<div class='gantt_histogram_label'>"+x+"</div>"),T&&(x="<div class='gantt_histogram_fill' style='height:"+100*Math.min(T/m||0,1)+"%;'></div>"+x),x&&(D.innerHTML=x),D}return null}return{render:function(p,v,m,k){var y=v.$getTemplates(),w=v.getScale(),$=e(p,m.resource_property,w,v),b=[],x={},T=p.capacity||v.$config.capacity||24;r[p.id]={},a[p.id]=null,l[p.id]=null;for(var E=!!k,D=s(w,k),A=D.start;A<=D.end;A++){var M=$[A];if(M&&(!E||u(A,w,k,t))){var I=y.histogram_cell_capacity(M.start_date,M.end_date,p,M.tasks,M.assignments);x[M.start_date.valueOf()]=I||0;var N=v.getItemPosition(p,M.start_date,M.end_date),P=_(p,N,T,0,y,M,v);P&&(b.push(P),r[p.id][A]=P)}}var O=null;if(b.length){O=document.createElement("div");for(var H=0;H<b.length;H++)O.appendChild(b[H]);var V=c(p,N,x,0,v,T,k);V&&(O.appendChild(V),l[p.id]=V),a[p.id]=O}return O},update:function(p,v,m,k,y){var w=m.$getTemplates(),$=m.getScale(),b=e(p,k.resource_property,$,m),x=p.capacity||m.$config.capacity||24,T={},E=!!y,D=s($,y),A={};if(r&&r[p.id])for(var M in r[p.id])A[M]=M;for(var I=D.start;I<=D.end;I++){var N=b[I];if(A[I]=!1,N){var P=w.histogram_cell_capacity(N.start_date,N.end_date,p,N.tasks,N.assignments);T[N.start_date.valueOf()]=P||0;var O=m.getItemPosition(p,N.start_date,N.end_date);if(!E||u(I,$,y,t)){var H=r[p.id];if(H&&H[I])H&&H[I]&&!H[I].parentNode&&v.appendChild(H[I]);else{var V=_(p,O,x,0,w,N,m);V&&(v.appendChild(V),r[p.id][I]=V)}}else h(p.id,I)}}for(var M in A)A[M]!==!1&&h(p.id,M);var W=c(p,O,T,0,m,x,y);W&&(v.appendChild(W),l[p.id]=W)},getRectangle:g,getVisibleRange:f}}},function(S,C,d){var g=d(20),f=d(5),s=d(19),u=d(18),i=d(30);S.exports=function(o){var n=i(o),t={};function e(a,l,h,c,_){var p=h.resource_cell_class(l.start_date,l.end_date,a,l.tasks,l.assignments),v=h.resource_cell_value(l.start_date,l.end_date,a,l.tasks,l.assignments),m=_.getItemHeight(a.id)-1;if(p||v){var k=_.getItemPosition(a,l.start_date,l.end_date),y=document.createElement("div");return y.setAttribute(_.$config.item_attribute,a.id),y.className=["gantt_resource_marker",p].join(" "),y.style.cssText=["left:"+k.left+"px","width:"+k.width+"px","height:"+m+"px","line-height:"+m+"px","top:"+k.top+"px"].join(";"),v&&(y.innerHTML=v),y}return null}function r(a,l){t[a]&&t[a][l]&&t[a][l].parentNode&&t[a][l].parentNode.removeChild(t[a][l])}return{render:function(a,l,h,c){var _=l.$getTemplates(),p=l.getScale(),v=n(a,h.resource_property,l.getScale(),l),m=!!c,k=[];t[a.id]={};for(var y=s(p,c),w=y.start;w<=y.end;w++){var $=v[w];if($&&(!m||u(w,p,c,o))){var b=e(a,$,_,0,l);b&&(k.push(b),t[a.id][w]=b)}}var x=null;if(k.length){x=document.createElement("div");for(var T=0;T<k.length;T++)x.appendChild(k[T])}return x},update:function(a,l,h,c,_){var p=h.$getTemplates(),v=h.getScale(),m=n(a,c.resource_property,h.getScale(),h),k=s(v,_),y={};if(t&&t[a.id])for(var w in t[a.id])y[w]=w;for(var $=k.start;$<=k.end;$++){var b=m[$];if(y[$]=!1,b)if(u($,v,_,o))if(t[a.id]&&t[a.id][$])t[a.id]&&t[a.id][$]&&!t[a.id][$].parentNode&&l.appendChild(t[a.id][$]);else{var x=e(a,b,p,0,h);x&&(l.appendChild(x),t[a.id][$]=x)}else r(a.id,$)}for(var w in y)y[w]!==!1&&r(a.id,w)},getRectangle:g,getVisibleRange:f}}},function(S,C,d){function g(i){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}var f=d(2),s=d(23),u=d(5);S.exports=function(i){return{render:function(o,n,t,e){for(var r=n.getGridColumns(),a=n.$getTemplates(),l=n.$config.rowStore,h=[],c=0;c<r.length;c++){var _,p,v,m=c==r.length-1,k=r[c];k.name=="add"?(p="<div "+(T=i._waiAria.gridAddButtonAttrString(k))+" class='gantt_add'></div>",v=""):(p=k.template?k.template(o):o[k.name],f.isDate(p)&&(p=a.date_grid(p,o,k.name)),p!=null||(p=""),v=p,p="<div class='gantt_tree_content'>"+p+"</div>");var y="gantt_cell"+(m?" gantt_last_cell":""),w=[];if(k.tree){y+=" gantt_cell_tree";for(var $=0;$<o.$level;$++)w.push(a.grid_indent(o));!l.hasChild(o.id)||i.isSplitTask(o)&&!i.config.open_split_tasks?(w.push(a.grid_blank(o)),w.push(a.grid_file(o))):(w.push(a.grid_open(o)),w.push(a.grid_folder(o)))}var b="width:"+(k.width-(m?1:0))+"px;";if(this.defined(k.align)){var x={right:"flex-end",left:"flex-start",center:"center"}[k.align];b+="text-align:"+k.align+";justify-content:"+x+";"}var T=i._waiAria.gridCellAttrString(k,v,o);w.push(p),_="<div class='"+y+"' data-column-index='"+c+"' data-column-name='"+k.name+"' style='"+b+"' "+T+">"+w.join("")+"</div>",h.push(_)}switch(y="",l.$config.name){case"task":y=i.getGlobalTaskIndex(o.id)%2==0?"":" odd";break;case"resource":y=l.visibleOrder.indexOf(o.id)%2==0?"":" odd"}if(y+=o.$transparent?" gantt_transparent":"",y+=o.$dataprocessor_class?" "+o.$dataprocessor_class:"",a.grid_row_class){var E=a.grid_row_class.call(i,o.start_date,o.end_date,o);E&&(y+=" "+E)}l.isSelected(o.id)&&(y+=" gantt_selected");var D=document.createElement("div");D.className="gantt_row"+y+" gantt_row_"+i.getTaskType(o.type);var A=n.getItemHeight(o.id);return D.style.height=A+"px",D.style.lineHeight=A+"px",t.smart_rendering&&(D.style.position="absolute",D.style.left="0px",D.style.top=n.getItemTop(o.id)+"px"),n.$config.item_attribute&&(D.setAttribute(n.$config.item_attribute,o.id),D.setAttribute(n.$config.bind+"_id",o.id)),i._waiAria.taskRowAttr(o,D),D.innerHTML=h.join(""),D},update:null,getRectangle:s,getVisibleRange:u,onrender:function(o,n,t){for(var e=t.getGridColumns(),r=0;r<e.length;r++){var a=e[r];if(a.onrender){var l=n.querySelector("[data-column-name="+a.name+"]");if(l){var h=a.onrender(o,l);if(h&&typeof h=="string")l.innerHTML=h;else if(h&&g(h)==="object"&&i.config.external_render){var c=i.config.external_render;c.isElement(h)&&c.renderElement(h,l)}}}}}}}},function(S,C,d){var g=d(32),f=d(33);S.exports=function(s){var u={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(n){this.current_pos=s.copy(n)},get_lines:function(n){this.clear(),this.point(n[0]);for(var t=1;t<n.length;t++)this.line_to(n[t]);return this.get_path()},line_to:function(n){var t=s.copy(n),e=this.current_pos,r=this._get_line(e,t);this.path.push(r),this.current_pos=t},get_path:function(){return this.path},get_wrapper_sizes:function(n,t,e){var r,a=t.$getConfig().link_wrapper_width,l=n.y-a/2;switch(n.direction){case this.dirs.left:r={top:l,height:a,lineHeight:a,left:n.x-n.size-a/2,width:n.size+a};break;case this.dirs.right:r={top:l,lineHeight:a,height:a,left:n.x-a/2,width:n.size+a};break;case this.dirs.up:r={top:l-n.size,lineHeight:n.size+a,height:n.size+a,left:n.x-a/2,width:a};break;case this.dirs.down:r={top:l,lineHeight:n.size+a,height:n.size+a,left:n.x-a/2,width:a}}return r},get_line_sizes:function(n,t){var e,r=t.$getConfig(),a=r.link_line_width,l=r.link_wrapper_width,h=n.size+a;switch(n.direction){case this.dirs.left:case this.dirs.right:e={height:a,width:h,marginTop:(l-a)/2,marginLeft:(l-a)/2};break;case this.dirs.up:case this.dirs.down:e={height:h,width:a,marginTop:(l-a)/2,marginLeft:(l-a)/2}}return e},render_line:function(n,t,e,r){var a=this.get_wrapper_sizes(n,e,r),l=document.createElement("div");l.style.cssText=["top:"+a.top+"px","left:"+a.left+"px","height:"+a.height+"px","width:"+a.width+"px"].join(";"),l.className="gantt_line_wrapper";var h=this.get_line_sizes(n,e),c=document.createElement("div");return c.style.cssText=["height:"+h.height+"px","width:"+h.width+"px","margin-top:"+h.marginTop+"px","margin-left:"+h.marginLeft+"px"].join(";"),c.className="gantt_link_line_"+n.direction,l.appendChild(c),l},_get_line:function(n,t){var e=this.get_direction(n,t),r={x:n.x,y:n.y,direction:this.get_direction(n,t)};return e==this.dirs.left||e==this.dirs.right?r.size=Math.abs(n.x-t.x):r.size=Math.abs(n.y-t.y),r},get_direction:function(n,t){return t.x<n.x?this.dirs.left:t.x>n.x?this.dirs.right:t.y>n.y?this.dirs.down:this.dirs.up}},i={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(n){return n?(this.path.push(s.copy(n)),n):this.current()},point_to:function(n,t,e){e=e?{x:e.x,y:e.y}:s.copy(this.point());var r=u.dirs;switch(n){case r.left:e.x-=t;break;case r.right:e.x+=t;break;case r.up:e.y-=t;break;case r.down:e.y+=t}return this.point(e)},get_points:function(n,t,e,r){var a=this.get_endpoint(n,t,e,r),l=s.config,h=a.e_y-a.y,c=a.e_x-a.x,_=u.dirs,p=t.getItemHeight(n.source);this.clear(),this.point({x:a.x,y:a.y});var v=2*l.link_arrow_size,m=this.get_line_type(n,t.$getConfig()),k=a.e_x>a.x;if(m.from_start&&m.to_start)this.point_to(_.left,v),k?(this.point_to(_.down,h),this.point_to(_.right,c)):(this.point_to(_.right,c),this.point_to(_.down,h)),this.point_to(_.right,v);else if(!m.from_start&&m.to_start)if(k=a.e_x>a.x+2*v,this.point_to(_.right,v),k)c-=v,this.point_to(_.down,h),this.point_to(_.right,c);else{c-=2*v;var y=h>0?1:-1;this.point_to(_.down,y*(p/2)),this.point_to(_.right,c),this.point_to(_.down,y*(Math.abs(h)-p/2)),this.point_to(_.right,v)}else m.from_start||m.to_start?m.from_start&&!m.to_start&&(k=a.e_x>a.x-2*v,this.point_to(_.left,v),k?(c+=2*v,y=h>0?1:-1,this.point_to(_.down,y*(p/2)),this.point_to(_.right,c),this.point_to(_.down,y*(Math.abs(h)-p/2)),this.point_to(_.left,v)):(c+=v,this.point_to(_.down,h),this.point_to(_.right,c))):(this.point_to(_.right,v),k?(this.point_to(_.right,c),this.point_to(_.down,h)):(this.point_to(_.down,h),this.point_to(_.right,c)),this.point_to(_.left,v));return this.path},get_line_type:function(n,t){var e=t.links,r=!1,a=!1;return n.type==e.start_to_start?r=a=!0:n.type==e.finish_to_finish?r=a=!1:n.type==e.finish_to_start?(r=!1,a=!0):n.type==e.start_to_finish?(r=!0,a=!1):s.assert(!1,"Invalid link type"),t.rtl&&(r=!r,a=!a),{from_start:r,to_start:a}},get_endpoint:function(n,t,e,r){var a=t.$getConfig(),l=this.get_line_type(n,a),h=l.from_start,c=l.to_start,_=o(e,t,a),p=o(r,t,a);return{x:h?_.left:_.left+_.width,e_x:c?p.left:p.left+p.width,y:_.top+_.rowHeight/2-1,e_y:p.top+p.rowHeight/2-1}}};function o(n,t,e){var r=t.getItemPosition(n);if(s.getTaskType(n.type)==e.types.milestone){var a=t.getBarHeight(n.id,!0),l=Math.sqrt(2*a*a);r.left-=l/2,r.width=l}return r}return{render:function(n,t,e){var r=s.getTask(n.source);if(!r.hide_bar){var a=s.getTask(n.target);if(!a.hide_bar){var l=i.get_endpoint(n,t,r,a),h=l.e_y-l.y;if(!(l.e_x-l.x||h))return null;var c=i.get_points(n,t,r,a),_=u.get_lines(c,t),p=document.createElement("div"),v="gantt_task_link";n.color&&(v+=" gantt_link_inline_color");var m=s.templates.link_class?s.templates.link_class(n):"";m&&(v+=" "+m),e.highlight_critical_path&&s.isCriticalLink&&s.isCriticalLink(n)&&(v+=" gantt_critical_link"),p.className=v,t.$config.link_attribute&&(p.setAttribute(t.$config.link_attribute,n.id),p.setAttribute("link_id",n.id));for(var k=0;k<_.length;k++){k==_.length-1&&(_[k].size-=e.link_arrow_size);var y=u.render_line(_[k],_[k+1],t,n.source);n.color&&(y.firstChild.style.backgroundColor=n.color),p.appendChild(y)}var w=_[_.length-1].direction,$=function(b,x,T,E){var D=T.$getConfig(),A=document.createElement("div"),M=b.y,I=b.x,N=D.link_arrow_size,P="gantt_link_arrow gantt_link_arrow_"+x;switch(x){case u.dirs.right:M-=N/2,I-=N;break;case u.dirs.left:M-=N/2;break;case u.dirs.up:I-=N;break;case u.dirs.down:M+=2*N,I-=N}return A.style.cssText=["top:"+M+"px","left:"+I+"px"].join(";"),A.className=P,A}(c[c.length-1],w,t,n.source);return n.color&&($.style.borderColor=n.color),p.appendChild($),s._waiAria.linkAttr(n,p),p}}},update:null,isInViewPort:g,getVisibleRange:f()}}},function(S,C){S.exports=function(d,g){var f=g.config.timeline_placeholder;if(d=d||[],f&&d.filter(function(t){return t.id==="timeline_placeholder_task"}).length===0){var s=g.getState(),u=null,i=s.min_date,o=s.max_date;d.length&&(u=d[d.length-1].id);var n={start_date:i,end_date:o,row_height:f.height||0,id:"timeline_placeholder_task",unscheduled:!0,lastTaskId:u,calendar_id:f.calendar||"global",$source:[],$target:[]};d.push(n)}}},function(S,C,d){var g=d(20),f=d(14),s=d(5),u=d(19),i=d(18),o=d(89);S.exports=function(n){var t={},e={};function r(_,p){return!(!t[_.id][p]||!t[_.id][p].parentNode)}function a(_,p){t[_]&&t[_][p]&&t[_][p].parentNode&&t[_][p].parentNode.removeChild(t[_][p])}function l(_){var p,v=_.$getTemplates();return v.task_cell_class!==void 0?(p=v.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):p=v.timeline_cell_class,p}function h(_){return _.$getTemplates().timeline_cell_content}function c(_,p,v,m,k,y,w,$){var b=_.width[p],x="";if(i(p,_,m,n)){var T=y(v,_.trace_x[p]),E="";if(w&&(E=w(v,_.trace_x[p])),$.static_background){var D=!(!T&&!E);if(!$.static_background_cells||!D)return null}if(t[v.id][p])return e[v.id][p]=p,t[v.id][p];var A=document.createElement("div");return A.style.width=b+"px",x="gantt_task_cell"+(p==k-1?" gantt_last_cell":""),T&&(x+=" "+T),A.className=x,E&&(A.innerHTML=E),A.style.position="absolute",A.style.left=_.left[p]+"px",t[v.id][p]=A,e[v.id][p]=p,A}return null}return{render:function(_,p,v,m){var k=p.$getTemplates(),y=p.getScale(),w=y.count;if(v.static_background&&!v.static_background_cells)return null;var $,b=document.createElement("div"),x=l(p),T=h(p);if($=m&&v.smart_rendering&&!f(n)?u(y,m.x):{start:0,end:w-1},v.show_task_cells){t[_.id]={},e[_.id]={};for(var E=$.start;E<=$.end;E++){var D=c(y,E,_,m,w,x,T,v);D&&b.appendChild(D)}}var A=p.$config.rowStore,M=A.getIndexById(_.id)%2!=0,I=k.task_row_class(_.start_date,_.end_date,_),N="gantt_task_row"+(M?" odd":"")+(I?" "+I:"");if(A.isSelected(_.id)&&(N+=" gantt_selected"),b.className=N,v.smart_rendering?(b.style.position="absolute",b.style.top=p.getItemTop(_.id)+"px",b.style.width="100%"):b.style.position="relative",b.style.height=p.getItemHeight(_.id)+"px",_.id=="timeline_placeholder_task"){var P=0;_.lastTaskId&&(P=p.getItemTop(_.lastTaskId)+p.getItemHeight(_.lastTaskId));var O=(_.row_height||p.$task_data.offsetHeight)-P;O<0&&(O=0),v.smart_rendering&&(b.style.top=P+"px"),b.style.height=O+"px"}return p.$config.item_attribute&&(b.setAttribute(p.$config.item_attribute,_.id),b.setAttribute(p.$config.bind+"_id",_.id)),b},update:function(_,p,v,m,k){var y=v.getScale(),w=y.count,$=l(v),b=h(v);if(m.show_task_cells){t[_.id]||(t[_.id]={}),e[_.id]||(e[_.id]={});var x=u(y,k);for(var T in e[_.id]){var E=e[_.id][T];(Number(E)<x.start||Number(E)>x.end)&&a(_.id,E)}e[_.id]={};for(var D=x.start;D<=x.end;D++){var A=c(y,D,_,k,w,$,b,m);!A&&r(_,D)?a(_.id,D):A&&!A.parentNode&&p.appendChild(A)}}},getRectangle:g,getVisibleRange:s,prepareData:o}}},function(S,C,d){var g=d(21),f=d(13),s=d(5);S.exports=function(u){var i=g(u),o={};function n(r,a,l,h,c){var _=!0;return h.smart_rendering&&(_=f(r,a,l,h,c)),_}function t(r,a,l,h){var c=u.copy(u.getTask(a.id));if(c.$rendered_at=r.id,u.callEvent("onBeforeRollupTaskDisplay",[c.id,c,r.id])!==!1){var _=i(c,l);if(_){var p=l.getBarHeight(r.id,a.type==u.config.types.milestone),v=Math.floor((l.getItemHeight(r.id)-p)/2);return _.style.top=h.top+v+"px",_.classList.add("gantt_rollup_child"),_.setAttribute("data-rollup-parent-id",r.id),_}}}function e(r,a){return r+"_"+a}return{render:function(r,a,l,h){if(r.rollup!==!1&&r.$rollup&&r.$rollup.length){var c=document.createElement("div"),_=u.getTaskPosition(r);return h.y=0,h.y_end=u.$task_bg.scrollHeight,r.$rollup.forEach(function(p){if(u.isTaskExists(p)){var v=u.getTask(p);if(n(v,h,a,l,u)){var m=t(r,v,a,_);m?(o[e(v.id,r.id)]=m,c.appendChild(m)):o[e(v.id,r.id)]=!1}}}),c}return!1},update:function(r,a,l,h,c){var _=document.createElement("div"),p=u.getTaskPosition(r);c.y=0,c.y_end=u.$task_bg.scrollHeight,r.$rollup.forEach(function(v){var m=u.getTask(v),k=e(m.id,r.id),y=n(m,c,l,h,u);if(y!==!!o[k])if(y){var w=t(r,m,l,p);o[k]=w||!1}else o[k]=!1;o[k]&&_.appendChild(o[k]),a.innerHTML="",a.appendChild(_)})},isInViewPort:f,getVisibleRange:s}}},function(S,C,d){var g=d(13);S.exports=function(f,s,u,i,o){if(!o.isSplitTask(f))return!1;var n=o.getSubtaskDates(f.id);return g({id:f.id,start_date:n.start_date,end_date:n.end_date,parent:f.parent},s,u,o)}},function(S,C,d){var g=d(21),f=d(5),s=d(92),u=d(13);S.exports=function(i){var o=g(i),n={};function t(l,h,c,_,p){var v=!l.hide_bar;return _.smart_rendering&&v&&(v=u(l,h,c,_,p)),v}function e(l,h,c,_){if(!h.hide_bar){var p=i.isSummaryTask(h);p&&i.resetProjectDates(h);var v=i.copy(i.getTask(h.id));if(v.$rendered_at=l.id,i.callEvent("onBeforeSplitTaskDisplay",[v.id,v,l.id])!==!1){var m=o(v,c);if(m){var k=c.getBarHeight(l.id,h.type==i.config.types.milestone),y=Math.floor((c.getItemHeight(l.id)-k)/2);return m.style.top=_.top+y+"px",m.classList.add("gantt_split_child"),p&&m.classList.add("gantt_split_subproject"),m}}}}function r(l,h){return l+"_"+h}function a(l,h){return i.isSplitTask(l)&&(h.open_split_tasks&&!l.$open||!h.open_split_tasks)&&i.hasChild(l.id)}return{render:function(l,h,c,_){if(a(l,c)){var p=document.createElement("div"),v=i.getTaskPosition(l);return i.hasChild(l.id)&&i.eachTask(function(m){if(t(m,_,h,c,i)){var k=e(l,m,h,v);k?(n[r(m.id,l.id)]=k,p.appendChild(k)):n[r(m.id,l.id)]=!1}},l.id),p}return!1},update:function(l,h,c,_,p){if(a(l,_)){var v=document.createElement("div"),m=i.getTaskPosition(l);i.eachTask(function(k){var y=r(k.id,l.id),w=t(k,p,c,_,i);if(w!==!!n[y])if(w){var $=e(l,k,c,m);n[y]=$||!1}else n[y]=!1;n[y]&&v.appendChild(n[y]),h.innerHTML="",h.appendChild(v)},l.id)}},isInViewPort:s,getVisibleRange:f}}},function(S,C,d){var g=d(13),f=d(5),s=d(21);S.exports=function(u){return{render:s(u),update:null,isInViewPort:g,getVisibleRange:f}}},function(S,C){S.exports=function(d){return function(f,s,u){u=="keepDates"?function(i,o){o=="duration"?i.end_date=d.calculateEndDate(i):o!="end_date"&&o!="start_date"||(i.duration=d.calculateDuration(i))}(f,s):u=="keepDuration"?function(i,o){o=="end_date"?i.start_date=g(i):o!="start_date"&&o!="duration"||(i.end_date=d.calculateEndDate(i))}(f,s):function(i,o){d.config.schedule_from_end?o=="end_date"||o=="duration"?i.start_date=g(i):o=="start_date"&&(i.duration=d.calculateDuration(i)):o=="start_date"||o=="duration"?i.end_date=d.calculateEndDate(i):o=="end_date"&&(i.duration=d.calculateDuration(i))}(f,s)};function g(f){return d.calculateEndDate({start_date:f.end_date,duration:-f.duration,task:f})}}},function(S,C,d){S.exports=function(g){var f=d(7)(g),s=d(0);function u(){return f.apply(this,arguments)||this}function i(o){return o.formatter||g.ext.formatters.durationFormatter()}return d(3)(u,f),s.mixin(u.prototype,{show:function(o,n,t,e){var r="<div><input type='text' name='"+n.name+"'></div>";e.innerHTML=r},set_value:function(o,n,t,e){this.get_input(e).value=i(t.editor).format(o)},get_value:function(o,n,t){return i(n.editor).parse(this.get_input(t).value||"")}},!0),u}},function(S,C,d){S.exports=function(g){var f=d(7)(g),s=d(0);function u(){return f.apply(this,arguments)||this}function i(r){return r.formatter||g.ext.formatters.linkFormatter()}function o(r,a){for(var l=(r||"").split(a.delimiter||","),h=0;h<l.length;h++){var c=l[h].trim();c?l[h]=c:(l.splice(h,1),h--)}return l.sort(),l}function n(r,a,l){for(var h=r.$target,c=[],_=0;_<h.length;_++){var p=l.getLink(h[_]);c.push(i(a).format(p))}return c.join((a.delimiter||",")+" ")}function t(r){return r.source+"_"+r.target+"_"+r.type+"_"+(r.lag||0)}function e(r,a,l){var h=function(m,k,y){var w=[];return k.forEach(function($){var b=i(y).parse($);b&&(b.target=m,b.id="predecessor_generated",g.isLinkAllowed(b)&&(b.id=void 0,w.push(b)))}),w}(r.id,a,l),c={};r.$target.forEach(function(m){var k=g.getLink(m);c[t(k)]=k.id});var _=[];h.forEach(function(m){var k=t(m);c[k]?delete c[k]:_.push(m)});var p=[];for(var v in c)p.push(c[v]);return{add:_,remove:p}}return d(3)(u,f),s.mixin(u.prototype,{show:function(r,a,l,h){var c="<div><input type='text' name='"+a.name+"'></div>";h.innerHTML=c},hide:function(){},set_value:function(r,a,l,h){this.get_input(h).value=n(r,l.editor,g)},get_value:function(r,a,l){return o(this.get_input(l).value||"",a.editor)},save:function(r,a,l){var h=e(g.getTask(r),this.get_value(r,a,l),a.editor);(h.add.length||h.remove.length)&&g.batchUpdate(function(){h.add.forEach(function(c){g.addLink(c)}),h.remove.forEach(function(c){g.deleteLink(c)}),g.autoSchedule&&g.autoSchedule()})},is_changed:function(r,a,l,h){var c=this.get_value(a,l,h),_=o(n(r,l.editor,g),l.editor);return c.join()!==_.join()}},!0),u}},function(S,C,d){S.exports=function(g){var f=d(7)(g),s=d(0),u="%Y-%m-%d",i=null,o=null;function n(){return f.apply(this,arguments)||this}return d(3)(n,f),s.mixin(n.prototype,{show:function(t,e,r,a){i||(i=g.date.date_to_str(u)),o||(o=g.date.str_to_date(u));var l=null,h=null;l=typeof r.min=="function"?r.min(t,e):r.min,h=typeof r.max=="function"?r.max(t,e):r.max;var c="<div style='width:140px'><input type='date' "+(l?" min='"+i(l)+"' ":"")+(h?" max='"+i(h)+"' ":"")+" name='"+e.name+"'></div>";a.innerHTML=c},set_value:function(t,e,r,a){t&&t.getFullYear?this.get_input(a).value=i(t):this.get_input(a).value=t},is_valid:function(t,e,r,a){return!(!t||isNaN(t.getTime()))},get_value:function(t,e,r){var a;try{a=o(this.get_input(r).value||"")}catch{a=null}return a}},!0),n}},function(S,C,d){S.exports=function(g){var f=d(7)(g),s=d(0);function u(){return f.apply(this,arguments)||this}return d(3)(u,f),s.mixin(u.prototype,{show:function(i,o,n,t){for(var e="<div><select name='"+o.name+"'>",r=[],a=n.options||[],l=0;l<a.length;l++)r.push("<option value='"+n.options[l].key+"'>"+a[l].label+"</option>");e+=r.join("")+"</select></div>",t.innerHTML=e},get_input:function(i){return i.querySelector("select")}},!0),u}},function(S,C,d){S.exports=function(g){var f=d(7)(g),s=d(0);function u(){return f.apply(this,arguments)||this}return d(3)(u,f),s.mixin(u.prototype,{show:function(i,o,n,t){var e="<div><input type='number' min='"+(n.min||0)+"' max='"+(n.max||100)+"' name='"+o.name+"'></div>";t.innerHTML=e},get_value:function(i,o,n){return this.get_input(n).value||""},is_valid:function(i,o,n,t){return!isNaN(parseInt(i,10))}},!0),u}},function(S,C,d){S.exports=function(g){var f=d(7)(g),s=d(0);function u(){return f.apply(this,arguments)||this}return d(3)(u,f),s.mixin(u.prototype,{show:function(i,o,n,t){var e="<div><input type='text' name='"+o.name+"'></div>";t.innerHTML=e}},!0),u}},function(S,C){S.exports={init:function(d,g){var f=d,s=g.$gantt,u=null,i=s.ext.keyboardNavigation;i.attachEvent("onBeforeFocus",function(o){var n=d.locateCell(o);if(clearTimeout(u),n){var t=n.columnName,e=n.id,r=f.getState();if(f.isVisible()&&r.id==e&&r.columnName===t)return!1}return!0}),i.attachEvent("onFocus",function(o){var n=d.locateCell(o),t=d.getState();return clearTimeout(u),!n||n.id==t.id&&n.columnName==t.columnName||f.isVisible()&&f.save(),!0}),d.attachEvent("onHide",function(){clearTimeout(u)}),i.attachEvent("onBlur",function(){return u=setTimeout(function(){f.save()}),!0}),s.attachEvent("onTaskDblClick",function(o,n){var t=d.getState(),e=d.locateCell(n.target);return!e||!d.isVisible()||e.columnName!=t.columnName}),s.attachEvent("onTaskClick",function(o,n){if(s._is_icon_open_click(n))return!0;var t=d.getState(),e=d.locateCell(n.target);return!e||!d.getEditorConfig(e.columnName)||(d.isVisible()&&t.id==e.id&&t.columnName==e.columnName||d.startEdit(e.id,e.columnName),!1)}),s.attachEvent("onEmptyClick",function(){return f.save(),!0}),i.attachEvent("onKeyDown",function(o,n){var t=d.locateCell(n.target),e=!!t&&d.getEditorConfig(t.columnName),r=d.getState(),a=s.constants.KEY_CODES,l=n.keyCode,h=!1;switch(l){case a.ENTER:d.isVisible()?(d.save(),n.preventDefault(),h=!0):e&&!(n.ctrlKey||n.metaKey||n.shiftKey)&&(f.startEdit(t.id,t.columnName),n.preventDefault(),h=!0);break;case a.ESC:d.isVisible()&&(d.hide(),n.preventDefault(),h=!0);break;case a.UP:case a.DOWN:break;case a.LEFT:case a.RIGHT:(e&&d.isVisible()||r.editorType==="date")&&(h=!0);break;case a.SPACE:d.isVisible()&&(h=!0),e&&!d.isVisible()&&(f.startEdit(t.id,t.columnName),n.preventDefault(),h=!0);break;case a.DELETE:e&&!d.isVisible()?(f.startEdit(t.id,t.columnName),h=!0):e&&d.isVisible()&&(h=!0);break;case a.TAB:if(d.isVisible()){n.shiftKey?d.editPrevCell(!0):d.editNextCell(!0);var c=d.getState();c.id&&i.focus({type:"taskCell",id:c.id,column:c.columnName}),n.preventDefault(),h=!0}break;default:if(d.isVisible())h=!0;else if(l>=48&&l<=57||l>95&&l<112||l>=64&&l<=91||l>185&&l<193||l>218&&l<223){var _=o.modifiers,p=_.alt||_.ctrl||_.meta||_.shift;_.alt||p&&i.getCommandHandler(o,"taskCell")||e&&!d.isVisible()&&(f.startEdit(t.id,t.columnName),h=!0)}}return!h})},onShow:function(d,g,f){},onHide:function(d,g,f){f.$gantt.focus()},destroy:function(){}}},function(S,C){S.exports={init:function(d,g){var f=g.$gantt;f.attachEvent("onTaskClick",function(s,u){if(f._is_icon_open_click(u))return!0;var i=d.getState(),o=d.locateCell(u.target);return!o||!d.getEditorConfig(o.columnName)||(d.isVisible()&&i.id==o.id&&i.columnName==o.columnName||d.startEdit(o.id,o.columnName),!1)}),f.attachEvent("onEmptyClick",function(){return d.isVisible()&&d.isChanged()?d.save():d.hide(),!0}),f.attachEvent("onTaskDblClick",function(s,u){var i=d.getState(),o=d.locateCell(u.target);return!o||!d.isVisible()||o.columnName!=i.columnName})},onShow:function(d,g,f){var s=f.$gantt;s.ext&&s.ext.keyboardNavigation&&s.ext.keyboardNavigation.attachEvent("onKeyDown",function(u,i){var o=s.constants.KEY_CODES,n=!1;switch(i.keyCode){case o.SPACE:d.isVisible()&&(n=!0)}return!n}),g.onkeydown=function(u){u=u||window.event;var i=s.constants.KEY_CODES;if(!(u.defaultPrevented||u.shiftKey&&u.keyCode!=i.TAB)){var o=!0;switch(u.keyCode){case s.keys.edit_save:d.save();break;case s.keys.edit_cancel:d.hide();break;case i.UP:case i.DOWN:d.isVisible()&&(d.hide(),o=!1);break;case i.TAB:u.shiftKey?d.editPrevCell(!0):d.editNextCell(!0);break;default:o=!1}o&&u.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(S,C,d){var g=d(103),f=d(102);S.exports=function(s){var u=null;return{setMapping:function(i){u=i},getMapping:function(){return u||(s.config.keyboard_navigation_cells&&s.ext.keyboardNavigation?f:g)}}}},function(S,C,d){var g=d(104),f=d(101),s=d(100),u=d(99),i=d(98),o=d(97),n=d(96),t=d(0),e=d(1),r=d(4),a=d(95);function l(h){h.config.editor_types={text:new(f(h)),number:new(s(h)),select:new(u(h)),date:new(i(h)),predecessor:new(o(h)),duration:new(n(h))}}S.exports=function(h){var c=g(h),_={};r(_);var p={init:l,createEditors:function(v){function m(x,T){var E=v.$getConfig(),D=function(I,N){for(var P=v.$getConfig(),O=v.getItemTop(I),H=v.getItemHeight(I),V=v.getGridColumns(),W=0,J=0,q=0,X=0;X<V.length;X++){if(V[X].name==N){q=V[X].width;break}P.rtl?J+=V[X].width:W+=V[X].width}return P.rtl?{top:O,right:J,height:H,width:q}:{top:O,left:W,height:H,width:q}}(x,T),A=document.createElement("div");A.className="gantt_grid_editor_placeholder",A.setAttribute(v.$config.item_attribute,x),A.setAttribute(v.$config.bind+"_id",x),A.setAttribute("data-column-name",T);var M=function(I,N){for(var P=I.getGridColumns(),O=0;O<P.length;O++)if(P[O].name==N)return O;return 0}(v,T);return A.setAttribute("data-column-index",M),E.rtl?A.style.cssText=["top:"+D.top+"px","right:"+D.right+"px","width:"+D.width+"px","height:"+D.height+"px"].join(";"):A.style.cssText=["top:"+D.top+"px","left:"+D.left+"px","width:"+D.width+"px","height:"+D.height+"px"].join(";"),A}var k=a(h),y=[],w=[],$=null,b={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(x){if(!e.isChildOf(x,v.$grid))return null;var T=e.locateAttribute(x,v.$config.item_attribute),E=e.locateAttribute(x,"data-column-name");if(T&&E){var D=E.getAttribute("data-column-name");return{id:T.getAttribute(v.$config.item_attribute),columnName:D}}return null},getEditorConfig:function(x){return v.getColumn(x).editor},init:function(){var x=c.getMapping();x.init&&x.init(this,v),$=v.$gantt.getDatastore(v.$config.bind);var T=this;y.push($.attachEvent("onIdChange",function(E,D){T._itemId==E&&(T._itemId=D)})),y.push($.attachEvent("onStoreUpdated",function(){v.$gantt.getState("batchUpdate").batch_update||T.isVisible()&&!$.isVisible(T._itemId)&&T.hide()})),w.push(h.attachEvent("onDataRender",function(){T._editor&&T._placeholder&&!e.isChildOf(T._placeholder,h.$root)&&v.$grid_data.appendChild(T._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(x,T){if(this.isVisible()&&this.save(),$.exists(x)){var E={id:x,columnName:T};h.isReadonly($.getItem(x))?this.callEvent("onEditPrevent",[E]):this.callEvent("onBeforeEditStart",[E])!==!1?(this.show(E.id,E.columnName),this.setValue(),this.callEvent("onEditStart",[E])):this.callEvent("onEditPrevent",[E])}},isVisible:function(){return!(!this._editor||!e.isChildOf(this._placeholder,h.$root))},show:function(x,T){this.isVisible()&&this.save();var E={id:x,columnName:T},D=v.getColumn(E.columnName),A=this.getEditorConfig(D.name);if(A){var M=v.$getConfig().editor_types[A.type],I=m(E.id,E.columnName);v.$grid_data.appendChild(I),M.show(E.id,D,A,I),this._editor=M,this._placeholder=I,this._itemId=E.id,this._columnName=E.columnName,this._editorType=A.type;var N=c.getMapping();N.onShow&&N.onShow(this,I,v)}},setValue:function(){var x=this.getState(),T=x.id,E=x.columnName,D=v.getColumn(E),A=$.getItem(T),M=this.getEditorConfig(E);if(M){var I=A[M.map_to];M.map_to=="auto"&&(I=$.getItem(T)),this._editor.set_value(I,T,D,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var x=v.getColumn(this._columnName);return this._editor.get_value(this._itemId,x,this._placeholder)},_getItemValue:function(){var x=this.getEditorConfig(this._columnName);if(x){var T=h.getTask(this._itemId)[x.map_to];return x.map_to=="auto"&&(T=$.getItem(this._itemId)),T}},isChanged:function(){var x=v.getColumn(this._columnName),T=this._getItemValue();return this._editor.is_changed(T,this._itemId,x,this._placeholder)},hide:function(){if(this._itemId){var x=this._itemId,T=this._columnName,E=c.getMapping();E.onHide&&E.onHide(this,this._placeholder,v),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:x,columnName:T}]))}},save:function(){if(this.isVisible()&&$.exists(this._itemId)&&this.isChanged()){var x=this._itemId,T=this._columnName;if($.exists(x)){var E=$.getItem(x),D=this.getEditorConfig(T),A={id:x,columnName:T,newValue:this.getValue(),oldValue:this._getItemValue()};if(this.callEvent("onBeforeSave",[A])!==!1&&(!this._editor.is_valid||this._editor.is_valid(A.newValue,A.id,v.getColumn(T),this._placeholder))){var M=D.map_to,I=A.newValue;M!="auto"?(E[M]=I,k(E,M,h.config.inline_editors_date_processing),$.updateItem(x)):this._editor.save(x,v.getColumn(T),this._placeholder),this.callEvent("onSave",[A])}this.hide()}}else this.hide()},_findEditableCell:function(x,T){var E=x,D=v.getGridColumns()[E],A=D?D.name:null;if(A){for(;A&&!this.getEditorConfig(A);)A=this._findEditableCell(x+T,T);return A}return null},getNextCell:function(x){return this._findEditableCell(v.getColumnIndex(this._columnName,!0)+x,x)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(v.getGridColumns().length-1,-1)},editNextCell:function(x){var T=this.getNextCell(1);if(T){var E=this.getNextCell(1);E&&this.getEditorConfig(E)&&this.startEdit(this._itemId,E)}else if(x&&this.moveRow(1)){var D=this.moveRow(1);(T=this.getFirstCell())&&this.getEditorConfig(T)&&this.startEdit(D,T)}},editPrevCell:function(x){var T=this.getNextCell(-1);if(T){var E=this.getNextCell(-1);E&&this.getEditorConfig(E)&&this.startEdit(this._itemId,E)}else if(x&&this.moveRow(-1)){var D=this.moveRow(-1);(T=this.getLastCell())&&this.getEditorConfig(T)&&this.startEdit(D,T)}},moveRow:function(x){for(var T=x>0?h.getNext:h.getPrev,E=(T=h.bind(T,h))(this._itemId);h.isTaskExists(E)&&h.isReadonly(h.getTask(E));)E=T(E);return E},editNextRow:function(x){var T=this.getState().id;if(h.isTaskExists(T)){var E=null;E=x?this.moveRow(1):h.getNext(T),h.isTaskExists(E)&&this.startEdit(E,this._columnName)}},editPrevRow:function(x){var T=this.getState().id;if(h.isTaskExists(T)){var E=null;E=x?this.moveRow(-1):h.getPrev(T),h.isTaskExists(E)&&this.startEdit(E,this._columnName)}},destructor:function(){y.forEach(function(x){$.detachEvent(x)}),w.forEach(function(x){h.detachEvent(x)}),y=[],w=[],$=null,this.hide(),this.detachAllEvents()}};return t.mixin(b,c),t.mixin(b,_),b}};return t.mixin(p,c),t.mixin(p,_),p}},function(S,C){S.exports={create:function(){return{render:function(){},destroy:function(){}}}}},function(S,C,d){var g=d(3),f=d(1),s=d(0),u=d(8),i=function(o){"use strict";var n=["altKey","shiftKey","metaKey"];function t(e,r,a,l){var h=o.apply(this,arguments)||this;this.$config=s.mixin(r,{scroll:"x"}),h._scrollHorizontalHandler=s.bind(h._scrollHorizontalHandler,h),h._scrollVerticalHandler=s.bind(h._scrollVerticalHandler,h),h._outerScrollVerticalHandler=s.bind(h._outerScrollVerticalHandler,h),h._outerScrollHorizontalHandler=s.bind(h._outerScrollHorizontalHandler,h),h._mouseWheelHandler=s.bind(h._mouseWheelHandler,h),this.$config.hidden=!0;var c=l.config.scroll_size;return l.env.isIE&&(c+=1),this._isHorizontal()?(h.$config.height=c,h.$parent.$config.height=c):(h.$config.width=c,h.$parent.$config.width=c),this.$config.scrollPosition=0,h.$name="scroller",h}return g(t,o),t.prototype.init=function(e){e.innerHTML=this.$toHTML(),this.$view=e.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},t.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},t.prototype._getRootParent=function(){for(var e=this.$parent;e&&e.$parent;)e=e.$parent;if(e)return e},t.prototype._eachView=function(){var e=[];return function r(a,l){if(l.push(a),a.$cells)for(var h=0;h<a.$cells.length;h++)r(a.$cells[h],l)}(this._getRootParent(),e),e},t.prototype._getLinkedViews=function(){for(var e=this._eachView(),r=[],a=0;a<e.length;a++)e[a].$config&&(this._isVertical()&&e[a].$config.scrollY==this.$id||this._isHorizontal()&&e[a].$config.scrollX==this.$id)&&r.push(e[a]);return r},t.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},t.prototype._initLinkedViews=function(){for(var e=this._getLinkedViews(),r=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",a=0;a<e.length;a++)f.addClassName(e[a].$view||e[a].getNode(),r)},t.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},t.prototype._updateLinkedViews=function(){},t.prototype._initMouseWheel=function(){u.isFF?this.$domEvents.attach(this._getRootParent().$view,"wheel",this._mouseWheelHandler,{passive:!1}):this.$domEvents.attach(this._getRootParent().$view,"mousewheel",this._mouseWheelHandler,{passive:!1})},t.prototype.scrollHorizontally=function(e){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=e,this.$config.codeScrollLeft=e,e=this.$scroll_hor.scrollLeft;for(var r=this._getLinkedViews(),a=0;a<r.length;a++)r[a].scrollTo&&r[a].scrollTo(e,void 0);var l=this.$config.scrollPosition;this.$config.scrollPosition=e,this.callEvent("onScroll",[l,e,this.$config.scroll]),this._scrolling=!1}},t.prototype.scrollVertically=function(e){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=e,e=this.$scroll_ver.scrollTop;for(var r=this._getLinkedViews(),a=0;a<r.length;a++)r[a].scrollTo&&r[a].scrollTo(void 0,e);var l=this.$config.scrollPosition;this.$config.scrollPosition=e,this.callEvent("onScroll",[l,e,this.$config.scroll]),this._scrolling=!1}},t.prototype._isVertical=function(){return this.$config.scroll=="y"},t.prototype._isHorizontal=function(){return this.$config.scroll=="x"},t.prototype._scrollHorizontalHandler=function(e){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;var r=this.$scroll_hor.scrollLeft;this.scrollHorizontally(r),this._oldLeft=this.$scroll_hor.scrollLeft}},t.prototype._outerScrollHorizontalHandler=function(e){this._isVertical()},t.prototype.show=function(){this.$parent.show()},t.prototype.hide=function(){this.$parent.hide()},t.prototype._getScrollSize=function(){for(var e,r=0,a=0,l=this._isHorizontal(),h=this._getLinkedViews(),c=l?"scrollWidth":"scrollHeight",_=l?"contentX":"contentY",p=l?"x":"y",v=this._getScrollOffset(),m=0;m<h.length;m++)if((e=h[m])&&e.$content&&e.$content.getSize&&!e.$config.hidden){var k,y=e.$content.getSize();if(k=y.hasOwnProperty(c)?y[c]:y[_],v)y[_]>y[p]&&y[_]>r&&k>y[p]-v+2&&(r=k+(l?0:2),a=y[p]);else{var w=Math.max(y[_]-k,0);(k+=w)>Math.max(y[p]-w,0)&&k>r&&(r=k,a=y[p])}}return{outerScroll:a,innerScroll:r}},t.prototype.scroll=function(e){this._isHorizontal()?this.scrollHorizontally(e):this.scrollVertically(e)},t.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},t.prototype.setSize=function(e,r){o.prototype.setSize.apply(this,arguments);var a=this._getScrollSize(),l=(this._isVertical()?r:e)-this._getScrollOffset()+(this._isHorizontal()?1:0);a.innerScroll&&l>a.outerScroll&&(a.innerScroll+=l-a.outerScroll),this.$config.scrollSize=a.innerScroll,this.$config.width=e,this.$config.height=r,this._setScrollSize(a.innerScroll)},t.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},t.prototype.shouldShow=function(){var e=this._getScrollSize();return!(!e.innerScroll&&this.$parent&&this.$parent.$view.parentNode)&&!(!e.innerScroll||this.$parent&&this.$parent.$view.parentNode)},t.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},t.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},t.prototype._getScaleOffset=function(e){var r=0;return!e||e.$config.view!="timeline"&&e.$config.view!="grid"||(r=e.$content.$getConfig().scale_height),r},t.prototype._getScrollOffset=function(){var e=0;if(this._isVertical()){var r=this.$parent.$parent;e=Math.max(this._getScaleOffset(r.getPrevSibling(this.$parent.$id)),this._getScaleOffset(r.getNextSibling(this.$parent.$id)))}else for(var a=this._getLinkedViews(),l=0;l<a.length;l++){var h=a[l].$parent.$cells,c=h[h.length-1];if(c&&c.$config.view=="scrollbar"&&c.$config.hidden===!1){e=c.$config.width;break}}return e||0},t.prototype._setScrollSize=function(e){var r=this._isHorizontal()?"width":"height",a=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,l=this._getScrollOffset(),h=a.firstChild;l?this._isVertical()?(this.$config.outerSize=this.$config.height-l+3,a.style.height=this.$config.outerSize+"px",a.style.top=l-1+"px",f.addClassName(a,this.$parent._borders.top),f.addClassName(a.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-l+1,a.style.width=this.$config.outerSize+"px"):(a.style.top="auto",f.removeClassName(a,this.$parent._borders.top),f.removeClassName(a.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),h.style[r]=e+"px"},t.prototype._scrollVerticalHandler=function(e){if(!this._scrollHorizontalHandler()&&!this._scrolling){var r=this.$scroll_ver.scrollTop;r!=this._oldTop&&(this.scrollVertically(r),this._oldTop=this.$scroll_ver.scrollTop)}},t.prototype._outerScrollVerticalHandler=function(e){this._scrollHorizontalHandler()},t.prototype._checkWheelTarget=function(e){for(var r=this._getLinkedViews().concat(this),a=0;a<r.length;a++){var l=r[a].$view;if(f.isChildOf(e,l))return!0}return!1},t.prototype._mouseWheelHandler=function(e){var r=e.target||e.srcElement;if(this._checkWheelTarget(r)){this._wheel_time=new Date;var a={},l={x:1,y:1},h=this.$gantt.config.wheel_scroll_sensitivity;typeof h=="number"&&h?l={x:h,y:h}:{}.toString.apply(h)=="[object Object]"&&(l={x:h.x,y:h.y});var c=u.isFF,_=c?e.deltaX:e.wheelDeltaX,p=c?e.deltaY:e.wheelDelta,v=-20;c&&(v=e.deltaMode!==0?-40:-10);var m=c?_*v*l.x:2*_*l.x,k=c?p*v*l.y:p*l.y,y=this.$gantt.config.horizontal_scroll_key;if(y!==!1&&n.indexOf(y)>=0&&(!e[y]||e.deltaX||e.wheelDeltaX||(m=2*k,k=0)),m&&Math.abs(m)>Math.abs(k)){if(this._isVertical())return;if(a.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var w=m/-40,$=this._oldLeft,b=$+30*w;if(this.scrollHorizontally(b),this.$scroll_hor.scrollLeft=b,$==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(a.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;w=k/-40,k===void 0&&(w=e.detail);var x=this._oldTop,T=this.$scroll_ver.scrollTop+30*w;if(this.scrollVertically(T),this.$scroll_ver.scrollTop=T,x==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1}},t}(d(9));S.exports=i},function(S,C){S.exports=null},function(S,C,d){var g=d(3),f=d(0),s=function(u){"use strict";function i(o,n,t){var e=u.apply(this,arguments)||this;if(n.view){n.id&&(this.$id=f.uid());var r=f.copy(n);if(delete r.config,delete r.templates,this.$content=this.$factory.createView(n.view,this,r,this),!this.$content)return!1}return e.$name="viewCell",e}return g(i,u),i.prototype.destructor=function(){this.clear(),u.prototype.destructor.call(this)},i.prototype.clear=function(){if(this.$initialized=!1,this.$content){var o=this.$content.unload||this.$content.destructor;o&&o.call(this.$content)}u.prototype.clear.call(this)},i.prototype.scrollTo=function(o,n){this.$content&&this.$content.scrollTo?this.$content.scrollTo(o,n):u.prototype.scrollTo.call(this,o,n)},i.prototype._setContentSize=function(o,n){var t=this._getBorderSizes();if(typeof o=="number"){var e=o+t.horizontal;this.$config.width=e}if(typeof n=="number"){var r=n+t.vertical;this.$config.height=r}},i.prototype.setSize=function(o,n){if(u.prototype.setSize.call(this,o,n),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var t=this.$view.childNodes[0],e=this.$view.childNodes[1];e||(e=t),this.$content.init(e)}},i.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},i.prototype.getContentSize=function(){var o=u.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var n=this.$content.getSize();o.width=n.contentX===void 0?n.width:n.contentX,o.height=n.contentY===void 0?n.height:n.contentY}var t=this._getBorderSizes();return o.width+=t.horizontal,o.height+=t.vertical,o},i}(d(9));S.exports=s},function(S,C,d){var g=d(3),f=d(31),s=d(9),u=function(i){"use strict";function o(n,t,e){for(var r=i.apply(this,arguments)||this,a=0;a<r.$cells.length;a++)r.$cells[a].$config.hidden=a!==0;return r.$cell=r.$cells[0],r.$name="viewLayout",r}return g(o,i),o.prototype.cell=function(n){var t=i.prototype.cell.call(this,n);return t.$view||this.$fill(null,this),t},o.prototype.moveView=function(n){var t=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,t.removeChild(this.$cell.$view)),this.$cell=n,t.appendChild(n.$view)},o.prototype.setSize=function(n,t){s.prototype.setSize.call(this,n,t)},o.prototype.setContentSize=function(){var n=this.$lastSize;this.$cell.setSize(n.contentX,n.contentY)},o.prototype.getSize=function(){var n=i.prototype.getSize.call(this);if(this.$cell){var t=this.$cell.getSize();if(this.$config.byMaxSize)for(var e=0;e<this.$cells.length;e++){var r=this.$cells[e].getSize();for(var a in t)t[a]=Math.max(t[a],r[a])}for(var l in n)n[l]=n[l]||t[l];n.gravity=Math.max(n.gravity,t.gravity)}return n},o}(f);S.exports=u},function(S,C){S.exports=function(d,g,f){if(!d.start_date||!d.end_date)return null;var s=g.posFromDate(d.start_date),u=g.posFromDate(d.end_date),i=Math.min(s,u)-200,o=Math.max(s,u)+200;return{top:g.getItemTop(d.id),height:g.getItemHeight(d.id),left:i,width:o-i}}},function(S,C,d){var g=d(111);S.exports=function(f,s,u,i){if(!i.isTaskExists(f.source)||!i.isTaskExists(f.target))return null;var o=g(i.getTask(f.source),s,i),n=g(i.getTask(f.target),s,i);if(!o||!n)return null;var t=Math.min(o.left,n.left)-100,e=Math.max(o.left+o.width,n.left+n.width)+100,r=Math.min(o.top,n.top)-100,a=Math.max(o.top+o.height,n.top+n.height)+100;return{top:r,height:a-r,bottom:a,left:t,width:e-t,right:e}}},function(S,C){S.exports=function(d,g){return!!g&&!(g.left>d.x_end||g.left+g.width<d.x)&&!(g.top>d.y_end||g.top+g.height<d.y)}},function(S,C,d){var g=d(113),f=d(14),s=d(23),u=d(5);S.exports=function(i){var o={},n={};function t(r){var a=null;return typeof r.view=="string"?a=i.$ui.getView(r.view):r.view&&(a=r.view),a}function e(r,a,l){if(n[r])return n[r];a.renderer||i.assert(!1,"Invalid renderer call");var h=null,c=null,_=null,p=null,v=null;typeof a.renderer=="function"?(h=a.renderer,_=s):(h=a.renderer.render,c=a.renderer.update,p=a.renderer.onrender,a.renderer.isInViewPort?v=a.renderer.isInViewPort:_=a.renderer.getRectangle,_||_===null||(_=s));var m=a.filter;return l&&l.setAttribute(i.config.layer_attribute,!0),n[r]={render_item:function(k,y,w,$,b){if(y=y||l,!m||m(k)){var x=$||t(a),T=b||(x?x.$getConfig():null),E=w;!E&&T&&T.smart_rendering&&(E=x.getViewPort());var D=null;!f(i)&&(_||v)&&E?(v?v(k,E,x,T,i):g(E,_(k,x,T,i)))&&(D=h.call(i,k,x,T,E)):D=h.call(i,k,x,T,E),this.append(k,D,y);var A=y.nodeType==11;p&&!A&&D&&p.call(i,k,D,x)}else this.remove_item(k.id)},clear:function(k){this.rendered=o[r]={},a.append||this.clear_container(k)},clear_container:function(k){(k=k||l)&&(k.innerHTML="")},get_visible_range:function(k){var y,w,$=t(a),b=$?$.$getConfig():null;return b&&b.smart_rendering&&(y=$.getViewPort()),$&&y&&(typeof a.renderer=="function"?w=u(i,$,b,k,y):a.renderer&&a.renderer.getVisibleRange&&(w=a.renderer.getVisibleRange(i,$,b,k,y))),w||(w={start:0,end:k.count()}),w},prepare_data:function(k){if(a.renderer&&a.renderer.prepareData)return a.renderer.prepareData(k,i,a)},render_items:function(k,y){y=y||l;var w=document.createDocumentFragment();this.clear(y);var $=null,b=t(a),x=b?b.$getConfig():null;x&&x.smart_rendering&&($=b.getViewPort());for(var T=0,E=k.length;T<E;T++)this.render_item(k[T],w,$,b,x);y.appendChild(w,y);var D={};k.forEach(function(I){D[I.id]=I});var A={};if(p){var M={};for(var T in this.rendered)A[T]||(M[T]=this.rendered[T],p.call(i,D[T],this.rendered[T],b))}},update_items:function(k,y){var w=t(a),$=w?w.$getConfig():null;if(w&&w.$getConfig().smart_rendering&&!f(i)&&this.rendered&&(_||v)){y=y||l;var b=document.createDocumentFragment(),x=null;w&&(x=w.getViewPort());var T={};k.forEach(function(H){T[H.id]=H});var E={},D={};for(var A in this.rendered)D[A]=!0,E[A]=!0;for(var M={},I=(A=0,k.length);A<I;A++){var N=k[A],P=this.rendered[N.id];D[N.id]=!1,P&&P.parentNode?(v?v(N,x,w,$,i):g(x,_(N,w,$,i)))?(c&&c.call(i,N,P,w,$,x),this.restore(N,b)):D[N.id]=!0:(M[k[A].id]=!0,this.render_item(k[A],b,x,w,$))}for(var A in D)D[A]&&this.hide(A);if(b.childNodes.length&&y.appendChild(b,y),p){var O={};for(var A in this.rendered)E[A]&&!M[A]||(O[A]=this.rendered[A],p.call(i,T[A],this.rendered[A],w))}}},append:function(k,y,w){this.rendered&&(y?(this.rendered[k.id]&&this.rendered[k.id].parentNode?this.replace_item(k.id,y):w.appendChild(y),this.rendered[k.id]=y):this.rendered[k.id]&&this.remove_item(k.id))},replace_item:function(k,y){var w=this.rendered[k];w&&w.parentNode&&w.parentNode.replaceChild(y,w),this.rendered[k]=y},remove_item:function(k){this.hide(k),delete this.rendered[k]},hide:function(k){var y=this.rendered[k];y&&y.parentNode&&y.parentNode.removeChild(y)},restore:function(k,y){var w=this.rendered[k.id];w?w.parentNode||this.append(k,w,y||l):this.render_item(k,y||l)},change_id:function(k,y){this.rendered[y]=this.rendered[k],delete this.rendered[k]},rendered:o[r],node:l,destructor:function(){this.clear(),delete n[r],delete o[r]}},n[r]}return{getRenderer:e,clearRenderers:function(){for(var r in n)e(r).destructor()}}}},function(S,C,d){var g=d(114),f=d(0),s=d(1),u=d(14);function i(o){return o instanceof Array||(o=Array.prototype.slice.call(arguments,0)),function(n){for(var t=!0,e=0,r=o.length;e<r;e++){var a=o[e];a&&(t=t&&a(n.id,n)!==!1)}return t}}S.exports=function(o){var n=g(o);return{createGroup:function(t,e,r,a){var l={tempCollection:[],renderers:{},container:t,filters:[],getLayers:function(){this._add();var h=[];for(var c in this.renderers)h.push(this.renderers[c]);return h},getLayer:function(h){return this.renderers[h]},_add:function(h){h&&(h.id=h.id||f.uid(),this.tempCollection.push(h));for(var c=this.container(),_=this.tempCollection,p=0;p<_.length;p++)if(h=_[p],this.container()||h&&h.container&&s.isChildOf(h.container,document.body)){var v=h.container,m=h.id,k=h.topmost;if(!v.parentNode)if(k)c.appendChild(v);else{var y=e?e():c.firstChild;y&&y.parentNode==c?c.insertBefore(v,y):c.appendChild(v)}this.renderers[m]=n.getRenderer(m,h,v),a&&a(h,o),this.tempCollection.splice(p,1),p--}},addLayer:function(h){if(h){typeof h=="function"&&(h={renderer:h}),h.filter===void 0?h.filter=i(r||[]):h.filter instanceof Array&&(h.filter.push(r),h.filter=i(h.filter)),h.container||(h.container=document.createElement("div"));var c=this;h.requestUpdate=function(){o.config.smart_rendering&&!u(o)&&c.renderers[h.id]&&c.onUpdateRequest(c.renderers[h.id])}}return this._add(h),h?h.id:void 0},onUpdateRequest:function(h){},eachLayer:function(h){for(var c in this.renderers)h(this.renderers[c])},removeLayer:function(h){this.renderers[h]&&(this.renderers[h].destructor(),delete this.renderers[h])},clear:function(){for(var h in this.renderers)this.renderers[h].destructor();this.renderers={}}};return o.attachEvent("onDestroy",function(){l.clear(),l=null}),l}}}},function(S,C,d){var g=d(115),f=d(5),s=d(33),u=d(32);function i(o,n){if(o.view){var t=o.view;typeof t=="string"&&(t=n.$ui.getView(t)),t&&t.attachEvent&&t.attachEvent("onScroll",function(){n.$services.getService("state").getState("batchUpdate").batch_update||t.$config.$skipSmartRenderOnScroll||o.requestUpdate&&o.requestUpdate()})}}S.exports=function(o){var n=g(o);return{getDataRender:function(t){return o.$services.getService("layer:"+t)||null},createDataRender:function(t){var e=t.name,r=t.defaultContainer,a=t.defaultContainerSibling,l=n.createGroup(r,a,function(h,c){if(!l.filters)return!0;for(var _=0;_<l.filters.length;_++)if(l.filters[_](h,c)===!1)return!1},i);return o.$services.setService("layer:"+e,function(){return l}),o.attachEvent("onGanttReady",function(){l.addLayer()}),l},init:function(){var t=this.createDataRender({name:"task",defaultContainer:function(){return o.$task_data?o.$task_data:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return o.$task_links?o.$task_links:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_links:void 0},filter:function(r){}},o),e=this.createDataRender({name:"link",defaultContainer:function(){return o.$task_data?o.$task_data:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_data:void 0}},o);return{addTaskLayer:function(r){var a=f;return typeof r=="function"?r={renderer:{render:r,getVisibleRange:a}}:r.renderer&&!r.renderer.getVisibleRange&&(r.renderer.getVisibleRange=a),r.view="timeline",t.addLayer(r)},_getTaskLayers:function(){return t.getLayers()},removeTaskLayer:function(r){t.removeLayer(r)},_clearTaskLayers:function(){t.clear()},addLinkLayer:function(r){var a=s();return typeof r=="function"?r={renderer:{render:r,getVisibleRange:a}}:r.renderer&&!r.renderer.getVisibleRange&&(r.renderer.getVisibleRange=a),r.view="timeline",r&&r.renderer&&(r.renderer.getRectangle||r.renderer.isInViewPort||(r.renderer.isInViewPort=u)),e.addLayer(r)},_getLinkLayers:function(){return e.getLayers()},removeLinkLayer:function(r){e.removeLayer(r)},_clearLinkLayers:function(){e.clear()}}}}}},function(S,C,d){var g=function(f){return function(s){var u={click:{},doubleclick:{},contextMenu:{}};function i(c,_,p,v){u[c][_]||(u[c][_]=[]),u[c][_].push({handler:p,root:v})}function o(c){c=c||window.event;var _=s.locate(c),p=t(c,u.click),v=!0;if(_!==null?v=!s.checkEvent("onTaskClick")||s.callEvent("onTaskClick",[_,c]):s.callEvent("onEmptyClick",[c]),v){if(!e(p,c,_))return;switch(c.target.nodeName){case"SELECT":case"INPUT":return}_&&s.getTask(_)&&!s._multiselect&&s.config.select_task&&s.selectTask(_)}}function n(c){var _=(c=c||window.event).target||c.srcElement,p=s.locate(_),v=s.locate(_,s.config.link_attribute),m=!s.checkEvent("onContextMenu")||s.callEvent("onContextMenu",[p,v,c]);return m||(c.preventDefault?c.preventDefault():c.returnValue=!1),m}function t(c,_){for(var p=c.target||c.srcElement,v=[];p;){var m=f.getClassName(p);if(m){m=m.split(" ");for(var k=0;k<m.length;k++)if(m[k]&&_[m[k]])for(var y=_[m[k]],w=0;w<y.length;w++)y[w].root&&!f.isChildOf(p,y[w].root)||v.push(y[w].handler)}p=p.parentNode}return v}function e(c,_,p){for(var v=!0,m=0;m<c.length;m++){var k=c[m].call(s,_,p,_.target||_.srcElement);v=v&&!(k!==void 0&&k!==!0)}return v}function r(c){c=c||window.event;var _=s.locate(c),p=t(c,u.doubleclick),v=!s.checkEvent("onTaskDblClick")||_===null||s.callEvent("onTaskDblClick",[_,c]);if(v){if(!e(p,c,_))return;_!==null&&s.getTask(_)&&v&&s.config.details_on_dblclick&&!s.isReadonly(_)&&s.showLightbox(_)}}function a(c){if(s.checkEvent("onMouseMove")){var _=s.locate(c);s._last_move_event=c,s.callEvent("onMouseMove",[_,c])}}var l=s._createDomEventScope();function h(c){l.detachAll(),c&&(l.attach(c,"click",o),l.attach(c,"dblclick",r),l.attach(c,"mousemove",a),l.attach(c,"contextmenu",n))}return{reset:h,global:function(c,_,p){i(c,_,p,null)},delegate:i,detach:function(c,_,p,v){if(u[c]&&u[c][_]){for(var m=u[c],k=m[_],y=0;y<k.length;y++)k[y].root==v&&(k.splice(y,1),y--);k.length||delete m[_]}},callHandler:function(c,_,p,v){var m=u[c][_];if(m)for(var k=0;k<m.length;k++)(p||m[k].root)&&m[k].root!==p||m[k].handler.apply(this,v)},onDoubleClick:r,onMouseMove:a,onContextMenu:n,onClick:o,destructor:function(){h(),u=null,l=null}}}}(d(1));S.exports={init:g}},function(S,C,d){var g=d(0);function f(s,u){var i=this.$config[s];return i?(i.$extendedConfig||(i.$extendedConfig=!0,Object.setPrototypeOf(i,u)),i):u}S.exports=function(s,u){g.mixin(s,function(i){var o,n;return{$getConfig:function(){return o||(o=i?i.$getConfig():this.$gantt.config),this.$config.config?f.call(this,"config",o):o},$getTemplates:function(){return n||(n=i?i.$getTemplates():this.$gantt.templates),this.$config.templates?f.call(this,"templates",n):n}}}(u))}},function(S,C,d){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}var f=d(0),s=d(118);S.exports={createFactory:function(u){var i={},o={};function n(t,e,r,a){var l=i[t];if(!l||!l.create)return!1;t!="resizer"||r.mode||(a.$config.cols?r.mode="x":r.mode="y"),t!="viewcell"||r.view!="scrollbar"||r.scroll||(a.$config.cols?r.scroll="y":r.scroll="x"),(r=f.copy(r)).id||o[r.view]||(r.id=r.view),r.id&&!r.css&&(r.css=r.id+"_cell");var h=new l.create(e,r,this,u);return l.configure&&l.configure(h),s(h,a),h.$id||(h.$id=r.id||u.uid()),h.$parent||g(e)!="object"||(h.$parent=e),h.$config||(h.$config=r),o[h.$id]&&(h.$id=u.uid()),o[h.$id]=h,h}return{initUI:function(t,e){var r="cell";return t.view?r="viewcell":t.resizer?r="resizer":t.rows||t.cols?r="layout":t.views&&(r="multiview"),n.call(this,r,null,t,e)},reset:function(){o={}},registerView:function(t,e,r){i[t]={create:e,configure:r}},createView:n,getView:function(t){return o[t]}}}}},function(S,C,d){var g=d(119),f=d(117),s=d(116),u=d(9),i=d(31),o=d(110),n=d(109),t=d(108),e=d(107),r=d(22),a=d(25),l=d(25),h=d(22),c=d(22),_=d(105),p=d(94),v=d(93),m=d(91),k=d(90),y=d(88),w=d(87),$=d(86),b=d(85),x=d(84),T=d(83),E=d(77),D=d(74);S.exports={init:function(A){function M(O,H){var V=H(A);V.onCreated&&V.onCreated(O),O.attachEvent("onReady",function(){V.onInitialized&&V.onInitialized(O)}),O.attachEvent("onDestroy",function(){V.onDestroyed&&V.onDestroyed(O)})}var I=g.createFactory(A);I.registerView("cell",u),I.registerView("resizer",t),I.registerView("scrollbar",e),I.registerView("layout",i,function(O){(O.$config?O.$config.id:null)==="main"&&M(O,D)}),I.registerView("viewcell",n),I.registerView("multiview",o),I.registerView("timeline",r,function(O){(O.$config?O.$config.id:null)!=="timeline"&&O.$config.bind!="task"||M(O,E)}),I.registerView("grid",a,function(O){(O.$config?O.$config.id:null)!=="grid"&&O.$config.bind!="task"||M(O,T)}),I.registerView("resourceGrid",l),I.registerView("resourceTimeline",h),I.registerView("resourceHistogram",c);var N=s(A),P=_(A);return A.ext.inlineEditors=P,A.ext._inlineEditors=P,P.init(A),{factory:I,mouseEvents:f.init(A),layersApi:N.init(),render:{gridLine:function(){return w(A)},taskBg:function(){return k(A)},taskBar:function(){return p(A)},taskRollupBar:function(){return m(A)},taskSplitBar:function(){return v(A)},link:function(){return y(A)},resourceRow:function(){return $(A)},resourceHistogram:function(){return b(A)},gridTaskRowResizer:function(){return x(A)}},layersService:{getDataRender:function(O){return N.getDataRender(O,A)},createDataRender:function(O){return N.createDataRender(O,A)}}}}}},function(S,C,d){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}var f=d(0),s=d(1);S.exports=function(u){var i="data-dhxbox",o=null;function n(b,x){var T=b.callback;y.hide(b.box),o=b.box=null,T&&T(x)}function t(b){if(o){var x=b.which||b.keyCode,T=!1;if(w.keyboard){if(x==13||x==32){var E=b.target||b.srcElement;s.getClassName(E).indexOf("gantt_popup_button")>-1&&E.click?E.click():(n(o,!0),T=!0)}x==27&&(n(o,!1),T=!0)}return T?(b.preventDefault&&b.preventDefault(),!(b.cancelBubble=!0)):void 0}}var e=s.getRootNode(u.$root)||document;function r(b){r.cover||(r.cover=document.createElement("div"),r.cover.onkeydown=t,r.cover.className="dhx_modal_cover",document.body.appendChild(r.cover)),r.cover.style.display=b?"inline-block":"none"}function a(b,x,T){return"<div "+u._waiAria.messageButtonAttrString(b)+" class='gantt_popup_button "+("gantt_"+x.toLowerCase().replace(/ /g,"_")+"_button")+"' data-result='"+T+"' result='"+T+"' ><div>"+b+"</div></div>"}function l(b){w.area||(w.area=document.createElement("div"),w.area.className="gantt_message_area",w.area.style[w.position]="5px",document.body.appendChild(w.area)),w.hide(b.id);var x=document.createElement("div");return x.innerHTML="<div>"+b.text+"</div>",x.className="gantt-info gantt-"+b.type,x.onclick=function(){w.hide(b.id),b=null},u._waiAria.messageInfoAttr(x),w.position=="bottom"&&w.area.firstChild?w.area.insertBefore(x,w.area.firstChild):w.area.appendChild(x),b.expire>0&&(w.timers[b.id]=window.setTimeout(function(){w&&w.hide(b.id)},b.expire)),w.pull[b.id]=x,x=null,b.id}function h(){for(var b=[].slice.apply(arguments,[0]),x=0;x<b.length;x++)if(b[x])return b[x]}function c(b,x,T){var E=b.tagName?b:function(M,I,N){var P=document.createElement("div"),O=f.uid();u._waiAria.messageModalAttr(P,O),P.className=" gantt_modal_box gantt-"+M.type,P.setAttribute(i,1);var H="";if(M.width&&(P.style.width=M.width),M.height&&(P.style.height=M.height),M.title&&(H+='<div class="gantt_popup_title">'+M.title+"</div>"),H+='<div class="gantt_popup_text" id="'+O+'"><span>'+(M.content?"":M.text)+'</span></div><div  class="gantt_popup_controls">',I&&(H+=a(h(M.ok,u.locale.labels.message_ok,"OK"),"ok",!0)),N&&(H+=a(h(M.cancel,u.locale.labels.message_cancel,"Cancel"),"cancel",!1)),M.buttons)for(var V=0;V<M.buttons.length;V++){var W=M.buttons[V];g(W)=="object"?H+=a(W.label,W.css||"gantt_"+W.label.toLowerCase()+"_button",W.value||V):H+=a(W,W,V)}if(H+="</div>",P.innerHTML=H,M.content){var J=M.content;typeof J=="string"&&(J=document.getElementById(J)),J.style.display=="none"&&(J.style.display=""),P.childNodes[M.title?1:0].appendChild(J)}return P.onclick=function(q){var X=q.target||q.srcElement;if(X.className||(X=X.parentNode),s.closest(X,".gantt_popup_button")){var R=X.getAttribute("data-result");n(M,R=R=="true"||R!="false"&&R)}},M.box=P,(I||N)&&(o=M),P}(b,x,T);b.hidden||r(!0),document.body.appendChild(E);var D=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-E.offsetWidth)/2)),A=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-E.offsetHeight)/2));return b.position=="top"?E.style.top="-3px":E.style.top=A+"px",E.style.left=D+"px",E.onkeydown=t,y.focus(E),b.hidden&&y.hide(E),u.callEvent("onMessagePopup",[E]),E}function _(b){return c(b,!0,!1)}function p(b){return c(b,!0,!0)}function v(b){return c(b)}function m(b,x,T){return g(b)!="object"&&(typeof x=="function"&&(T=x,x=""),b={text:b,type:x,callback:T}),b}function k(b,x,T,E){return g(b)!="object"&&(b={text:b,type:x,expire:T,id:E}),b.id=b.id||f.uid(),b.expire=b.expire||w.expire,b}u.event(e,"keydown",t,!0);var y=function(){var b=m.apply(this,arguments);return b.type=b.type||"alert",v(b)};y.hide=function(b){for(;b&&b.getAttribute&&!b.getAttribute(i);)b=b.parentNode;b&&(b.parentNode.removeChild(b),r(!1),u.callEvent("onAfterMessagePopup",[b]))},y.focus=function(b){setTimeout(function(){var x=s.getFocusableNodes(b);x.length&&x[0].focus&&x[0].focus()},1)};var w=function(b,x,T,E){switch((b=k.apply(this,arguments)).type=b.type||"info",b.type.split("-")[0]){case"alert":return _(b);case"confirm":return p(b);case"modalbox":return v(b);default:return l(b)}};w.seed=new Date().valueOf(),w.uid=f.uid,w.expire=4e3,w.keyboard=!0,w.position="top",w.pull={},w.timers={},w.hideAll=function(){for(var b in w.pull)w.hide(b)},w.hide=function(b){var x=w.pull[b];x&&x.parentNode&&(window.setTimeout(function(){x.parentNode.removeChild(x),x=null},2e3),x.className+=" hidden",w.timers[b]&&window.clearTimeout(w.timers[b]),delete w.pull[b])};var $=[];return u.attachEvent("onMessagePopup",function(b){$.push(b)}),u.attachEvent("onAfterMessagePopup",function(b){for(var x=0;x<$.length;x++)$[x]===b&&($.splice(x,1),x--)}),u.attachEvent("onDestroy",function(){r.cover&&r.cover.parentNode&&r.cover.parentNode.removeChild(r.cover);for(var b=0;b<$.length;b++)$[b].parentNode&&$[b].parentNode.removeChild($[b]);$=null,w.area&&w.area.parentNode&&w.area.parentNode.removeChild(w.area),w=null}),{alert:function(){var b=m.apply(this,arguments);return b.type=b.type||"confirm",_(b)},confirm:function(){var b=m.apply(this,arguments);return b.type=b.type||"alert",p(b)},message:w,modalbox:y}}},function(S,C,d){S.exports=function(g){var f=d(0),s=d(8),u=d(10);if(!s.isNode){var i=d(1),o=d(2);g.utils={arrayFind:o.arrayFind,dom:i};var n=d(45)();g.event=n.attach,g.eventRemove=n.detach,g._eventRemoveAll=n.detachAll,g._createDomEventScope=n.extend,f.mixin(g,d(121)(g));var t=d(120).init(g);g.$ui=t.factory,g.$ui.layers=t.render,g.$mouseEvents=t.mouseEvents,g.$services.setService("mouseEvents",function(){return g.$mouseEvents}),g.mixin(g,t.layersApi),d(73)(g),g.$services.setService("layers",function(){return t.layersService});var e=d(72);g.mixin(g,e()),d(71)(g),d(70)(g),d(69)(g),d(68)(g),d(67)(g),d(66)(g),d(65)(g),d(64)(g),d(63)(g),d(58)(g),d(57)(g),d(47)(g),d(46)(g),g.locate=function(r){var a=i.getTargetNode(r);if(i.closest(a,".gantt_task_row"))return null;var l=arguments[1]||this.config.task_attribute,h=i.locateAttribute(a,l);return h?h.getAttribute(l):null},g._locate_css=function(r,a,l){return i.locateClassName(r,a,l)},g._locateHTML=function(r,a){return i.locateAttribute(r,a||this.config.task_attribute)}}g.attachEvent("onParse",function(){u(g)||g.attachEvent("onGanttRender",function(){if(g.config.initial_scroll){var r=g.getTaskByIndex(0),a=r?r.id:g.config.root_id;g.isTaskExists(a)&&g.$task&&g.utils.dom.isChildOf(g.$task,g.$container)&&g.showTask(a)}},{once:!0})}),g.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=i.getScrollSize()||1),u(g)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),g.attachEvent("onGanttReady",function(){!u(g)&&g.config.rtl&&g.$layout.getCellsByType("viewCell").forEach(function(r){var a=r.$config.scrollX;if(a){var l=g.$ui.getView(a);l&&l.scrollTo(l.$config.scrollSize,0)}})}),g.attachEvent("onGanttReady",function(){if(!u(g)){var r=g.plugins(),a={auto_scheduling:g.autoSchedule,click_drag:g.ext.clickDrag,critical_path:g.isCriticalTask,drag_timeline:g.ext.dragTimeline,export_api:g.exportToPDF,fullscreen:g.ext.fullscreen,grouping:g.groupBy,keyboard_navigation:g.ext.keyboardNavigation,marker:g.addMarker,multiselect:g.eachSelectedTask,overlay:g.ext.overlay,quick_info:g.templates.quick_info_content,tooltip:g.ext.tooltips,undo:g.undo};for(var l in a)a[l]&&!r[l]&&console.warn("You connected the '".concat(l,`' extension via an obsolete file. 
To fix it, you need to remove the obsolete file and connect the extension via the plugins method: https://docs.dhtmlx.com/gantt/api__gantt_plugins.html`))}})}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u0421\u0456\u0447\u0435\u043D\u044C","\u041B\u044E\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C","\u041A\u0432\u0456\u0442\u0435\u043D\u044C","\u0422\u0440\u0430\u0432\u0435\u043D\u044C","\u0427\u0435\u0440\u0432\u0435\u043D\u044C","\u041B\u0438\u043F\u0435\u043D\u044C","\u0421\u0435\u0440\u043F\u0435\u043D\u044C","\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C","\u0416\u043E\u0432\u0442\u0435\u043D\u044C","\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043D\u044C"],month_short:["\u0421\u0456\u0447","\u041B\u044E\u0442","\u0411\u0435\u0440","\u041A\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041B\u0438\u043F","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043E\u0432","\u041B\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041D\u0435\u0434\u0456\u043B\u044F","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0435\u0434","\u041F\u043E\u043D","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041F\u0442\u043D","\u0421\u0443\u0431"]},labels:{new_task:"\u041D\u043E\u0432\u0435 \u0437\u0430\u0432\u0434\u0430\u043D\u043D\u044F",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043B\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041F\u043E\u0434\u0456\u044F \u0432\u0438\u043B\u0443\u0447\u0438\u0442\u044C\u0441\u044F \u043D\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456?",section_description:"\u041E\u043F\u0438\u0441",section_time:"\u0427\u0430\u0441\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u043C\u0456\u0436\u043E\u043A",section_type:"\u0422\u0438\u043F",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Ocak","\u015Eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011Fustos","Eyl\xFCl","Ekim","Kas\u0131m","Aral\u0131k"],month_short:["Oca","\u015Eub","Mar","Nis","May","Haz","Tem","A\u011Fu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Sal\u0131","\xC7ar\u015Famba","Per\u015Fembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","\xC7ar","Per","Cum","Cmt"]},labels:{new_task:"Yeni g\xF6rev",icon_save:"Kaydet",icon_cancel:"\u0130ptal",icon_details:"Detaylar",icon_edit:"D\xFCzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"G\xF6rev silinecek, emin misiniz?",section_description:"A\xE7\u0131klama",section_time:"Zaman Aral\u0131\u011F\u0131",section_type:"Tip",column_wbs:"WBS",column_text:"G\xF6rev Ad\u0131",column_start_date:"Ba\u015Flang\u0131\xE7",column_duration:"S\xFCre",column_add:"",link:"Ba\u011Flant\u0131",confirm_link_deleting:"silinecek",link_start:" (ba\u015Flang\u0131\xE7)",link_end:" (biti\u015F)",type_task:"G\xF6rev",type_project:"Proje",type_milestone:"Kilometreta\u015F\u0131",minutes:"Dakika",hours:"Saat",days:"G\xFCn",weeks:"Hafta",months:"Ay",years:"Y\u0131l",message_ok:"OK",message_cancel:"\xDDptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"],day_short:["S\xF6n","M\xE5n","Tis","Ons","Tor","Fre","L\xF6r"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"\xC4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xC4r du s\xE4ker p\xE5 att du vill ta bort h\xE4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"L\xE4nk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"M\xE5nader",years:"\xC5r",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xE1j","J\xFAn","J\xFAl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013Ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{new_task:"Nov\xE1 \xFAloha",icon_save:"Ulo\u017Ei\u0165",icon_cancel:"Sp\xE4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xFA ulo\u017Een\xE9. Skuto\u010Dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xE1. Skuto\u010Dne?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Sp\xE4\u0165",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010Cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010Cet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekli\u010Di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017Delite nadaljevati?",section_description:"Opis",section_time:"\u010Casovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekli\u010Di",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","Ma\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","O\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],month_short:["\u042F\u043D\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043F\u0440","Ma\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","A\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],day_full:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],day_short:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"]},labels:{new_task:"\u041D\u043E\u0432\u043E\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0435",icon_save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",icon_cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0438",icon_edit:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C",icon_delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",confirm_closing:"",confirm_deleting:"\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u043E \u0431\u0435\u0437\u0432\u043E\u0437\u0432\u0440\u0430\u0442\u043D\u043E, \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?",section_description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",section_time:"\u041F\u0435\u0440\u0438\u043E\u0434 \u0432\u0440\u0435\u043C\u0435\u043D\u0438",section_type:"\u0422\u0438\u043F",column_wbs:"\u0418\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041D\u0430\u0447\u0430\u043B\u043E",column_duration:"\u0414\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",column_add:"",link:"\u0421\u0432\u044F\u0437\u044C",confirm_link_deleting:"\u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u0430",link_start:" (\u043D\u0430\u0447\u0430\u043B\u043E)",link_end:" (\u043A\u043E\u043D\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u041C\u0438\u043D\u0443\u0442\u0430",hours:"\u0427\u0430\u0441",days:"\u0414\u0435\u043D\u044C",weeks:"\u041D\u0435\u0434\u0435\u043B\u044F",months:"\u041C\u0435\u0441\u044F\u0446",years:"\u0413\u043E\u0434",message_ok:"OK",message_cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"\u043D\u0430\u0447\u043D\u0438\u0442\u0435 \u0432\u0432\u043E\u0434\u0438\u0442\u044C \u0441\u043B\u043E\u0432\u043E \u0434\u043B\u044F \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u0438",resources_filter_label:"\u0441\u043F\u0440\u044F\u0442\u0430\u0442\u044C \u043D\u0435 \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0435",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas ser\xE3o excluidas permanentemente, confirme?",section_description:"Descri\xE7\xE3o",section_time:"Per\xEDodo",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data in\xEDcio",column_duration:"Dura\xE7\xE3o",column_add:"",link:"Link",confirm_link_deleting:"Ser\xE1 exclu\xEDdo!",link_start:" (in\xEDcio)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restri\xE7\xE3o",constraint_type:"Tipo Restri\xE7\xE3o",constraint_date:"Data restri\xE7\xE3o",asap:"Mais breve poss\xEDvel",alap:"Mais tarde poss\xEDvel",snet:"N\xE3o come\xE7ar antes de",snlt:"N\xE3o come\xE7ar depois de",fnet:"N\xE3o terminar antes de",fnlt:"N\xE3o terminar depois de",mso:"Precisa come\xE7ar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017Adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017A","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015Aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015Aro","Czw","Pi\u0105","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xF3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Pocz\u0105tek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usuni\u0119ty",link_start:" (pocz\u0105tek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzie\u0144",months:"Miesi\u0105ce",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xF8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Mon","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){return function(f){var s=this;for(var u in this.addLocale=function(i,o){s._locales[i]=o},this.getLocale=function(i){return s._locales[i]},this._locales={},f)this._locales[u]=f[u]}}();C.default=g},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],month_short:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],day_full:["\uC77C\uC694\uC77C","\uC6D4\uC694\uC77C","\uD654\uC694\uC77C","\uC218\uC694\uC77C","\uBAA9\uC694\uC77C","\uAE08\uC694\uC77C","\uD1A0\uC694\uC77C"],day_short:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"]},labels:{new_task:"\uC774\uB984\uC5C6\uB294 \uC791\uC5C5",icon_save:"\uC800\uC7A5",icon_cancel:"\uCDE8\uC18C",icon_details:"\uC138\uBD80 \uC0AC\uD56D",icon_edit:"\uC218\uC815",icon_delete:"\uC0AD\uC81C",confirm_closing:"",confirm_deleting:"\uC791\uC5C5\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",section_description:"\uC124\uBA85",section_time:"\uAE30\uAC04",section_type:"Type",column_wbs:"WBS",column_text:"\uC791\uC5C5\uBA85",column_start_date:"\uC2DC\uC791\uC77C",column_duration:"\uAE30\uAC04",column_add:"",link:"\uC804\uC81C",confirm_link_deleting:"\uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",link_start:" (start)",link_end:" (end)",type_task:"\uC791\uC5C5",type_project:"\uD504\uB85C\uC81D\uD2B8",type_milestone:"\uB9C8\uC77C\uC2A4\uD1A4",minutes:"\uBD84",hours:"\uC2DC\uAC04",days:"\uC77C",weeks:"\uC8FC",months:"\uB2EC",years:"\uB144",message_ok:"OK",message_cancel:"\uCDE8\uC18C",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],day_short:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},labels:{new_task:"\u65B0\u3057\u3044\u4ED5\u4E8B",icon_save:"\u4FDD\u5B58",icon_cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",icon_details:"\u8A73\u7D30",icon_edit:"\u7DE8\u96C6",icon_delete:"\u524A\u9664",confirm_closing:"",confirm_deleting:"\u30A4\u30D9\u30F3\u30C8\u5B8C\u5168\u306B\u524A\u9664\u3055\u308C\u307E\u3059\u3001\u5B9C\u3057\u3044\u3067\u3059\u304B\uFF1F",section_description:"\u30C7\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3",section_time:"\u671F\u9593",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attivit\xE0",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sar\xE0 eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Janu\xE1r","Febru\xE1r","M\xE1rcius","\xC1prilis","M\xE1jus","J\xFAnius","J\xFAlius","Augusztus","Szeptember","Okt\xF3ber","November","December"],month_short:["Jan","Feb","M\xE1r","\xC1pr","M\xE1j","J\xFAn","J\xFAl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xE1rnap","H\xE9tf\xF5","Kedd","Szerda","Cs\xFCt\xF6rt\xF6k","P\xE9ntek","szombat"],day_short:["Va","H\xE9","Ke","Sze","Cs\xFC","P\xE9","Szo"]},labels:{new_task:"\xDAj feladat",icon_save:"Ment\xE9s",icon_cancel:"M\xE9gse",icon_details:"R\xE9szletek",icon_edit:"Szerkeszt\xE9s",icon_delete:"T\xF6rl\xE9s",confirm_closing:"",confirm_deleting:"Az esem\xE9ny t\xF6r\xF6lve lesz, biztosan folytatja?",section_description:"Le\xEDr\xE1s",section_time:"Id\xF5szak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"M\xE9gse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Sije\u010Danj","Velja\u010Da","O\u017Eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","O\u017Eu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010Cetvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","\u010Cet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obri\u0161i",confirm_closing:"",confirm_deleting:"Zadatak \u0107e biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Po\u010Detno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"\u0107e biti izbrisan",link_start:" (po\u010Detak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],month_short:["\u05D9\u05E0\u05D5","\u05E4\u05D1\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0","\u05D9\u05D5\u05DC","\u05D0\u05D5\u05D2","\u05E1\u05E4\u05D8","\u05D0\u05D5\u05E7","\u05E0\u05D5\u05D1","\u05D3\u05E6\u05DE"],day_full:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"],day_short:["\u05D0","\u05D1","\u05D2","\u05D3","\u05D4","\u05D5","\u05E9"]},labels:{new_task:"\u05DE\u05E9\u05D9\u05DE\u05D4 \u05D7\u05D3\u05E9",icon_save:"\u05E9\u05DE\u05D5\u05E8",icon_cancel:"\u05D1\u05D8\u05DC",icon_details:"\u05E4\u05E8\u05D8\u05D9\u05DD",icon_edit:"\u05E2\u05E8\u05D5\u05DA",icon_delete:"\u05DE\u05D7\u05E7",confirm_closing:"",confirm_deleting:"\u05D0\u05E8\u05D5\u05E2 \u05D9\u05DE\u05D7\u05E7 \u05E1\u05D5\u05E4\u05D9\u05EA.\u05DC\u05D4\u05DE\u05E9\u05D9\u05DA?",section_description:"\u05D4\u05E1\u05D1\u05E8",section_time:"\u05EA\u05E7\u05D5\u05E4\u05D4",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u05D1\u05D8\u05DC",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],month_short:["Jan","F\xE9v","Mar","Avr","Mai","Juin","Juil","Ao\xFB","Sep","Oct","Nov","D\xE9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle t\xE2che",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xE9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xE9v\xE9nement sera effac\xE9 sans appel, \xEAtes-vous s\xFBr ?",section_description:"Description",section_time:"P\xE9riode",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la t\xE2che",column_start_date:"Date initiale",column_duration:"Dur\xE9e",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprim\xE9",link_start:"(d\xE9but)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Ann\xE9es",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi teht\xE4v\xE4",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["\u064A\u06A9\u0634\u0646\u0628\u0647","\u062F\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200C\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067E\u0646\u062C\u0634\u0646\u0628\u0647","\u062C\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],day_short:["\u06CC","\u062F","\u0633","\u0686","\u067E","\u062C","\u0634"]},labels:{new_task:"\u0648\u0638\u06CC\u0641\u0647 \u062C\u062F\u06CC\u062F",icon_save:"\u0630\u062E\u06CC\u0631\u0647",icon_cancel:"\u0644\u063A\u0648",icon_details:"\u062C\u0632\u06CC\u06CC\u0627\u062A",icon_edit:"\u0648\u06CC\u0631\u0627\u06CC\u0634",icon_delete:"\u062D\u0630\u0641",confirm_closing:"\u062A\u063A\u06CC\u06CC\u0631\u0627\u062A \u0634\u0645\u0627 \u0627\u0632\u062F\u0633\u062A \u062E\u0648\u0627\u0647\u062F \u0631\u0641\u062A\u060C \u0622\u06CC\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062A\u06CC\u062F\u061F",confirm_deleting:"\u0627\u06CC\u0646 \u0645\u0648\u0631\u062F \u0628\u0631\u0627\u06CC \u0647\u0645\u06CC\u0634\u0647 \u062D\u0630\u0641 \u062E\u0648\u0627\u0647\u062F \u0634\u062F\u060C \u0622\u06CC\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062A\u06CC\u062F\u061F",section_description:"\u062A\u0648\u0636\u06CC\u062D\u0627\u062A",section_time:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646",section_type:"\u0646\u0648\u0639",column_wbs:"WBS",column_text:"\u0639\u0646\u0648\u0627\u0646",column_start_date:"\u0632\u0645\u0627\u0646 \u0634\u0631\u0648\u0639",column_duration:"\u0645\u062F\u062A",column_add:"",link:"\u0627\u0631\u062A\u0628\u0627\u0637",confirm_link_deleting:"\u062D\u0630\u0641 \u062E\u0648\u0627\u0647\u062F \u0634\u062F",link_start:" (\u0622\u063A\u0627\u0632)",link_end:" (\u067E\u0627\u06CC\u0627\u0646)",type_task:"\u0648\u0638\u06CC\u0641\u0647",type_project:"\u067E\u0631\u0648\u0698\u0647",type_milestone:"\u0646\u06AF\u0627\u0631\u0634",minutes:"\u062F\u0642\u0627\u06CC\u0642",hours:"\u0633\u0627\u0639\u0627\u062A",days:"\u0631\u0648\u0632\u0647\u0627",weeks:"\u0647\u0641\u062A\u0647",months:"\u0645\u0627\u0647\u200C\u0647\u0627",years:"\u0633\u0627\u0644\u200C\u0647\u0627",message_ok:"\u062A\u0627\u06CC\u06CC\u062F",message_cancel:"\u0644\u063A\u0648",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],day_short:["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xE1 definitivamente, \xBFcontinuar?",section_description:"Descripci\xF3n",section_time:"Per\xEDodo",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duraci\xF3n",column_add:"",link:"Enlace",confirm_link_deleting:"ser\xE1 borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"D\xEDas",weeks:"Semanas",months:"Meses",years:"A\xF1os",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],month_short:["\u0399\u0391\u039D","\u03A6\u0395\u0392","\u039C\u0391\u03A1","\u0391\u03A0\u03A1","\u039C\u0391\u0399","\u0399\u039F\u03A5\u039D","\u0399\u039F\u03A5\u039B","\u0391\u03A5\u0393","\u03A3\u0395\u03A0","\u039F\u039A\u03A4","\u039D\u039F\u0395","\u0394\u0395\u039A"],day_full:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE"],day_short:["\u039A\u03A5","\u0394\u0395","\u03A4\u03A1","\u03A4\u0395","\u03A0\u0395","\u03A0\u0391","\u03A3\u0391"]},labels:{new_task:"\u039D\u03AD\u03B1 \u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",icon_save:"\u0391\u03C0\u03BF\u03B8\u03AE\u03BA\u03B5\u03C5\u03C3\u03B7",icon_cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",icon_details:"\u039B\u03B5\u03C0\u03C4\u03BF\u03BC\u03AD\u03C1\u03B5\u03B9\u03B5\u03C2",icon_edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",icon_delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",confirm_closing:"",confirm_deleting:"\u03A4\u03BF \u03AD\u03C1\u03B3\u03BF \u03B8\u03B1 \u03B4\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03B5\u03AF \u03BF\u03C1\u03B9\u03C3\u03C4\u03B9\u03BA\u03AC. \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5;",section_description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",section_time:"\u03A7\u03C1\u03BF\u03BD\u03B9\u03BA\u03AE \u03C0\u03B5\u03C1\u03AF\u03BF\u03B4\u03BF\u03C2",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:[" Januar"," Februar"," M\xE4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xC4ndern",icon_delete:"L\xF6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xF6scht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gel\xF6scht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Regel",constraint_type:"Regel",constraint_date:"Regel - Datum",asap:"So bald wie m\xF6glich",alap:"So sp\xE4t wie m\xF6glich",snet:"Beginn nicht vor",snlt:"Beginn nicht sp\xE4ter als",fnet:"Fertigstellung nicht vor",fnlt:"Fertigstellung nicht sp\xE4ter als",mso:"Muss beginnen am",mfo:"Muss fertig sein am",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xE5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],month_short:["Led","\xDAn","B\u0159e","Dub","Kv\u011B","\u010Cer","\u010Cec","Srp","Z\xE1\u0159\xED","\u0158\xEDj","List","Pro"],day_full:["Ned\u011Ble","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"],day_short:["Ne","Po","\xDAt","St","\u010Ct","P\xE1","So"]},labels:{new_task:"Nov\xE1 pr\xE1ce",icon_save:"Ulo\u017Eit",icon_cancel:"Zp\u011Bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xE1lost bude trvale smaz\xE1na, opravdu?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zp\u011Bt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],day_short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},labels:{new_task:"\u65B0\u4EFB\u52D9",icon_save:"\u4FDD\u5B58",icon_cancel:"\u5173\u95ED",icon_details:"\u8BE6\u7EC6",icon_edit:"\u7F16\u8F91",icon_delete:"\u5220\u9664",confirm_closing:"\u8BF7\u786E\u8BA4\u662F\u5426\u64A4\u9500\u4FEE\u6539!",confirm_deleting:"\u662F\u5426\u5220\u9664\u65E5\u7A0B?",section_description:"\u63CF\u8FF0",section_time:"\u65F6\u95F4\u8303\u56F4",section_type:"\u7C7B\u578B",column_wbs:"\u5DE5\u4F5C\u5206\u89E3\u7ED3\u6784",column_text:"\u4EFB\u52A1\u540D",column_start_date:"\u5F00\u59CB\u65F6\u95F4",column_duration:"\u6301\u7EED\u65F6\u95F4",column_add:"",link:"\u5173\u8054",confirm_link_deleting:"\u5C06\u88AB\u5220\u9664",link_start:" (\u5F00\u59CB)",link_end:" (\u7ED3\u675F)",type_task:"\u4EFB\u52A1",type_project:"\u9879\u76EE",type_milestone:"\u91CC\u7A0B\u7891",minutes:"\u5206\u949F",hours:"\u5C0F\u65F6",days:"\u5929",weeks:"\u5468",months:"\u6708",years:"\u5E74",message_ok:"OK",message_cancel:"\u5173\u95ED",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Gener","Febrer","Mar\xE7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel\xB7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xE0 definitivament, continuar ?",section_description:"Descripci\xF3",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel\xB7lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044C","\u041B\u044E\u0442\u044B","\u0421\u0430\u043A\u0430\u0432\u0456\u043A","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A","Ma\u0439","\u0427\u044D\u0440\u0432\u0435\u043D\u044C","\u041B\u0456\u043F\u0435\u043D\u044C","\u0416\u043D\u0456\u0432\u0435\u043D\u044C","\u0412\u0435\u0440\u0430\u0441\u0435\u043D\u044C","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434","\u0421\u043D\u0435\u0436\u0430\u043D\u044C"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041B\u044E\u0442","\u0421\u0430\u043A","\u041A\u0440\u0430\u0441","Ma\u0439","\u0427\u044D\u0440","\u041B\u0456\u043F","\u0416\u043D\u0456\u0432","\u0412\u0435\u0440","\u041A\u0430\u0441\u0442","\u041B\u0456\u0441\u0442","\u0421\u043D\u0435\u0436"],day_full:["\u041D\u044F\u0434\u0437\u0435\u043B\u044F","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0430","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0434","\u041F\u043D","\u0410\u045E\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041F\u0442","\u0421\u0431"]},labels:{new_task:"\u041D\u043E\u0432\u0430\u0435 \u0437\u0430\u0434\u0430\u043D\u043D\u0435",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044C",icon_cancel:"\u0410\u0434\u043C\u044F\u043D\u0456\u0446\u044C",icon_details:"\u0414\u044D\u0442\u0430\u043B\u0456",icon_edit:"\u0417\u043C\u044F\u043D\u0456\u0446\u044C",icon_delete:"\u0412\u044B\u0434\u0430\u043B\u0456\u0446\u044C",confirm_closing:"",confirm_deleting:"\u041F\u0430\u0434\u0437\u0435\u044F \u0431\u0443\u0434\u0437\u0435 \u0432\u044B\u0434\u0430\u043B\u0435\u043D\u0430 \u043D\u0435\u0437\u0432\u0430\u0440\u043E\u0442\u043D\u0430, \u043F\u0440\u0430\u0446\u044F\u0433\u043D\u0443\u0446\u044C?",section_description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",section_time:"\u041F\u0435\u0440\u044B\u044F\u0434 \u0447\u0430\u0441\u0443",section_type:"\u0422\u044B\u043F",column_wbs:"\u0406\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041F\u0430\u0447\u0430\u0442\u0430\u043A",column_duration:"\u041F\u0440\u0430\u0446\u044F\u0433",column_add:"",link:"\u0421\u0443\u0432\u044F\u0437\u044C",confirm_link_deleting:"\u0431\u0443\u0434\u0437\u0435 \u0432\u044B\u0434\u0430\u043B\u0435\u043D\u0430",link_start:"(\u043F\u0430\u0447\u0430\u0442\u0430\u043A)",link_end:"(\u043A\u0430\u043D\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u0425\u0432i\u043Bi\u043D\u0430",hours:"\u0413\u0430\u0434\u0437i\u043D\u0430",days:"\u0414\u0437\u0435\u043D\u044C",weeks:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",months:"\u041C\u0435\u0441\u044F\u0446",years:"\u0413\u043E\u0434",message_ok:"OK",message_cancel:"\u0410\u0434\u043C\u044F\u043D\u0456\u0446\u044C",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064A\u0633\u0627\u0646","\u0623\u064A\u0627\u0631","\u062D\u0632\u064A\u0631\u0627\u0646","\u062A\u0645\u0648\u0632","\u0622\u0628","\u0623\u064A\u0644\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u0623\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0623\u062B\u0646\u064A\u0646","\u0623\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062D\u0645\u064A\u0633","\u0623\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],day_short:["\u0627\u062D\u062F","\u0627\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"]},labels:{new_task:"\u0645\u0647\u0645\u0629 \u062C\u062F\u064A\u062F",icon_save:"\u0627\u062E\u0632\u0646",icon_cancel:"\u0627\u0644\u063A\u0627\u0621",icon_details:"\u062A\u0641\u0627\u0635\u064A\u0644",icon_edit:"\u062A\u062D\u0631\u064A\u0631",icon_delete:"\u062D\u0630\u0641",confirm_closing:"\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0633\u0648\u0641 \u062A\u0636\u064A\u0639, \u0647\u0644 \u0627\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",confirm_deleting:"\u0627\u0644\u062D\u062F\u062B \u0633\u064A\u062A\u0645 \u062D\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064A\u0627 \u060C \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062A\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064A\u0629",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0627\u0644\u063A\u0627\u0621",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(155),f=d(154),s=d(153),u=d(152),i=d(151),o=d(150),n=d(149),t=d(148),e=d(147),r=d(146),a=d(145),l=d(144),h=d(143),c=d(142),_=d(141),p=d(140),v=d(139),m=d(138),k=d(137),y=d(136),w=d(135),$=d(134),b=d(133),x=d(132),T=d(131),E=d(130),D=d(129),A=d(128),M=d(127),I=d(126),N=d(125),P=d(124),O=d(123);C.default=function(){return new w.default({en:e.default,ar:g.default,be:f.default,ca:s.default,cn:u.default,cs:i.default,da:o.default,de:n.default,el:t.default,es:r.default,fa:a.default,fi:l.default,fr:h.default,he:c.default,hr:_.default,hu:p.default,id:v.default,it:m.default,jp:k.default,kr:y.default,nb:$.default,nl:b.default,no:x.default,pl:T.default,pt:E.default,ro:D.default,ru:A.default,si:M.default,sk:I.default,sv:N.default,tr:P.default,ua:O.default})}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(){}},function(S,C){S.exports=function(d){d.destructor=function(){for(var g in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)g.indexOf("$")===0&&delete this[g];this.$destroyed=!0}}},function(S,C){S.exports=function(d){return function(g,f){g||d.config.show_errors&&d.callEvent("onError",[f])!==!1&&(d.message?d.message({type:"error",text:f,expire:-1}):console.log(f))}}},function(S,C){function d(g,f){var s,u=g.config.container_resize_timeout||20;if(g.config.container_resize_method=="timeout")t();else try{g.event(f,"resize",function(){g.$scrollbarRepaint?g.$scrollbarRepaint=null:i()})}catch{t()}function i(){clearTimeout(s),s=setTimeout(function(){g.$destroyed||g.render()},u)}var o=g.$root.offsetHeight,n=g.$root.offsetWidth;function t(){g.$root.offsetHeight==o&&g.$root.offsetWidth==n||i(),o=g.$root.offsetHeight,n=g.$root.offsetWidth,setTimeout(t,u)}}S.exports=function(g){window.getComputedStyle(g.$root).getPropertyValue("position")=="static"&&(g.$root.style.position="relative");var f=document.createElement("iframe");f.className="gantt_container_resize_watcher",f.tabIndex=-1,g.config.wai_aria_attributes&&(f.setAttribute("role","none"),f.setAttribute("aria-hidden",!0)),(!!window.Sfdc||!!window.$A||window.Aura)&&(g.config.container_resize_method="timeout"),g.$root.appendChild(f),f.contentWindow?d(g,f.contentWindow):(g.$root.removeChild(f),d(g,window))}},function(S,C,d){function g(o){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}var f=d(1),s=d(2),u=d(10),i=d(160);S.exports=function(o){var n=d(39);o.assert=d(159)(o);var t="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function e(l){if(!l||typeof l=="string"&&document.getElementById(l)||function(h){try{h.cloneNode(!1)}catch{return!1}return!0}(l))return!0;throw o.assert(!1,t),new Error(t)}o.init=function(l,h,c){o.env.isNode?l=null:e(l),h&&c&&(this.config.start_date=this._min_date=new Date(h),this.config.end_date=this._max_date=new Date(c)),this.date.init(),this.init=function(_){o.env.isNode?_=null:e(_),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(_)},this._reinit(l)},o._quickRefresh=function(l){for(var h=this._getDatastores.call(this),c=0;c<h.length;c++)h[c]._quick_refresh=!0;for(l(),c=0;c<h.length;c++)h[c]._quick_refresh=!1};var r=function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}.bind(o),a=function(){u(o)||(this.$root.innerHTML="",this.$root.gantt=this,n(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var l=o.$services.getService("datastores"),h=0;h<l.length;h++)o.getDatastore(l[h]).filter(),o.$data.tasksStore._skipTaskRecalculation?o.$data.tasksStore._skipTaskRecalculation!="lightbox"&&(o.$data.tasksStore._skipTaskRecalculation=!1):o.getDatastore(l[h]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){o._quickRefresh(function(){o.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,i(this))}.bind(o);o.resetLayout=function(){r(),a(),this.render()},o._reinit=function(l){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),r(),this.$root=null,l&&(this.$root=f.toNode(l),a(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},o.$click={buttons:{edit:function(l){o.isReadonly(o.getTask(l))||o.showLightbox(l)},delete:function(l){var h=o.getTask(l);if(!o.isReadonly(h)){var c=o.locale.labels.confirm_deleting,_=o.locale.labels.confirm_deleting_title;o._simple_confirm(c,_,function(){o.isTaskExists(l)&&(h.$new?(o.$data.tasksStore._skipTaskRecalculation="lightbox",o.silent(function(){o.deleteTask(l,!0)}),o.$data.tasksStore._skipTaskRecalculation=!1,o.refreshData()):(o.$data.tasksStore._skipTaskRecalculation=!0,o.deleteTask(l))),o.hideLightbox()})}}}},o.render=function(){var l;if(this.callEvent("onBeforeGanttRender",[]),!u(o)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var h=this.getScrollState(),c=h?h.x:0;this._getHorizontalScrollbar()&&(c=this._getHorizontalScrollbar().$config.codeScrollLeft||c||0),l=null,c&&(l=o.dateFromPos(c+this.config.task_scroll_offset))}if(n(this),u(o))o.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var _=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=_,this.config.preserve_scroll&&h){if(c||h.y){var p=o.getScrollState();if(+l!=+o.dateFromPos(p.x)||p.y!=h.y){c=null;var v=null;l&&(c=Math.max(o.posFromDate(l)-o.config.task_scroll_offset,0)),h.y&&(v=h.y),o.scrollTo(c,v)}}var m=o.$ui.getView("grid");if(m){var k=m.$config.scrollY,y=o.$ui.getView(k);y&&(o.utils.dom.isChildOf(y.$view,o.$container)||m.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},o.setSizes=o.render,o.getTaskRowNode=function(l){for(var h=this.$grid_data.childNodes,c=this.config.task_attribute,_=0;_<h.length;_++)if(h[_].getAttribute&&h[_].getAttribute(c)==l)return h[_];return null},o.changeLightboxType=function(l){if(this.getLightboxType()==l)return!0;o._silent_redraw_lightbox(l)},o._get_link_type=function(l,h){var c=null;return l&&h?c=o.config.links.start_to_start:!l&&h?c=o.config.links.finish_to_start:l||h?l&&!h&&(c=o.config.links.start_to_finish):c=o.config.links.finish_to_finish,c},o.isLinkAllowed=function(l,h,c,_){var p=null;if(!(p=g(l)=="object"?l:{source:l,target:h,type:this._get_link_type(c,_)})||!(p.source&&p.target&&p.type)||p.source==p.target)return!1;var v=!0;return this.checkEvent("onLinkValidation")&&(v=this.callEvent("onLinkValidation",[p])),v},o._correct_dst_change=function(l,h,c,_){var p=s.getSecondsInUnit(_)*c;if(p>3600&&p<86400){var v=l.getTimezoneOffset()-h;v&&(l=o.date.add(l,v,"minute"))}return l},o.isSplitTask=function(l){return o.assert(l&&l instanceof Object,"Invalid argument <b>task</b>="+l+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(l)},o._is_icon_open_click=function(l){if(!l)return!1;var h=l.target||l.srcElement;if(!h||!h.className)return!1;var c=f.getClassName(h);return c.indexOf("gantt_tree_icon")!==-1&&(c.indexOf("gantt_close")!==-1||c.indexOf("gantt_open")!==-1)}}},function(S,C){S.exports=function(d){function g(){return d._cached_functions.update_if_changed(d),d._cached_functions.active||d._cached_functions.activate(),!0}d._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(s,u){if(u._prefetch_originals)for(var i in u._prefetch_originals)u[i]=u._prefetch_originals[i];for(u._prefetch_originals={},i=0;i<s.length;i++)this.prefetch(s[i],u)},prefetch:function(s,u){var i=u[s];if(i){var o=this;u._prefetch_originals[s]=i,u[s]=function(){for(var n=new Array(arguments.length),t=0,e=arguments.length;t<e;t++)n[t]=arguments[t];if(o.active){var r=o.get_arguments_hash(Array.prototype.slice.call(n));o.cache[s]||(o.cache[s]={});var a=o.cache[s];if(o.has_cached_value(a,r))return o.get_cached_value(a,r);var l=i.apply(this,n);return o.cache_value(a,r,l),l}return i.apply(this,n)}}return i},cache_value:function(s,u,i){this.is_date(i)&&(i=new Date(i)),s[u]=i},has_cached_value:function(s,u){return s.hasOwnProperty(u)},get_cached_value:function(s,u){var i=s[u];return this.is_date(i)&&(i=new Date(i)),i},is_date:function(s){return s&&s.getUTCDate},get_arguments_hash:function(s){for(var u=[],i=0;i<s.length;i++)u.push(this.stringify_argument(s[i]));return"("+u.join(";")+")"},stringify_argument:function(s){return(s.id?s.id:this.is_date(s)?s.valueOf():s)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(s){var u=[],i=["_isProjectEnd","_getProjectEnd","_getSlack"];this.mode=="auto"?s.config.highlight_critical_path&&(u=i):this.mode===!0&&(u=i),this.wrap_methods(u,s)},update_if_changed:function(s){(this.critical_path_mode!=s.config.highlight_critical_path||this.mode!==s.config.optimize_render)&&(this.critical_path_mode=s.config.highlight_critical_path,this.mode=s.config.optimize_render,this.setup(s))}},d.attachEvent("onBeforeGanttRender",g),d.attachEvent("onBeforeDataRender",g),d.attachEvent("onBeforeSmartRender",function(){g()}),d.attachEvent("onBeforeParse",g),d.attachEvent("onDataRender",function(){d._cached_functions.deactivate()});var f=null;d.attachEvent("onSmartRender",function(){f&&clearTimeout(f),f=setTimeout(function(){d._cached_functions.deactivate()},1e3)}),d.attachEvent("onBeforeGanttReady",function(){return d._cached_functions.update_if_changed(d),!0})}},function(S,C){function d(g){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(g)}S.exports=function(g){g.getTaskType=function(f){var s=f;for(var u in f&&d(f)=="object"&&(s=f.type),this.config.types)if(this.config.types[u]==s)return s;return g.config.types.task}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(){}},function(S,C,d){var g=d(2);S.exports=function(f){f.isUnscheduledTask=function(n){return f.assert(n&&n instanceof Object,"Invalid argument <b>task</b>="+n+" of gantt.isUnscheduledTask. Task object was expected"),!!n.unscheduled||!n.start_date},f._isAllowedUnscheduledTask=function(n){return!(!n.unscheduled||!f.config.show_unscheduled)},f._isTaskInTimelineLimits=function(n){var t=n.start_date?n.start_date.valueOf():null,e=n.end_date?n.end_date.valueOf():null;return!!(t&&e&&t<=this._max_date.valueOf()&&e>=this._min_date.valueOf())},f.isTaskVisible=function(n){if(!this.isTaskExists(n))return!1;var t=this.getTask(n);return!(!this._isAllowedUnscheduledTask(t)&&!this._isTaskInTimelineLimits(t))&&this.getGlobalTaskIndex(n)>=0},f._getProjectEnd=function(){if(f.config.project_end)return f.config.project_end;var n=f.getTaskByTime();return(n=n.sort(function(t,e){return+t.end_date>+e.end_date?1:-1})).length?n[n.length-1].end_date:null},f._getProjectStart=function(){if(f.config.project_start)return f.config.project_start;if(f.config.start_date)return f.config.start_date;if(f.getState().min_date)return f.getState().min_date;var n=f.getTaskByTime();return(n=n.sort(function(t,e){return+t.start_date>+e.start_date?1:-1})).length?n[0].start_date:null};var s=function(n,t){var e=!!(t&&t!=f.config.root_id&&f.isTaskExists(t))&&f.getTask(t),r=null;if(e)r=f.config.schedule_from_end?f.calculateEndDate({start_date:e.end_date,duration:-f.config.duration_step,task:n}):e.start_date;else if(f.config.schedule_from_end)r=f.calculateEndDate({start_date:f._getProjectEnd(),duration:-f.config.duration_step,task:n});else{var a=f.getTaskByIndex(0);r=a?a.start_date?a.start_date:a.end_date?f.calculateEndDate({start_date:a.end_date,duration:-f.config.duration_step,task:n}):null:f.config.start_date||f.getState().min_date}return f.assert(r,"Invalid dates"),new Date(r)};f._set_default_task_timing=function(n){n.start_date=n.start_date||s(n,f.getParent(n)),n.duration=n.duration||f.config.duration_step,n.end_date=n.end_date||f.calculateEndDate(n)},f.createTask=function(n,t,e){return n=n||{},f.defined(n.id)||(n.id=f.uid()),n.start_date||(n.start_date=s(n,t)),n.text===void 0&&(n.text=f.locale.labels.new_task),n.duration===void 0&&(n.duration=1),this.isTaskExists(t)&&(this.setParent(n,t,!0),this.getTask(t).$open=!0),this.callEvent("onTaskCreated",[n])?(this.config.details_on_create?(f.isTaskExists(n.id)?f.getTask(n.id).$index!=n.$index&&(n.start_date&&typeof n.start_date=="string"&&(n.start_date=this.date.parseDate(n.start_date,"parse_date")),n.end_date&&typeof n.end_date=="string"&&(n.end_date=this.date.parseDate(n.end_date,"parse_date")),this.$data.tasksStore.updateItem(n.id,n)):(n.$new=!0,this.silent(function(){f.$data.tasksStore.addItem(n,e)})),this.selectTask(n.id),this.refreshData(),this.showLightbox(n.id)):this.addTask(n,t,e)&&(this.showTask(n.id),this.selectTask(n.id)),n.id):null},f._update_flags=function(n,t){var e=f.$data.tasksStore;n===void 0?(this._lightbox_id=null,e.silent(function(){e.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==n&&(this._lightbox_id=t),e.getSelectedId()==n&&e.silent(function(){e.unselect(n),e.select(t)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==n&&(this._tasks_dnd.drag.id=t))};var u=function(n,t){var e=f.getTaskType(n.type),r={type:e,$no_start:!1,$no_end:!1};return t||e!=n.$rendered_type?(e==f.config.types.project?r.$no_end=r.$no_start=!0:e!=f.config.types.milestone&&(r.$no_end=!(n.end_date||n.duration),r.$no_start=!n.start_date,f._isAllowedUnscheduledTask(n)&&(r.$no_end=r.$no_start=!1)),r):(r.$no_start=n.$no_start,r.$no_end=n.$no_end,r)};function i(n){n.$effective_calendar=f.getTaskCalendar(n).id,n.start_date=f.getClosestWorkTime({dir:"future",date:n.start_date,unit:f.config.duration_unit,task:n}),n.end_date=f.calculateEndDate(n)}function o(n){var t=null,e=null,r=n!==void 0?n:f.config.root_id,a=[];return f.eachTask(function(l){f.getTaskType(l.type)==f.config.types.project||f.isUnscheduledTask(l)||(l.rollup&&a.push(l.id),l.start_date&&!l.$no_start&&(!t||t>l.start_date.valueOf())&&(t=l.start_date.valueOf()),l.end_date&&!l.$no_end&&(!e||e<l.end_date.valueOf())&&(e=l.end_date.valueOf()))},r),{start_date:t?new Date(t):null,end_date:e?new Date(e):null,rollup:a}}f._init_task_timing=function(n){var t=u(n,!0),e=n.$rendered_type!=t.type,r=t.type;e&&(n.$no_start=t.$no_start,n.$no_end=t.$no_end,n.$rendered_type=t.type),e&&r!=this.config.types.milestone&&r==this.config.types.project&&(this._set_default_task_timing(n),n.$calculate_duration=!1),r==this.config.types.milestone&&(n.end_date=n.start_date),n.start_date&&n.end_date&&n.$calculate_duration!==!1&&(n.duration=this.calculateDuration(n)),n.$calculate_duration||(n.$calculate_duration=!0),n.end_date||(n.end_date=n.start_date),n.duration=n.duration||0,this.config.min_duration===0&&n.duration===0&&(n.$no_end=!1);var a=this.getTaskCalendar(n);n.$effective_calendar&&n.$effective_calendar!==a.id&&(i(n),this.config.inherit_calendar&&this.isSummaryTask(n)&&this.eachTask(function(l){i(l)},n.id)),n.$effective_calendar=a.id},f.isSummaryTask=function(n){f.assert(n&&n instanceof Object,"Invalid argument <b>task</b>="+n+" of gantt.isSummaryTask. Task object was expected");var t=u(n);return!(!t.$no_end&&!t.$no_start)},f.resetProjectDates=function(n){var t=u(n);if(t.$no_end||t.$no_start){var e=o(n.id);(function(r,a,l,h){a.$no_start&&(r.start_date=l?new Date(l):s(r,this.getParent(r))),a.$no_end&&(r.end_date=h?new Date(h):this.calculateEndDate({start_date:r.start_date,duration:this.config.duration_step,task:r})),(a.$no_start||a.$no_end)&&this._init_task_timing(r)}).call(this,n,t,e.start_date,e.end_date),n.$rollup=e.rollup}},f.getSubtaskDuration=function(n){var t=0,e=n!==void 0?n:f.config.root_id;return this.eachTask(function(r){this.getTaskType(r.type)==f.config.types.project||this.isUnscheduledTask(r)||(t+=r.duration)},e),t},f.getSubtaskDates=function(n){var t=o(n);return{start_date:t.start_date,end_date:t.end_date}},f._update_parents=function(n,t,e){if(n){var r=this.getTask(n);r.rollup&&(e=!0);var a=this.getParent(r),l=u(r),h=!0;if(e||r.start_date&&r.end_date&&(l.$no_start||l.$no_end)){var c=r.start_date.valueOf(),_=r.end_date.valueOf();f.resetProjectDates(r),e||c!=r.start_date.valueOf()||_!=r.end_date.valueOf()||(h=!1),h&&!t&&this.refreshTask(r.id,!0)}h&&a&&this.isTaskExists(a)&&this._update_parents(a,t,e)}},f.roundDate=function(n){var t=f.getScale();g.isDate(n)&&(n={date:n,unit:t?t.unit:f.config.duration_unit,step:t?t.step:f.config.duration_step});var e,r,a,l=n.date,h=n.step,c=n.unit;if(!t)return l;if(c==t.unit&&h==t.step&&+l>=+t.min_date&&+l<=+t.max_date)a=Math.floor(f.columnIndexByDate(l)),t.trace_x[a]||(a-=1,t.rtl&&(a=0)),r=new Date(t.trace_x[a]),e=f.date.add(r,h,c);else{for(a=Math.floor(f.columnIndexByDate(l)),e=f.date[c+"_start"](new Date(t.min_date)),t.trace_x[a]&&(e=f.date[c+"_start"](t.trace_x[a]));+e<+l;){var _=(e=f.date[c+"_start"](f.date.add(e,h,c))).getTimezoneOffset();e=f._correct_dst_change(e,_,e,c),f.date[c+"_start"]&&(e=f.date[c+"_start"](e))}r=f.date.add(e,-1*h,c)}return n.dir&&n.dir=="future"?e:n.dir&&n.dir=="past"||Math.abs(l-r)<Math.abs(e-l)?r:e},f.correctTaskWorkTime=function(n){f.config.work_time&&f.config.correct_work_time&&(this.isWorkTime(n.start_date,void 0,n)?this.isWorkTime(new Date(+n.end_date-1),void 0,n)||(n.end_date=this.calculateEndDate(n)):(n.start_date=this.getClosestWorkTime({date:n.start_date,dir:"future",task:n}),n.end_date=this.calculateEndDate(n)))},f.attachEvent("onBeforeTaskUpdate",function(n,t){return f._init_task_timing(t),!0}),f.attachEvent("onBeforeTaskAdd",function(n,t){return f._init_task_timing(t),!0}),f.attachEvent("onAfterTaskMove",function(n,t,e){return f._init_task_timing(f.getTask(n)),!0})}},function(S,C,d){var g=d(0);S.exports={create:function(f,s){return{getWorkHours:function(u){return s.getWorkHours(u)},setWorkTime:function(u){return s.setWorkTime(u)},unsetWorkTime:function(u){s.unsetWorkTime(u)},isWorkTime:function(u,i,o){return s.isWorkTime(u,i,o)},getClosestWorkTime:function(u){return s.getClosestWorkTime(u)},calculateDuration:function(u,i,o){return s.calculateDuration(u,i,o)},_hasDuration:function(u,i,o){return s.hasDuration(u,i,o)},calculateEndDate:function(u,i,o,n){return s.calculateEndDate(u,i,o,n)},mergeCalendars:g.bind(f.mergeCalendars,f),createCalendar:g.bind(f.createCalendar,f),addCalendar:g.bind(f.addCalendar,f),getCalendar:g.bind(f.getCalendar,f),getCalendars:g.bind(f.getCalendars,f),getResourceCalendar:g.bind(f.getResourceCalendar,f),getTaskCalendar:g.bind(f.getTaskCalendar,f),deleteCalendar:g.bind(f.deleteCalendar,f)}}}},function(S,C){function d(g,f){this.argumentsHelper=f,this.$gantt=g}d.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(g){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var g=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),f=g.start_date,s=g.end_date,u=g.unit,i=g.step;return this._calculateDuration(f,s,u,i)},_calculateDuration:function(g,f,s,u){var i=this.$gantt.date,o={week:6048e5,day:864e5,hour:36e5,minute:6e4},n=0;if(o[s])n=Math.round((f-g)/(u*o[s]));else{for(var t=new Date(g),e=new Date(f);t.valueOf()<e.valueOf();)n+=1,t=i.add(t,u,s);t.valueOf()!=f.valueOf()&&(n+=(e-t)/(i.add(t,u,s)-t))}return Math.round(n)},hasDuration:function(){var g=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),f=g.start_date,s=g.end_date;return!!g.unit&&(f=new Date(f),s=new Date(s),f.valueOf()<s.valueOf())},hasWorkTime:function(){return!0},equals:function(g){return g instanceof d},calculateEndDate:function(){var g=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),f=g.start_date,s=g.duration,u=g.unit,i=g.step;return this.$gantt.date.add(f,i*s,u)}},S.exports=d},function(S,C,d){var g=d(35),f=d(167);function s(u){this.$gantt=u.$gantt,this.argumentsHelper=g(this.$gantt),this.calendarManager=u,this.$disabledCalendar=new f(this.$gantt,this.argumentsHelper)}s.prototype={_getCalendar:function(u){var i;if(this.$gantt.config.work_time){var o=this.calendarManager;u.task?i=o.getTaskCalendar(u.task):u.id?i=o.getTaskCalendar(u):u.calendar&&(i=u.calendar),i||(i=o.getTaskCalendar())}else i=this.$disabledCalendar;return i},getWorkHours:function(u){return u=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(u).getWorkHours(u.date)},setWorkTime:function(u,i){return u=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.setWorkTime(u)},unsetWorkTime:function(u,i){return u=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.unsetWorkTime(u)},isWorkTime:function(u,i,o,n){var t=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).isWorkTime(t)},getClosestWorkTime:function(u){return u=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(u).getClosestWorkTime(u)},calculateDuration:function(){var u=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(u).calculateDuration(u)},hasDuration:function(){var u=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(u).hasDuration(u)},calculateEndDate:function(u){return u=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(u).calculateEndDate(u)}},S.exports=s},function(S,C){S.exports=function(){var d={};return{getCalendarIdFromMultipleResources:function(g,f){var s=function(i){return i.map(function(o){return o&&o.resource_id?o.resource_id:o}).sort().join("-")}(g);if(g.length){if(g.length===1)return f.getResourceCalendar(s).id;if(d[s])return d[s].id;var u=function(i,o){return o.mergeCalendars(i.map(function(n){var t=n&&n.resource_id?n.resource_id:n;return o.getResourceCalendar(t)}))}(g,f);return d[s]=u,f.addCalendar(u)}return null}}}},function(S,C){function d(g){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(g)}S.exports={isLegacyResourceCalendarFormat:function(g){if(!g)return!1;for(var f in g)if(g[f]&&d(g[f])==="object")return!0;return!1},getResourceProperty:function(g){var f=g.resource_calendars,s=g.resource_property;if(this.isLegacyResourceCalendarFormat(f))for(var u in g){s=u;break}return s},getCalendarIdFromLegacyConfig:function(g,f){if(f)for(var s in f){var u=f[s];if(g[s]){var i=u[g[s]];if(i)return i}}return null}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function f(){this.clear()}return f.prototype._getCacheObject=function(s,u,i){var o=this._cache;o[u]||(o[u]=[]);var n=o[u];n||(n=o[u]={});var t=n[i];t||(t=n[i]={});var e=s.getFullYear(),r=t[e];return r||(r=t[e]={durations:{},endDates:{}}),r},f.prototype._endDateCacheKey=function(s,u){return String(s)+"-"+String(u)},f.prototype._durationCacheKey=function(s,u){return String(s)+"-"+String(u)},f.prototype.getEndDate=function(s,u,i,o,n){var t,e=this._getCacheObject(s,i,o),r=s.valueOf(),a=this._endDateCacheKey(r,u);if(e.endDates[a]===void 0){var l=n(),h=l.valueOf();e.endDates[a]=h,e.durations[this._durationCacheKey(r,h)]=u,t=l}else t=new Date(e.endDates[a]);return t},f.prototype.getDuration=function(s,u,i,o,n){var t,e=this._getCacheObject(s,i,o),r=s.valueOf(),a=u.valueOf(),l=this._durationCacheKey(r,a);if(e.durations[l]===void 0){var h=n();e.durations[l]=h.valueOf(),t=h}else t=e.durations[l];return t},f.prototype.clear=function(){this._cache={}},f}();C.DateDurationCache=g},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){return function(f){var s=this;this.getMinutesPerWeek=function(u){var i=u.valueOf();if(s._weekCache.has(i))return s._weekCache.get(i);for(var o=s._calendar,n=s._calendar.$gantt,t=0,e=n.date.week_start(new Date(u)),r=0;r<7;r++)t+=60*o.getHoursPerDay(e),e=n.date.add(e,1,"day");return s._weekCache.set(i,t),t},this.getMinutesPerMonth=function(u){var i=u.valueOf();if(s._monthCache.has(i))return s._monthCache.get(i);for(var o=s._calendar,n=s._calendar.$gantt,t=0,e=n.date.week_start(new Date(u)),r=n.date.add(e,1,"month").valueOf();e.valueOf()<r;)t+=60*o.getHoursPerDay(e),e=n.date.add(e,1,"day");return s._monthCache.set(i,t),t},this.clear=function(){s._weekCache=new Map,s._monthCache=new Map},this.clear(),this._calendar=f}}();C.LargerUnitsCache=g},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function f(){this.clear()}return f.prototype.getItem=function(s,u,i){var o=this._cache;if(o&&o[s]){var n=o[s];if(n===void 0)return-1;var t=n[i.getFullYear()];if(t&&t[u]!==void 0)return t[u]}return-1},f.prototype.setItem=function(s,u,i,o){if(s&&u){var n=this._cache;if(n){n[s]||(n[s]=[]);var t=n[s],e=o.getFullYear(),r=t[e];r||(r=t[e]={}),r[u]=i}}},f.prototype.clear=function(){this._cache={}},f}();C.WorkUnitsObjectCache=g},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function f(){this.clear()}return f.prototype.getItem=function(s,u,i){if(this._cache.has(s)){var o=this._cache.get(s)[i.getFullYear()];if(o&&o.has(u))return o.get(u)}return-1},f.prototype.setItem=function(s,u,i,o){if(s&&u){var n,t=this._cache,e=o.getFullYear();t.has(s)?n=t.get(s):(n=[],t.set(s,n));var r=n[e];r||(r=n[e]=new Map),r.set(u,i)}},f.prototype.clear=function(){this._cache=new Map},f}();C.WorkUnitsMapCache=g},function(S,C,d){function g(n){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}var f=d(34).createCacheObject,s=d(34).LargerUnitsCache,u=d(0),i=d(171).DateDurationCache;function o(n,t){this.argumentsHelper=t,this.$gantt=n,this._workingUnitsCache=f(),this._largeUnitsCache=new s(this),this._dateDurationCache=new i,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}o.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(n){for(var t=0,e=this.units.length;t<e;t++)if(this.units[t]==n)return t},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(n){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var t=null;if(n.day||n.day===0)t=n.day;else if(n.date){var e=String(n.date.valueOf());this._cached_timestamps[e]?t=this._cached_timestamps[e]:(t=Date.UTC(n.date.getFullYear(),n.date.getMonth(),n.date.getDate()),this._cached_timestamps[e]=t,this._cached_timestamps_count++)}return t},_checkIfWorkingUnit:function(n,t){if(!this["_is_work_"+t]){var e=this.$gantt.date["".concat(t,"_start")](new Date(n)),r=this.$gantt.date.add(e,1,t);return this.hasDuration(e,r)}return this["_is_work_"+t](n)},_is_work_day:function(n){var t=this._getWorkHours(n);return!!Array.isArray(t)&&t.length>0},_is_work_hour:function(n){for(var t=this._getWorkHours(n),e=n.getHours(),r=0;r<t.length;r++)if(e>=t[r].startHour&&e<t[r].endHour)return!0;return!1},_getTimeOfDayStamp:function(n,t){var e=n.getHours();return n.getHours()||n.getMinutes()||!t||(e=24),60*e*60+60*n.getMinutes()},_is_work_minute:function(n){for(var t=this._getWorkHours(n),e=this._getTimeOfDayStamp(n),r=0;r<t.length;r++)if(e>=t[r].start&&e<t[r].end)return!0;return!1},_nextDate:function(n,t,e){return this.$gantt.date.add(n,e,t)},_getWorkUnitsBetweenGeneric:function(n,t,e,r){var a=this.$gantt.date,l=new Date(n),h=new Date(t);r=r||1;var c,_,p=0,v=null,m=!1;(c=a[e+"_start"](new Date(l))).valueOf()!=l.valueOf()&&(m=!0);var k=!1;(_=a[e+"_start"](new Date(t))).valueOf()!=t.valueOf()&&(k=!0);for(var y=!1;l.valueOf()<h.valueOf();){if(y=(v=this._nextDate(l,e,r)).valueOf()>h.valueOf(),this._isWorkTime(l,e))(m||k&&y)&&(c=a[e+"_start"](new Date(l)),_=a.add(c,r,e)),m?(m=!1,v=this._nextDate(c,e,r),p+=(_.valueOf()-l.valueOf())/(_.valueOf()-c.valueOf())):k&&y?(k=!1,p+=(h.valueOf()-l.valueOf())/(_.valueOf()-c.valueOf())):p++;else{var w=this._getUnitOrder(e),$=this.units[w-1];$&&!this._isWorkTime(l,$)&&(v=this._getClosestWorkTimeFuture(l,$))}l=v}return p},_getMinutesPerHour:function(n){var t=this._getTimeOfDayStamp(n),e=this._getTimeOfDayStamp(this._nextDate(n,"hour",1));e===0&&(e=86400);for(var r=this._getWorkHours(n),a=0;a<r.length;a++){var l=r[a];if(t>=l.start&&e<=l.end)return 60;if(t<l.end&&e>l.start)return(Math.min(e,l.end)-Math.max(t,l.start))/60}return 0},_getMinutesPerDay:function(n){var t=0;return this._getWorkHours(n).forEach(function(e){t+=e.durationMinutes}),t},getHoursPerDay:function(n){var t=0;return this._getWorkHours(n).forEach(function(e){t+=e.durationHours}),t},_getWorkUnitsForRange:function(n,t,e,r){var a,l=0,h=new Date(n),c=new Date(t);for(a=e=="minute"?u.bind(this._getMinutesPerDay,this):u.bind(this.getHoursPerDay,this);h.valueOf()<c.valueOf();)if(c-h>27648e5&&h.getDate()===0){var _=this._largeUnitsCache.getMinutesPerMonth(h);e=="hour"&&(_/=60),l+=_,h=this.$gantt.date.add(h,1,"month")}else{if(c-h>13824e5){var p=this.$gantt.date.week_start(new Date(h));if(h.valueOf()===p.valueOf()){_=this._largeUnitsCache.getMinutesPerWeek(h),e=="hour"&&(_/=60),l+=_,h=this.$gantt.date.add(h,7,"day");continue}}l+=a(h),h=this._nextDate(h,"day",1)}return l/r},_getMinutesBetweenSingleDay:function(n,t){for(var e=this._getIntervalTimestamp(n,t),r=this._getWorkHours(n),a=0,l=0;l<r.length;l++){var h=r[l];if(e.end>=h.start&&e.start<=h.end){var c=Math.max(h.start,e.start),_=Math.min(h.end,e.end);a+=(_-c)/60,e.start=_}}return Math.floor(a)},_getMinutesBetween:function(n,t,e,r){var a=new Date(n),l=new Date(t);r=r||1;var h=new Date(a),c=this.$gantt.date.add(this.$gantt.date.day_start(new Date(a)),1,"day");if(l.valueOf()<=c.valueOf())return this._getMinutesBetweenSingleDay(n,t);var _=this.$gantt.date.day_start(new Date(l)),p=l,v=this._getMinutesBetweenSingleDay(h,c),m=this._getMinutesBetweenSingleDay(_,p);return v+this._getWorkUnitsForRange(c,_,e,r)+m},_getHoursBetween:function(n,t,e,r){var a=new Date(n),l=new Date(t);r=r||1;var h=new Date(a),c=this.$gantt.date.add(this.$gantt.date.day_start(new Date(a)),1,"day");if(l.valueOf()<=c.valueOf())return Math.round(this._getMinutesBetweenSingleDay(n,t)/60);var _=this.$gantt.date.day_start(new Date(l)),p=l,v=this._getMinutesBetweenSingleDay(h,c,e,r)/60,m=this._getMinutesBetweenSingleDay(_,p,e,r)/60,k=v+this._getWorkUnitsForRange(c,_,e,r)+m;return Math.round(k)},getConfig:function(){return this._worktime},_setConfig:function(n){this._worktime=n,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var n=this.getConfig();for(var t in n.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},n.parsed.hours=this._parseHours(n.hours),n.dates)n.parsed.dates[t]=this._parseHours(n.dates[t]);if(n.customWeeks){var e=null,r=null;for(var t in n.customWeeks){var a=n.customWeeks[t];if(a.from&&a.to){var l=a.from,h=a.to;(!e||e>l.valueOf())&&(e=l.valueOf()),(!r||r<h.valueOf())&&(r=h.valueOf()),n.parsed.customWeeksBoundaries.push({from:l.valueOf(),fromReadable:new Date(l),to:h.valueOf(),toReadable:new Date(h),name:t}),n.parsed.haveCustomWeeks=!0;var c=n.parsed.customWeeks[t]={from:a.from,to:a.to,hours:this._parseHours(a.hours),dates:{}};for(var _ in a.dates)c.dates[_]=this._parseHours(a.dates[_])}}n.parsed.customWeeksRangeStart=e,n.parsed.customWeeksRangeEnd=r}},_tryChangeCalendarSettings:function(n){var t=JSON.stringify(this.getConfig());return n(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(t)),this._clearCaches(),!1)},_arraysEqual:function(n,t){if(n===t)return!0;if(!n||!t||n.length!=t.length)return!1;for(var e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0},_compareSettings:function(n,t){if(!this._arraysEqual(n.hours,t.hours))return!1;var e=Object.keys(n.dates),r=Object.keys(t.dates);if(e.sort(),r.sort(),!this._arraysEqual(e,r))return!1;for(var a=0;a<e.length;a++){var l=e[a],h=n.dates[l],c=n.dates[l];if(h!==c&&!(Array.isArray(h)&&Array.isArray(c)&&this._arraysEqual(h,c)))return!1}return!0},equals:function(n){if(!(n instanceof o))return!1;var t=this.getConfig(),e=n.getConfig();if(!this._compareSettings(t,e))return!1;if(t.parsed.haveCustomWeeks&&e.parsed.haveCustomWeeks){if(t.parsed.customWeeksBoundaries.length!=e.parsed.customWeeksBoundaries.length)return!1;for(var r in t.parsed.customWeeks){var a=t.parsed.customWeeks[r],l=e.parsed.customWeeks[r];if(!l||!this._compareSettings(a,l))return!1}}else if(t.parse.haveCustomWeeks!==e.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var n=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(n.date,!1)},_getWorkHours:function(n,t){var e=this.getConfig();if(t!==!1&&(e=e.parsed),!n)return e.hours;var r=this._timestamp({date:n});if(e.haveCustomWeeks&&e.customWeeksRangeStart<=r&&e.customWeeksRangeEnd>r){for(var a=0;a<e.customWeeksBoundaries.length;a++)if(e.customWeeksBoundaries[a].from<=r&&e.customWeeksBoundaries[a].to>r){e=e.customWeeks[e.customWeeksBoundaries[a].name];break}}var l=!0;return e.dates[r]!==void 0?l=e.dates[r]:e.dates[n.getDay()]!==void 0&&(l=e.dates[n.getDay()]),l===!0?e.hours:l||[]},_getIntervalTimestamp:function(n,t){var e={start:0,end:0};e.start=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds();var r=t.getHours();return!r&&!t.getMinutes()&&!t.getSeconds()&&n.valueOf()<t.valueOf()&&(r=24),e.end=60*r*60+60*t.getMinutes()+t.getSeconds(),e},_parseHours:function(n){if(Array.isArray(n)){var t=[];n.forEach(function(c){typeof c=="number"?t.push(60*c*60):typeof c=="string"&&c.split("-").map(function(_){return _.trim()}).forEach(function(_){var p=_.split(":").map(function(m){return m.trim()}),v=parseInt(60*p[0]*60);p[1]&&(v+=parseInt(60*p[1])),p[2]&&(v+=parseInt(p[2])),t.push(v)})});for(var e=[],r=0;r<t.length;r+=2){var a=t[r],l=t[r+1],h=l-a;e.push({start:a,end:l,startHour:Math.floor(a/3600),startMinute:Math.floor(a/60),endHour:Math.ceil(l/3600),endMinute:Math.ceil(l/60),durationSeconds:h,durationMinutes:h/60,durationHours:h/3600})}return e}return n},setWorkTime:function(n){return this._tryChangeCalendarSettings(u.bind(function(){var t=n.hours===void 0||n.hours,e=this._timestamp(n),r=this.getConfig();if(e!==null?r.dates[e]=t:n.customWeeks||(r.hours=t),n.customWeeks){if(r.customWeeks||(r.customWeeks={}),typeof n.customWeeks=="string")e!==null?r.customWeeks[n.customWeeks].dates[e]=t:n.customWeeks||(r.customWeeks[n.customWeeks].hours=t);else if(g(n.customWeeks)==="object"&&Function.prototype.toString.call(n.customWeeks.constructor)==="function Object() { [native code] }")for(var a in n.customWeeks)r.customWeeks[a]=n.customWeeks[a]}this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(n){return this._tryChangeCalendarSettings(u.bind(function(){if(n){var t=this._timestamp(n);t!==null&&delete this.getConfig().dates[t]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(n,t){var e=-1,r=null;return r=String(n.valueOf()),(e=this._workingUnitsCache.getItem(t,r,n))==-1&&(e=this._checkIfWorkingUnit(n,t),this._workingUnitsCache.setItem(t,r,e,n)),e},isWorkTime:function(){var n=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(n.date,n.unit)},calculateDuration:function(){var n=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!n.unit)return!1;var t=this;return this._dateDurationCache.getDuration(n.start_date,n.end_date,n.unit,n.step,function(){return t._calculateDuration(n.start_date,n.end_date,n.unit,n.step)})},_calculateDuration:function(n,t,e,r){var a=0,l=1;if(n.valueOf()>t.valueOf()){var h=t;t=n,n=h,l=-1}return a=e=="hour"&&r==1?this._getHoursBetween(n,t,e,r):e=="minute"&&r==1?this._getMinutesBetween(n,t,e,r):this._getWorkUnitsBetweenGeneric(n,t,e,r),l*Math.round(a)},hasDuration:function(){var n=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),t=n.start_date,e=n.end_date,r=n.unit,a=n.step;if(!r)return!1;var l=new Date(t),h=new Date(e);for(a=a||1;l.valueOf()<h.valueOf();){if(this._isWorkTime(l,r))return!0;l=this._nextDate(l,r,a)}return!1},calculateEndDate:function(){var n=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),t=n.start_date,e=n.duration,r=n.unit,a=n.step;if(!r)return!1;var l=n.duration>=0?1:-1;e=Math.abs(1*e);var h=this;return this._dateDurationCache.getEndDate(t,e,r,a*l,function(){return h._calculateEndDate(t,e,r,a*l)})},_calculateEndDate:function(n,t,e,r){return!!e&&(r==1&&e=="minute"?this._calculateMinuteEndDate(n,t,r):r==-1&&e=="minute"?this._subtractMinuteDate(n,t,r):r==1&&e=="hour"?this._calculateHourEndDate(n,t,r):this._addInterval(n,t,e,r,null).end)},_addInterval:function(n,t,e,r,a){for(var l=0,h=n,c=!1;l<t&&(!a||!a(h));){var _=this._nextDate(h,e,r);e=="day"&&(c=c||!h.getHours()&&_.getHours())&&(_.setHours(0),_.getHours()||(c=!1));var p=new Date(_.valueOf()+1);r>0&&(p=new Date(_.valueOf()-1)),this._isWorkTime(p,e)&&!c&&l++,h=_}return{end:h,start:n,added:l}},_addHoursUntilDayEnd:function(n,t){for(var e=this.$gantt.date.add(this.$gantt.date.day_start(new Date(n)),1,"day"),r=0,a=t,l=this._getIntervalTimestamp(n,e),h=this._getWorkHours(n),c=0;c<h.length&&r<t;c++){var _=h[c];if(l.end>=_.start&&l.start<=_.end){var p=Math.max(_.start,l.start),v=Math.min(_.end,l.end),m=(v-p)/3600;m>a&&(m=a,v=p+60*a*60);var k=Math.round((v-p)/3600);r+=k,a-=k,l.start=v}}var y=e;return r===t&&(y=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,l.start)),{added:r,end:y}},_calculateHourEndDate:function(n,t,e){var r=new Date(n),a=0;e=e||1,t=Math.abs(1*t);var l=this._addHoursUntilDayEnd(r,t);if(a=l.added,r=l.end,p=t-a){for(var h=r;a<t;){var c=this._nextDate(h,"day",e);c.setHours(0),c.setMinutes(0),c.setSeconds(0);var _=0;if(a+(_=e>0?this.getHoursPerDay(new Date(c.valueOf()-1)):this.getHoursPerDay(new Date(c.valueOf()+1)))>=t)break;a+=_,h=c}r=h}if(a<t){var p=t-a;r=(l=this._addHoursUntilDayEnd(r,p)).end}return r},_addMinutesUntilHourEnd:function(n,t){if(n.getMinutes()===0)return{added:0,end:new Date(n)};for(var e=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(n)),1,"hour"),r=0,a=t,l=this._getIntervalTimestamp(n,e),h=this._getWorkHours(n),c=0;c<h.length&&r<t;c++){var _=h[c];if(l.end>=_.start&&l.start<=_.end){var p=Math.max(_.start,l.start),v=Math.min(_.end,l.end),m=(v-p)/60;m>a&&(m=a,v=p+60*a);var k=Math.round((v-p)/60);a-=k,r+=k,l.start=v}}var y=e;return r===t&&(y=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,l.start)),{added:r,end:y}},_subtractMinutesUntilHourStart:function(n,t){for(var e=this.$gantt.date.hour_start(new Date(n)),r=0,a=t,l=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds(),h=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds(),c=this._getWorkHours(n),_=c.length-1;_>=0&&r<t;_--){var p=c[_];if(h>p.start&&l<=p.end){var v=Math.min(h,p.end),m=Math.max(l,p.start),k=(v-m)/60;k>a&&(k=a,m=v-60*a);var y=Math.abs(Math.round((v-m)/60));a-=y,r+=y,h=m}}var w=e;return r===t&&(w=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,h)),{added:r,end:w}},_subtractMinuteDate:function(n,t,e){var r=new Date(n),a=0;e=e||-1,t=Math.abs(1*t),t=Math.round(t);var l=this._isMinutePrecision(r),h=this._subtractMinutesUntilHourStart(r,t);a+=h.added,r=h.end;for(var c=0,_=[],p=0;a<t;){var v=this.$gantt.date.day_start(new Date(r)),m=!1;r.valueOf()===v.valueOf()&&(v=this.$gantt.date.add(v,-1,"day"),m=!0);var k=new Date(v.getFullYear(),v.getMonth(),v.getDate(),23,59,59,999).valueOf();k!==c&&(_=this._getWorkHours(v),p=this._getMinutesPerDay(v),c=k);var y=t-a,w=this._getTimeOfDayStamp(r,m);if(_.length&&p)if(_[_.length-1].end<=w&&y>p)a+=p,r=this.$gantt.date.add(r,-1,"day");else{for(var $=!1,b=null,x=_.length-1;x>=0;x--)if(_[x].start<w-1&&_[x].end>=w-1){$=!0,b=_[x];break}if($)if(w===b.end&&y>=b.durationMinutes)a+=b.durationMinutes,r=this.$gantt.date.add(r,-b.durationMinutes,"minute");else if(!l&&y<=w/60-b.startMinute)a+=y,r=this.$gantt.date.add(r,-y,"minute");else if(l){var T=this._getClosestWorkTime(this._nextDate(r,"hour",e),"hour"),E=this._getMinutesPerHour(T);y<E&&E<=60?(E=y,r=this.$gantt.date.add(r,-E,"minute")):r=T,a+=E}else{var D=this._getMinutesPerHour(r);D<=y?(a+=D,r=this._nextDate(r,"hour",e)):(a+=(h=this._subtractMinutesUntilHourStart(r,y)).added,r=h.end)}else if(r.getHours()===0&&r.getMinutes()===0&&r.getSeconds()===0){if((A=this._getClosestWorkTimePast(r,"hour")).valueOf()===r.valueOf()){var A=this.$gantt.date.add(r,-1,"day"),M=this._getWorkHours(A);if(M.length){var I=M[M.length-1];A.setSeconds(I.durationSeconds)}}r=A}else r=this._getClosestWorkTimePast(new Date(r-1),"hour")}else r=this.$gantt.date.add(r,-1,"day")}if(a<t){var N=t-a;a+=(h=this._subtractMinutesUntilHourStart(r,N)).added,r=h.end}return r},_calculateMinuteEndDate:function(n,t,e){var r=new Date(n),a=0;e=e||1,t=Math.abs(1*t),t=Math.round(t);var l=this._addMinutesUntilHourEnd(r,t);a+=l.added,r=l.end;for(var h=0,c=[],_=0,p=this._isMinutePrecision(r);a<t;){var v=this.$gantt.date.day_start(new Date(r)).valueOf();v!==h&&(c=this._getWorkHours(r),_=this._getMinutesPerDay(r),h=v);var m=t-a,k=this._getTimeOfDayStamp(r);if(c.length&&_)if(c[0].start>=k&&m>=_){if(a+=_,m==_){r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,c[c.length-1].end);break}r=this.$gantt.date.add(r,1,"day"),r=this.$gantt.date.day_start(r)}else{for(var y=!1,w=null,$=0;$<c.length;$++)if(c[$].start<=k&&c[$].end>k){y=!0,w=c[$];break}if(y)if(k===w.start&&m>=w.durationMinutes)a+=w.durationMinutes,r=this.$gantt.date.add(r,w.durationMinutes,"minute");else if(m<=w.endMinute-k/60)a+=m,r=this.$gantt.date.add(r,m,"minute");else{var b=this._getMinutesPerHour(r);b<=m?(a+=b,r=p?this.$gantt.date.add(r,b,"minute"):this._nextDate(r,"hour",e)):(a+=(l=this._addMinutesUntilHourEnd(r,m)).added,r=l.end)}else r=this._getClosestWorkTimeFuture(r,"hour")}else r=this.$gantt.date.add(this.$gantt.date.day_start(r),1,"day")}if(a<t){var x=t-a;a+=(l=this._addMinutesUntilHourEnd(r,x)).added,r=l.end}return r},getClosestWorkTime:function(){var n=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(n.date,n.unit,n.dir)},_getClosestWorkTime:function(n,t,e){var r=new Date(n);if(this._isWorkTime(r,t))return r;if(r=this.$gantt.date[t+"_start"](r),e!="any"&&e)r=e=="past"?this._getClosestWorkTimePast(r,t):this._getClosestWorkTimeFuture(r,t);else{var a=this._getClosestWorkTimeFuture(r,t),l=this._getClosestWorkTimePast(r,t);r=Math.abs(a-n)<=Math.abs(n-l)?a:l}return r},_getClosestWorkTimeFuture:function(n,t){return this._getClosestWorkTimeGeneric(n,t,1)},_getClosestWorkTimePast:function(n,t){var e=this._getClosestWorkTimeGeneric(n,t,-1);return this.$gantt.date.add(e,1,t)},_findClosestTimeInDay:function(n,t,e){var r=new Date(n),a=null,l=!1;this._getWorkHours(r).length||(r=this._getClosestWorkTime(r,"day",t<0?"past":"future"),t<0&&(r=new Date(r.valueOf()-1),l=!0),e=this._getWorkHours(r));var h=this._getTimeOfDayStamp(r);if(l&&(h=this._getTimeOfDayStamp(new Date(r.valueOf()+1),l)),t>0){for(var c=0;c<e.length;c++)if(e[c].start>=h){a=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,e[c].start);break}}else for(c=e.length-1;c>=0;c--){if(e[c].end<=h){a=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,e[c].end);break}if(e[c].end>h&&e[c].start<=h){a=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,h);break}}return a},_getClosestWorkMinute:function(n,t,e){var r=new Date(n),a=this._getWorkHours(r),l=this._findClosestTimeInDay(r,e,a);return l||(r=this.calculateEndDate(r,e,"day"),e>0?r=this.$gantt.date.day_start(r):(r=this.$gantt.date.day_start(r),r=this.$gantt.date.add(r,1,"day"),r=new Date(r.valueOf()-1)),a=this._getWorkHours(r),l=this._findClosestTimeInDay(r,e,a)),e<0&&(l=this.$gantt.date.add(l,-1,t)),l},_getClosestWorkTimeGeneric:function(n,t,e){if(t==="hour"||t==="minute")return this._getClosestWorkMinute(n,t,e);for(var r=this._getUnitOrder(t),a=this.units[r-1],l=n,h=0;!this._isWorkTime(l,t)&&(!a||this._isWorkTime(l,a)||(l=e>0?this._getClosestWorkTimeFuture(l,a):this._getClosestWorkTimePast(l,a),!this._isWorkTime(l,t)));){if(++h>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var c=l.getTimezoneOffset();l=this.$gantt.date.add(l,e,t),l=this.$gantt._correct_dst_change(l,c,e,t),this.$gantt.date[t+"_start"]&&(l=this.$gantt.date[t+"_start"](l))}return l},hasWorkTime:function(){var n=this.getConfig(),t=n.dates,e=[];for(var r in n.dates)Number(r)>6&&e.push(Number(r));var a=this._checkWorkHours(n.hours),l=!1;return[0,1,2,3,4,5,6].forEach(function(h){if(!l){var c=t[h];c===!0?l=a:Array.isArray(c)&&(l=this._checkWorkHours(c))}}.bind(this)),l},_checkWorkHours:function(n){if(n.length===0)return!1;for(var t=!1,e=0;e<n.length;e+=2)n[e]!==n[e+1]&&(t=!0);return t},_isMinutePrecision:function(n){var t=!1;return this._getWorkHours(n).forEach(function(e){(e.startMinute%60||e.endMinute%60)&&(t=!0)}),t}},S.exports=o},function(S,C,d){var g=d(0);function f(){}f.prototype={_getIntervals:function(s){for(var u=[],i=0;i<s.length;i+=2)u.push({start:s[i],end:s[i+1]});return u},_toHoursArray:function(s){var u=[];function i(n){var t=Math.floor(n/3600),e=n-60*t*60;return t+":"+function(r){var a=String(r);return a.length<2&&(a="0"+a),a}(Math.floor(e/60))}for(var o=0;o<s.length;o++)u.push(i(s[o].start)+"-"+i(s[o].end));return u},_intersectHourRanges:function(s,u){var i=[],o=s.length>u.length?s:u,n=s===o?u:s;o=o.slice(),n=n.slice(),i=[];for(var t=0;t<o.length;t++)for(var e=o[t],r=0;r<n.length;r++){var a=n[r];a.start<e.end&&a.end>e.start&&(i.push({start:Math.max(e.start,a.start),end:Math.min(e.end,a.end)}),e.end>a.end&&(n.splice(r,1),r--,t--))}return i},_mergeAdjacentIntervals:function(s){var u=s.slice();u.sort(function(t,e){return t.start-e.start});for(var i=u[0],o=1;o<u.length;o++){var n=u[o];n.start<=i.end?(n.end>i.end&&(i.end=n.end),u.splice(o,1),o--):i=n}return u},_mergeHoursConfig:function(s,u){return this._mergeAdjacentIntervals(this._intersectHourRanges(s,u))},merge:function(s,u){var i=g.copy(s.getConfig().parsed),o=g.copy(u.getConfig().parsed),n={hours:this._toHoursArray(this._mergeHoursConfig(i.hours,o.hours)),dates:{},customWeeks:{}};for(var t in i.dates){var e=i.dates[t],r=o.dates[t];if(e&&r)if(Array.isArray(e)||Array.isArray(r)){var a=Array.isArray(e)?e:i.hours,l=Array.isArray(r)?r:o.hours;n.dates[t]=this._toHoursArray(this._mergeHoursConfig(a,l))}else n.dates[t]=!0;else n.dates[t]=!1}if(i.customWeeks)for(var t in i.customWeeks)n.customWeeks[t]=i.customWeeks[t];if(o.customWeeks)for(var t in o.customWeeks)n.customWeeks[t]=o.customWeeks[t];return n}},S.exports=f},function(S,C,d){var g=d(0),f=d(35),s=d(176),u=d(175),i=d(170),o=d(169)();function n(t){this.$gantt=t,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=i.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}.bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",function(){this.createDefaultCalendars()}.bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",function(){this.createDefaultCalendars()}.bind(this))}n.prototype={_calendars:{},_convertWorkTimeSettings:function(t){var e=t.days;if(e&&!t.dates){t.dates=t.dates||{};for(var r=0;r<e.length;r++)t.dates[r]=e[r],e[r]instanceof Array||(t.dates[r]=!!e[r])}return delete t.days,t},mergeCalendars:function(){var t=[],e=arguments;if(Array.isArray(e[0]))t=e[0].slice();else for(var r=0;r<arguments.length;r++)t.push(arguments[r]);var a,l=new s;return t.forEach(function(h){a=a?this._createCalendarFromConfig(l.merge(a,h)):h}.bind(this)),this.createCalendar(a)},_createCalendarFromConfig:function(t){var e=new u(this.$gantt,f(this.$gantt));e.id=String(g.uid());var r=this._convertWorkTimeSettings(t);if(r.customWeeks)for(var a in r.customWeeks)r.customWeeks[a]=this._convertWorkTimeSettings(r.customWeeks[a]);return e._setConfig(r),e},createCalendar:function(t){var e;t||(t={}),e=t.getConfig?g.copy(t.getConfig()):t.worktime?g.copy(t.worktime):g.copy(t);var r=g.copy(this.defaults.fulltime.worktime);return g.mixin(e,r),this._createCalendarFromConfig(e)},getCalendar:function(t){t=t||"global";var e=this._calendars[t];return e||(this.createDefaultCalendars(),e=this._calendars[t]),e},getCalendars:function(){var t=[];for(var e in this._calendars)t.push(this.getCalendar(e));return t},_getOwnCalendar:function(t){var e=this.$gantt.config;if(t[e.calendar_property])return this.getCalendar(t[e.calendar_property]);if(e.resource_calendars){var r;if(r=this._legacyConfig===!1?e.resource_property:i.getResourceProperty(e),Array.isArray(t[r]))e.dynamic_resource_calendars&&(a=o.getCalendarIdFromMultipleResources(t[r],this));else if(this._legacyConfig===void 0&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(e.resource_calendars)),this._legacyConfig)var a=i.getCalendarIdFromLegacyConfig(t,e.resource_calendars);else if(r&&t[r]&&e.resource_calendars[t[r]])var l=this.getResourceCalendar(t[r]);if(a&&(l=this.getCalendar(a)),l)return l}return null},getResourceCalendar:function(t){if(t==null)return this.getCalendar();var e=null;e=typeof t=="number"||typeof t=="string"?t:t.id||t.key;var r=this.$gantt.config,a=r.resource_calendars,l=null;if(a){if(this._legacyConfig===void 0&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(r.resource_calendars)),this._legacyConfig){for(var h in a)if(a[h][e]){l=a[h][e];break}}else l=a[e];if(l)return this.getCalendar(l)}return this.getCalendar()},getTaskCalendar:function(t){var e,r=this.$gantt;if(t==null)return this.getCalendar();if(!(e=typeof t!="number"&&typeof t!="string"||!r.isTaskExists(t)?t:r.getTask(t)))return this.getCalendar();var a=this._getOwnCalendar(e),l=!!r.getState().group_mode;if(!a&&r.config.inherit_calendar&&r.isTaskExists(e.parent)){for(var h=e;r.isTaskExists(h.parent)&&(h=r.getTask(h.parent),!r.isSummaryTask(h)||!(a=this._getOwnCalendar(h))););l&&!a&&t.$effective_calendar&&(a=this.getCalendar(t.$effective_calendar))}return a||this.getCalendar()},addCalendar:function(t){if(!this.isCalendar(t)){var e=t.id;(t=this.createCalendar(t)).id=e}if(t._tryChangeCalendarSettings(function(){})){var r=this.$gantt.config;return t.id=t.id||g.uid(),this._calendars[t.id]=t,r.worktimes||(r.worktimes={}),r.worktimes[t.id]=t.getConfig(),t.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},t]),null},deleteCalendar:function(t){var e=this.$gantt.config;return!!t&&!!this._calendars[t]&&(delete this._calendars[t],e.worktimes&&e.worktimes[t]&&delete e.worktimes[t],!0)},restoreConfigCalendars:function(t){for(var e in t)if(!this._calendars[e]){var r=t[e],a=this.createCalendar(r);a.id=e,this.addCalendar(a)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var t=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(t.worktimes)},isCalendar:function(t){return[t.isWorkTime,t.setWorkTime,t.getWorkHours,t.unsetWorkTime,t.getClosestWorkTime,t.calculateDuration,t.hasDuration,t.calculateEndDate].every(function(e){return e instanceof Function})}},S.exports=n},function(S,C,d){var g=d(177),f=d(168),s=d(166),u=d(0);S.exports=function(i){var o=new g(i),n=new f(o),t=s.create(o,n);u.mixin(i,t)}},function(S,C,d){function g(s){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}var f=d(2);S.exports=function(s){function u(i){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(i)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(i))}s.load=function(i,o,n){this._load_url=i,this.assert(arguments.length,"Invalid load arguments");var t="json",e=null;return arguments.length>=3?(t=o,e=n):typeof arguments[1]=="string"?t=arguments[1]:typeof arguments[1]=="function"&&(e=arguments[1]),this._load_type=t,this.callEvent("onLoadStart",[i,t]),this.ajax.get(i,s.bind(function(r){this.on_load(r,t),this.callEvent("onLoadEnd",[i,t]),typeof e=="function"&&e.call(this)},this))},s.parse=function(i,o){this.on_load({xmlDoc:{responseText:i}},o)},s.serialize=function(i){return this[i=i||"json"].serialize()},s.on_load=function(i,o){if(i.xmlDoc&&i.xmlDoc.status===404)this.assert(!1,"Failed to load the data from <a href='"+i.xmlDoc.responseURL+"' target='_blank'>"+i.xmlDoc.responseURL+"</a>, server returns 404");else if(!s.$destroyed){this.callEvent("onBeforeParse",[]),o||(o="json"),this.assert(this[o],"Invalid data type:'"+o+"'");var n=i.xmlDoc.responseText,t=this[o].parse(n,i);this._process_loading(t)}},s._process_loading=function(i){i.collections&&this._load_collections(i.collections),i.resources&&this.$data.resourcesStore&&this.$data.resourcesStore.parse(i.resources);var o=i.data||i.tasks;i.assignments&&function(t,e){var r={};e.forEach(function(a){r[a.task_id]||(r[a.task_id]=[]),r[a.task_id].push(a)}),t.forEach(function(a){a[s.config.resource_property]=r[a.id]||[]})}(o,i.assignments),this.$data.tasksStore.parse(o);var n=i.links||(i.collections?i.collections.links:[]);this.$data.linksStore.parse(n),this.callEvent("onParse",[]),this.render()},s._load_collections=function(i){var o=!1;for(var n in i)if(i.hasOwnProperty(n)){o=!0;var t=i[n];this.serverList[n]=this.serverList[n]||[];var e=this.serverList[n];if(!e)continue;e.splice(0,e.length);for(var r=0;r<t.length;r++){var a=t[r],l=this.copy(a);for(var h in l.key=l.value,a)if(a.hasOwnProperty(h)){if(h=="value"||h=="label")continue;l[h]=a[h]}e.push(l)}}o&&this.callEvent("onOptionsLoad",[])},s.attachEvent("onBeforeTaskDisplay",function(i,o){return!o.$ignore}),s.json={parse:function(i){if(i||u(i),typeof i=="string")if((typeof JSON>"u"?"undefined":g(JSON))!=null)try{i=JSON.parse(i)}catch{u(i)}else s.assert(!1,"JSON is not supported");return i.data||i.tasks||u(i),i.dhx_security&&(s.security_key=i.dhx_security),i},serializeTask:function(i){return this._copyObject(i)},serializeLink:function(i){return this._copyLink(i)},_copyLink:function(i){var o={};for(var n in i)o[n]=i[n];return o},_copyObject:function(i){var o={};for(var n in i)n.charAt(0)!="$"&&(o[n]=i[n],f.isDate(o[n])&&(o[n]=s.defined(s.templates.xml_format)?s.templates.xml_format(o[n]):s.templates.format_date(o[n])));return o},serialize:function(){var i=[],o=[];s.eachTask(function(e){s.resetProjectDates(e),i.push(this.serializeTask(e))},s.config.root_id,this);for(var n=s.getLinks(),t=0;t<n.length;t++)o.push(this.serializeLink(n[t]));return{data:i,links:o}}},s.xml={_xmlNodeToJSON:function(i,o){for(var n={},t=0;t<i.attributes.length;t++)n[i.attributes[t].name]=i.attributes[t].value;if(!o){for(t=0;t<i.childNodes.length;t++){var e=i.childNodes[t];e.nodeType==1&&(n[e.tagName]=e.firstChild?e.firstChild.nodeValue:"")}n.text||(n.text=i.firstChild?i.firstChild.nodeValue:"")}return n},_getCollections:function(i){for(var o={},n=s.ajax.xpath("//coll_options",i),t=0;t<n.length;t++)for(var e=o[n[t].getAttribute("for")]=[],r=s.ajax.xpath(".//item",n[t]),a=0;a<r.length;a++){for(var l=r[a].attributes,h={key:r[a].getAttribute("value"),label:r[a].getAttribute("label")},c=0;c<l.length;c++){var _=l[c];_.nodeName!="value"&&_.nodeName!="label"&&(h[_.nodeName]=_.nodeValue)}e.push(h)}return o},_getXML:function(i,o,n){n=n||"data",o.getXMLTopNode||(o=s.ajax.parse(o));var t=s.ajax.xmltop(n,o.xmlDoc);t&&t.tagName==n||function(r){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(r)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(r))}(i);var e=t.getAttribute("dhx_security");return e&&(s.security_key=e),t},parse:function(i,o){o=this._getXML(i,o);for(var n={},t=n.data=[],e=s.ajax.xpath("//task",o),r=0;r<e.length;r++)t[r]=this._xmlNodeToJSON(e[r]);return n.collections=this._getCollections(o),n},_copyLink:function(i){return"<item id='"+i.id+"' source='"+i.source+"' target='"+i.target+"' type='"+i.type+"' />"},_copyObject:function(i){return"<task id='"+i.id+"' parent='"+(i.parent||"")+"' start_date='"+i.start_date+"' duration='"+i.duration+"' open='"+!!i.open+"' progress='"+i.progress+"' end_date='"+i.end_date+"'><![CDATA["+i.text+"]]></task>"},serialize:function(){for(var i=[],o=[],n=s.json.serialize(),t=0,e=n.data.length;t<e;t++)i.push(this._copyObject(n.data[t]));for(t=0,e=n.links.length;t<e;t++)o.push(this._copyLink(n.links[t]));return"<data>"+i.join("")+"<coll_options for='links'>"+o.join("")+"</coll_options></data>"}},s.oldxml={parse:function(i,o){o=s.xml._getXML(i,o,"projects");for(var n={collections:{links:[]}},t=n.data=[],e=s.ajax.xpath("//task",o),r=0;r<e.length;r++){t[r]=s.xml._xmlNodeToJSON(e[r]);var a=e[r].parentNode;a.tagName=="project"?t[r].parent="project-"+a.getAttribute("id"):t[r].parent=a.parentNode.getAttribute("id")}for(e=s.ajax.xpath("//project",o),r=0;r<e.length;r++)(l=s.xml._xmlNodeToJSON(e[r],!0)).id="project-"+l.id,t.push(l);for(r=0;r<t.length;r++){var l;(l=t[r]).start_date=l.startdate||l.est,l.end_date=l.enddate,l.text=l.name,l.duration=l.duration/8,l.open=1,l.duration||l.end_date||(l.duration=1),l.predecessortasks&&n.collections.links.push({target:l.id,source:l.predecessortasks,type:s.config.links.finish_to_start})}return n},serialize:function(){s.message("Serialization to 'old XML' is not implemented")}},s.serverList=function(i,o){return o?this.serverList[i]=o.slice(0):this.serverList[i]||(this.serverList[i]=[]),this.serverList[i]}}},function(S,C){S.exports=function(d){d.isReadonly=function(g){return typeof g!="number"&&typeof g!="string"||!d.isTaskExists(g)||(g=d.getTask(g)),(!g||!g[this.config.editable_property])&&(g&&g[this.config.readonly_property]||this.config.readonly)}}},function(S,C){S.exports=function(d){d.getGridColumn=function(g){for(var f=d.config.columns,s=0;s<f.length;s++)if(f[s].name==g)return f[s];return null},d.getGridColumns=function(){return d.config.columns.slice()}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function f(s){this._scrollOrder=0;var u=s.gantt,i=s.grid,o=s.dnd,n=s.getCurrentX;this.$gantt=u,this.$grid=i,this._dnd=o,this.getCurrentX=n,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return f.prototype.attachEvents=function(){var s=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(u,i){var o=s.$grid.$grid.getBoundingClientRect(),n=o.right,t=o.left,e=s.getCurrentX(i.clientX);return e>=n-20&&(s.autoscrollRight(),s.autoscrollStart()),e<=t+20&&(s.autoscrollLeft(),s.autoscrollStart()),e<n-20&&e>t+20&&s.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){s.autoscrollStop()}))},f.prototype.autoscrollStart=function(){var s=this;if(this._scrollOrder!==0){var u=10*this._scrollOrder,i=this._scrollView.getScrollState();this._scrollView.scrollTo(i.position+u),setTimeout(function(){s.autoscrollStart()},50)}},f.prototype.autoscrollRight=function(){this._scrollOrder=1},f.prototype.autoscrollLeft=function(){this._scrollOrder=-1},f.prototype.autoscrollStop=function(){this._scrollOrder=0},f.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},f.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},f}();C.default=g},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(1),f=d(182),s=function(){function u(i,o){var n=this;this._targetMarker=null,this.calculateCurrentPosition=function(t){var e=n.$grid.$grid.getBoundingClientRect(),r=e.right,a=e.left,l=t;return l>r&&(l=r),l<a&&(l=a),l},this.$gantt=i,this.$grid=o}return u.prototype.init=function(){var i=this.$gantt.$services.getService("dnd");this._dnd=new i(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new f.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},u.prototype.attachEvents=function(){var i=this;this._dnd.attachEvent("onBeforeDragStart",function(o,n){if(i._draggedCell=i.$gantt.utils.dom.closest(n.target,".gantt_grid_head_cell"),i._draggedCell){var t,e,r=i.$grid.$getConfig().columns,a=i._draggedCell.getAttribute("data-column-id");return r.map(function(l,h){l.name===a&&(t=l,e=h)}),i.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:t,draggedIndex:e}])===!1?!1:!(!i._draggedCell||!t)&&(i._gridConfig=i.$grid.$getConfig(),i._originAutoscroll=i.$gantt.config.autoscroll,i.$gantt.config.autoscroll=!1,!0)}}),this._dnd.attachEvent("onAfterDragStart",function(o,n){i._draggedCell&&(i._dnd.config.column=i._draggedCell.getAttribute("data-column-id"),i._dnd.config.marker.innerHTML=i._draggedCell.outerHTML,i._dnd.config.marker.classList.add("gantt_column_drag_marker"),i._dnd.config.marker.style.height=i._gridConfig.scale_height+"px",i._dnd.config.marker.style.lineHeight=i._gridConfig.scale_height+"px",i._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",function(o,n){if(i._draggedCell){i._dragX=n.clientX;var t=i.calculateCurrentPosition(n.clientX),e=i.findColumnsIndexes(),r=e.targetIndex,a=e.draggedIndex,l=i.$grid.$getConfig().columns,h=l[a],c=l[r];return i.$grid.callEvent("onColumnDragMove",[{draggedColumn:h,targetColumn:c,draggedIndex:a,targetIndex:r}])===!1?(i.cleanTargetMarker(),!1):(i.setMarkerPosition(t),i.drawTargetMarker(e),!0)}}),this._dnd.attachEvent("onDragEnd",function(){i._draggedCell&&(i.$gantt.config.autoscroll=i._originAutoscroll,i._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),i.cleanTargetMarker(),i.reorderColumns())})},u.prototype.reorderColumns=function(){var i=this.findColumnsIndexes(),o=i.targetIndex,n=i.draggedIndex,t=this.$grid.$getConfig().columns,e=t[n],r=t[o];this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:e,targetColumn:r,draggedIndex:n,targetIndex:o}])!==!1&&o!==n&&(t.splice(n,1),t.splice(o,0,e),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:e,targetColumn:r,draggedIndex:n,targetIndex:o}]))},u.prototype.findColumnsIndexes=function(){var i,o,n,t,e,r=this._dnd.config.column,a=this.$grid.$getConfig().columns,l={startX:0,endX:0},h=0,c=a.length-1,_=function(k,y){return k<=y},p=function(k){return++k};this.$gantt.config.rtl&&(h=a.length-1,c=0,_=function(k,y){return k>=y},p=function(k){return--k});for(var v=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),m=h;_(m,c)&&(i===void 0||o===void 0);m=p(m))a[m].hide||(l.startX=l.endX,l.endX+=a[m].width,v>=l.startX&&(v<=l.endX||!_(p(m),c))&&(i=m,n=l.startX,t=l.endX,e=(v-l.startX)/(l.endX-l.startX)),r===a[m].name&&(o=m));return{targetIndex:i,draggedIndex:o,xBefore:n,xAfter:t,columnRelativePos:e}},u.prototype.setMarkerPosition=function(i,o){o===void 0&&(o=10);var n=this._dnd.config.marker,t=this._dnd._obj.getBoundingClientRect();n.style.top=t.y+o+"px",n.style.left=i+"px"},u.prototype.drawTargetMarker=function(i){var o,n=i.targetIndex,t=i.draggedIndex,e=i.xBefore,r=i.xAfter,a=i.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),g.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),o=n>t?r:n<t?e:a>.5?r:e,this._targetMarker.style.left=o+"px",this._targetMarker.style.display="block"},u.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},u}();C.ColumnsGridDnd=s},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(183);C.default=g.ColumnsGridDnd},function(S,C,d){var g=d(1);S.exports=function(f,s){var u={row_before_start:f.bind(function(i,o,n){var t=s.$getConfig(),e=s.$config.rowStore;if(!g.locateAttribute(n,t.task_grid_row_resizer_attribute))return!1;var r=this.locate(n,t.task_grid_row_resizer_attribute),a=e.getItem(r);return s.callEvent("onBeforeRowResize",[a])!==!1&&void 0},f),row_after_start:f.bind(function(i,o,n){var t=s.$getConfig(),e=this.locate(n,t.task_grid_row_resizer_attribute);i.config.marker.innerHTML="",i.config.marker.className+=" gantt_row_grid_resize_area",i.config.marker.style.width=s.$grid.offsetWidth+"px",i.config.drag_id=e},f),row_drag_move:f.bind(function(i,o,n){var t=s.$config.rowStore,e=s.$getConfig(),r=i.config,a=r.drag_id,l=s.getItemHeight(a),h=s.getItemTop(a),c=g.getNodePosition(s.$grid_data),_=parseInt(r.marker.style.top,10),p=h+c.y,v=0,m=e.min_task_grid_row_height;return(v=_-p)<m&&(v=m),r.marker.style.left=c.x+"px",r.marker.style.top=p-1+"px",r.marker.style.height=Math.abs(v)+1+"px",r.marker_height=v,s.callEvent("onRowResize",[a,t.getItem(a),v+l]),!0},f),row_drag_end:f.bind(function(i,o,n){var t=s.$config.rowStore,e=i.config,r=e.drag_id,a=t.getItem(r),l=s.getItemHeight(r),h=e.marker_height;s.callEvent("onBeforeRowResizeEnd",[r,a,h])!==!1&&a.row_height!=h&&(a.row_height=h,f.updateTask(r),s.callEvent("onAfterRowResize",[r,a,l,h]),this.render())},f)};return{init:function(){var i=f.$services.getService("dnd"),o=s.$getConfig(),n=new i(s.$grid_data,{updates_per_second:60});f.defined(o.dnd_sensitivity)&&(n.config.sensitivity=o.dnd_sensitivity),n.attachEvent("onBeforeDragStart",function(t,e){return u.row_before_start(n,t,e)}),n.attachEvent("onAfterDragStart",function(t,e){return u.row_after_start(n,t,e)}),n.attachEvent("onDragMove",function(t,e){return u.row_drag_move(n,t,e)}),n.attachEvent("onDragEnd",function(t,e){return u.row_drag_end(n,t,e)})}}}},function(S,C){S.exports=function(d){var g=-1,f=-1;return{resetCache:function(){g=-1,f=-1},_getRowHeight:function(){return g===-1&&(g=d.$getConfig().row_height),g},_refreshState:function(){this.resetCache(),f=!0;var s=d.$config.rowStore;if(s)for(var u=this._getRowHeight(),i=0;i<s.fullOrder.length;i++){var o=s.getItem(s.fullOrder[i]);if(o&&o.row_height&&o.row_height!==u){f=!1;break}}},canUseSimpleCalculation:function(){return f===-1&&this._refreshState(),f},getRowTop:function(s){return d.$config.rowStore?s*this._getRowHeight():0},getItemHeight:function(s){return this._getRowHeight()},getTotalHeight:function(){return d.$config.rowStore?d.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(s){return d.$config.rowStore?Math.floor(s/this._getRowHeight()):0}}}},function(S,C){S.exports=function(d,g){return{init:function(){},doOnRender:function(){}}}},function(S,C,d){var g=d(25);S.exports=function(f){d(181)(f),g.prototype.getGridColumns=function(){for(var s=this.$getConfig().columns,u=[],i=0;i<s.length;i++)s[i].hide||u.push(s[i]);return u}}},function(S,C,d){S.exports=function(g){var f=d(40),s={};g.attachEvent("onClearAll",function(){s={}});var u=f.prototype.hasChild;g.$data.tasksStore.hasChild=function(i){return g.config.branch_loading?!!u.call(this,i)||!!this.exists(i)&&this.getItem(i)[g.config.branch_loading_property]:u.call(this,i)},g.attachEvent("onTaskOpened",function(i){if(g.config.branch_loading&&g._load_url&&function(r){return!(!g.config.branch_loading||!g._load_url||s[r]||g.getChildren(r).length||!g.hasChild(r))}(i)){var o=g._load_url,n=(o=o.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",t=g.getScrollState().y||0,e={taskId:i,url:o+n+"parent_id="+encodeURIComponent(i)};if(g.callEvent("onBeforeBranchLoading",[e])===!1)return;g.load(e.url,this._load_type,function(){t&&g.scrollTo(null,t),g.callEvent("onAfterBranchLoading",[e])}),s[i]=!0}})}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(g){g.ext=g.ext||{},g.config.show_empty_state=!1,g.ext.emptyStateElement=g.ext.emptyStateElement||{isEnabled:function(){return g.config.show_empty_state===!0},isGanttEmpty:function(){return!g.getTaskByTime().length},renderContent:function(f){var s=`<div class='gantt_empty_state'><div class='gantt_empty_state_image'></div><div class='gantt_empty_state_text'>
    <div class='gantt_empty_state_text_link' data-empty-state-create-task>`+g.locale.labels.empty_state_text_link+`</div>
    <div class='gantt_empty_state_text_description'>`+g.locale.labels.empty_state_text_description+`</div>
    </div></div>`;f.innerHTML=s},clickEvents:[],attachAddTaskEvent:function(){var f=g.attachEvent("onEmptyClick",function(s){g.utils.dom.closest(s.target,"[data-empty-state-create-task]")&&g.createTask({id:g.uid(),text:"New Task"})});this.clickEvents.push(f)},detachAddTaskEvents:function(){this.clickEvents.forEach(function(f){g.detachEvent(f)}),this.clickEvents=[]},getContainer:function(){if(g.$container){var f=g.utils.dom;if(g.$container.contains(g.$grid_data))return f.closest(g.$grid_data,".gantt_layout_content");if(g.$container.contains(g.$task_data))return f.closest(g.$task_data,".gantt_layout_content")}return null},getNode:function(){var f=this.getContainer();return f?f.querySelector(".gantt_empty_state_wrapper"):null},show:function(){var f=this.getContainer();if(!f&&this.isGanttEmpty())return null;var s=document.createElement("div");s.className="gantt_empty_state_wrapper",s.style.marginTop=g.config.scale_height-f.offsetHeight+"px";var u=g.$container.querySelectorAll(".gantt_empty_state_wrapper");Array.prototype.forEach.call(u,function(i){i.parentNode.removeChild(i)}),this.detachAddTaskEvents(),this.attachAddTaskEvent(),f.appendChild(s),this.renderContent(s)},hide:function(){var f=this.getNode();if(!f)return!1;f.parentNode.removeChild(f)},init:function(){}},g.attachEvent("onDataRender",function(){var f=g.ext.emptyStateElement;f.isEnabled()&&f.isGanttEmpty()?f.show():f.hide()})}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function f(s){var u=this;this.format=function(i){return u._getWBSCode(i.source)},this.canParse=function(i){return u._linkReg.test(i)},this.parse=function(i){if(!u.canParse(i))return null;var o=u._linkReg.exec(i)[0].trim();return{id:void 0,source:u._findSource(o)||null,target:null,type:u._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(i){var o=u._gantt.getTask(i);return u._gantt.getWBSCode(o)},this._findSource=function(i){var o=new RegExp("^[0-9.]+","i");if(o.exec(i)){var n=o.exec(i)[0],t=u._gantt.getTaskByWBSCode(n);if(t)return t.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=s}return f.create=function(s,u){return s===void 0&&(s=null),new f(u)},f}();C.default=g},function(S,C,d){var g=d(37).default,f=d(191).default;S.exports=function(s){s.ext.formatters={durationFormatter:function(u){return u||(u={}),u.store||(u.store=s.config.duration_unit),u.enter||(u.enter=s.config.duration_unit),g.create(u,s)},linkFormatter:function(u){return f.create(u,s)}}}},function(S,C){S.exports=function(d){function g(r){return function(){return!d.config.auto_types||d.getTaskType(d.config.types.project)!=d.config.types.project||r.apply(this,arguments)}}function f(r,a){var l=d.getTask(r),h=i(l);h!==!1&&d.getTaskType(l)!==h&&(a.$needsUpdate=!0,a[l.id]={task:l,type:h})}function s(r){if(!d.getState().group_mode){var a=function(l,h){return f(l,h=h||{}),d.eachParent(function(c){f(c.id,h)},l),h}(r);a.$needsUpdate&&d.batchUpdate(function(){(function(l){for(var h in l)if(l[h]&&l[h].task){var c=l[h].task;c.type=l[h].type,d.updateTask(c.id)}})(a)})}}var u;function i(r){var a=d.config.types,l=d.hasChild(r.id),h=d.getTaskType(r.type);return l&&h===a.task?a.project:!l&&h===a.project&&a.task}var o,n,t=!0;function e(r){r!=d.config.root_id&&d.isTaskExists(r)&&s(r)}d.attachEvent("onParse",g(function(){t=!1,d.getState().group_mode||(d.batchUpdate(function(){d.eachTask(function(r){var a=i(r);a!==!1&&function(l,h){d.getState().group_mode||(l.type=h,d.updateTask(l.id))}(r,a)})}),t=!0)})),d.attachEvent("onAfterTaskAdd",g(function(r){t&&s(r)})),d.attachEvent("onAfterTaskUpdate",g(function(r){t&&s(r)})),d.attachEvent("onBeforeTaskDelete",g(function(r,a){return u=d.getParent(r),!0})),d.attachEvent("onAfterTaskDelete",g(function(r,a){e(u)})),d.attachEvent("onRowDragStart",g(function(r,a,l){return o=d.getParent(r),!0})),d.attachEvent("onRowDragEnd",g(function(r,a){e(o),s(r)})),d.attachEvent("onBeforeTaskMove",g(function(r,a,l){return n=d.getParent(r),!0})),d.attachEvent("onAfterTaskMove",g(function(r,a,l){document.querySelector(".gantt_drag_marker")||(e(n),s(r))}))}},function(S,C){S.exports=function(d){function g(n){return function(){return!d.config.placeholder_task||n.apply(this,arguments)}}function f(){var n=d.getTaskBy("type",d.config.types.placeholder);if(!n.length||!d.isTaskExists(n[0].id)){var t={unscheduled:!0,type:d.config.types.placeholder,duration:0,text:d.locale.labels.new_task};if(d.callEvent("onTaskCreated",[t])===!1)return;d.addTask(t)}}function s(n){var t=d.getTask(n);t.type==d.config.types.placeholder&&(t.start_date&&t.end_date&&t.unscheduled&&(t.unscheduled=!1),d.batchUpdate(function(){var e=d.copy(t);d.silent(function(){d.deleteTask(t.id)}),delete e["!nativeeditor_status"],e.type=d.config.types.task,e.id=d.uid(),d.addTask(e)}))}d.config.types.placeholder="placeholder",d.attachEvent("onDataProcessorReady",g(function(n){n&&!n._silencedPlaceholder&&(n._silencedPlaceholder=!0,n.attachEvent("onBeforeUpdate",g(function(t,e,r){return r.type!=d.config.types.placeholder||(n.setUpdated(t,!1),!1)})))}));var u=!1;function i(n){return!!(d.config.types.placeholder&&d.isTaskExists(n)&&d.getTask(n).type==d.config.types.placeholder)}function o(n){return!(!i(n.source)&&!i(n.target))}d.attachEvent("onGanttReady",function(){u||(u=!0,d.attachEvent("onAfterTaskUpdate",g(s)),d.attachEvent("onAfterTaskAdd",g(function(n,t){t.type!=d.config.types.placeholder&&(d.getTaskBy("type",d.config.types.placeholder).forEach(function(e){d.silent(function(){d.isTaskExists(e.id)&&d.deleteTask(e.id)})}),f())})),d.attachEvent("onParse",g(f)))}),d.attachEvent("onLinkValidation",function(n){return!o(n)}),d.attachEvent("onBeforeLinkAdd",function(n,t){return!o(t)}),d.attachEvent("onBeforeUndoStack",function(n){for(var t=0;t<n.commands.length;t++){var e=n.commands[t];e.entity==="task"&&e.value.type===d.config.types.placeholder&&(n.commands.splice(t,1),t--)}return!0})}},function(S,C){S.exports=function(d){var g="$resourceAssignments";d.config.resource_assignment_store="resourceAssignments",d.config.process_resource_assignments=!0;var f={auto:"auto",singleValue:"singleValue",valueArray:"valueArray",resourceValueArray:"resourceValueArray",assignmentsArray:"assignmentsArray"},s=f.auto,u={fixedDates:"fixedDates",fixedDuration:"fixedDuration",default:"default"};function i(c,_){c.start_date?c.start_date=d.date.parseDate(c.start_date,"parse_date"):c.start_date=null,c.end_date?c.end_date=d.date.parseDate(c.end_date,"parse_date"):c.end_date=null;var p=Number(c.delay),v=!1;if(isNaN(p)?(c.delay=0,v=!0):c.delay=p,d.defined(c.value)||(c.value=null),!c.task_id||!c.resource_id)return!1;if(c.mode=c.mode||u.default,c.mode===u.fixedDuration&&(isNaN(Number(c.duration))&&(_=_||d.getTask(c.task_id),c.duration=d.calculateDuration({start_date:c.start_date,end_date:c.end_date,id:_})),v&&(_=_||d.getTask(c.task_id),c.delay=d.calculateDuration({start_date:_.start_date,end_date:c.start_date,id:_}))),c.mode!==u.fixedDates&&(_||d.isTaskExists(c.task_id))){var m=n(c,_=_||d.getTask(c.task_id));c.start_date=m.start_date,c.end_date=m.end_date,c.duration=m.duration}}var o=d.createDatastore({name:d.config.resource_assignment_store,initItem:function(c){return c.id||(c.id=d.uid()),i(c),c}});function n(c,_){if(c.mode===u.fixedDates)return{start_date:c.start_date,end_date:c.end_date,duration:c.duration};var p,v,m=c.delay?d.calculateEndDate({start_date:_.start_date,duration:c.delay,task:_}):new Date(_.start_date);return c.mode===u.fixedDuration?(p=d.calculateEndDate({start_date:m,duration:c.duration,task:_}),v=c.duration):(p=new Date(_.end_date),v=_.duration-c.delay),{start_date:m,end_date:p,duration:v}}function t(c){var _=d.config.resource_property,p=c[_],v=[],m=s===f.auto;if(d.defined(p)&&p){Array.isArray(p)||(p=[p],m&&(s=f.singleValue,m=!1));var k={};p.forEach(function(y){y.resource_id||(y={resource_id:y},m&&(s=f.valueArray,m=!1)),m&&(y.id&&y.resource_id?(s=f.assignmentsArray,m=!1):(s=f.resourceValueArray,m=!1));var w,$=u.default;y.mode||(y.start_date&&y.end_date||y.start_date&&y.duration)&&($=u.fixedDuration),w=y.id||!y.$id||k[y.$id]?y.id&&!k[y.id]?y.id:d.uid():y.$id,k[w]=!0;var b={id:w,start_date:y.start_date,duration:y.duration,end_date:y.end_date,delay:y.delay,task_id:c.id,resource_id:y.resource_id,value:y.value,mode:y.mode||$};b.start_date&&b.start_date.getMonth&&b.end_date&&b.end_date.getMonth&&typeof b.duration=="number"||i(b,c),v.push(b)})}return v}function e(c){if(d.isTaskExists(c)){var _=d.getTask(c);r(_,d.getTaskAssignments(_.id))}}function r(c,_){_.sort(function(p,v){return p.start_date&&v.start_date&&p.start_date.valueOf()!=v.start_date.valueOf()?p.start_date-v.start_date:0}),s==f.assignmentsArray?c[d.config.resource_property]=_:s==f.resourceValueArray&&(c[d.config.resource_property]=_.map(function(p){return{$id:p.id,start_date:p.start_date,duration:p.duration,end_date:p.end_date,delay:p.delay,resource_id:p.resource_id,value:p.value,mode:p.mode}})),c[g]=_}function a(c){var _=t(c),p=[];return _.forEach(function(v){v.id=v.id||d.uid(),p.push(v)}),_}function l(c,_){var p=function(v,m){var k={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(s==f.singleValue){var y=v[0],w=y?y.resource_id:null,$=!1;m.forEach(function(E){E.resource_id!=w?k.inStoreNotInTask.push(E):E.resource_id==w&&(k.inBoth.push({store:E,task:y}),$=!0)}),!$&&y&&k.inTaskNotInStore.push(y)}else if(s==f.valueArray){var b={},x={},T={};v.forEach(function(E){b[E.resource_id]=E}),m.forEach(function(E){x[E.resource_id]=E}),v.concat(m).forEach(function(E){if(!T[E.resource_id]){T[E.resource_id]=!0;var D=b[E.resource_id],A=x[E.resource_id];D&&A?k.inBoth.push({store:A,task:D}):D&&!A?k.inTaskNotInStore.push(D):!D&&A&&k.inStoreNotInTask.push(A)}})}else s!=f.assignmentsArray&&s!=f.resourceValueArray||(b={},x={},T={},v.forEach(function(E){b[E.id||E.$id]=E}),m.forEach(function(E){x[E.id]=E}),v.concat(m).forEach(function(E){var D=E.id||E.$id;if(!T[D]){T[D]=!0;var A=b[D],M=x[D];A&&M?k.inBoth.push({store:M,task:A}):A&&!M?k.inTaskNotInStore.push(A):!A&&M&&k.inStoreNotInTask.push(M)}}));return k}(t(c),_);p.inStoreNotInTask.forEach(function(v){o.removeItem(v.id)}),p.inTaskNotInStore.forEach(function(v){o.addItem(v)}),p.inBoth.forEach(function(v){if(function(k,y){var w={id:!0};for(var $ in k)if(!w[$]&&String(k[$])!==String(y[$]))return!0;return!1}(v.task,v.store))(function(k,y){var w={id:!0};for(var $ in k)w[$]||(y[$]=k[$])})(v.task,v.store),o.updateItem(v.store.id);else if(v.task.start_date&&v.task.end_date&&v.task.mode!==u.fixedDates){var m=n(v.store,c);v.store.start_date.valueOf()==m.start_date.valueOf()&&v.store.end_date.valueOf()==m.end_date.valueOf()||(v.store.start_date=m.start_date,v.store.end_date=m.end_date,v.store.duration=m.duration,o.updateItem(v.store.id))}}),e(c.id)}function h(c){var _=c[g]||o.find(function(p){return p.task_id==c.id});l(c,_)}d.$data.assignmentsStore=o,d.attachEvent("onGanttReady",function(){if(d.config.process_resource_assignments){d.attachEvent("onParse",function(){d.silent(function(){o.clearAll();var w=[];d.eachTask(function($){if($.type!==d.config.types.project){var b=a($);r($,b),b.forEach(function(x){w.push(x)})}}),o.parse(w)})});var c=!1,_=!1,p={},v=!1;d.attachEvent("onBeforeBatchUpdate",function(){c=!0}),d.attachEvent("onAfterBatchUpdate",function(){if(_){var w={};for(var $ in p)w[$]=d.getTaskAssignments(p[$].id);for(var $ in p)l(p[$],w[$])}_=!1,c=!1,p={}}),d.attachEvent("onTaskCreated",function(w){var $=a(w);return o.parse($),r(w,$),!0}),d.attachEvent("onAfterTaskUpdate",function(w,$){c?(_=!0,p[w]=$):h($)}),d.attachEvent("onAfterTaskAdd",function(w,$){c?(_=!0,p[w]=$):h($)}),d.attachEvent("onRowDragEnd",function(w){h(d.getTask(w))}),d.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(w,$){var b=[w];d.eachTask(function(x){b.push(x.id)},w),function(x){var T={};x.forEach(function(E){T[E]=!0}),o.find(function(E){return T[E.task_id]}).forEach(function(E){o.removeItem(E.id)})}(b)}),d.$data.tasksStore.attachEvent("onClearAll",function(){return m=null,k=null,y=null,o.clearAll(),!0}),d.attachEvent("onTaskIdChange",function(w,$){o.find(function(b){return b.task_id==w}).forEach(function(b){b.task_id=$,o.updateItem(b.id)}),e($)}),d.attachEvent("onBeforeUndo",function(w){return v=!0,!0}),d.attachEvent("onAfterUndo",function(w){v=!0});var m=null,k=null,y=null;o.attachEvent("onStoreUpdated",function(){return!(!c||v)||(m=null,k=null,y=null,!0)}),d.getResourceAssignments=function(w,$){var b=d.defined($)&&$!==null;return m===null&&(m={},k={},o.eachItem(function(x){m[x.resource_id]||(m[x.resource_id]=[]),m[x.resource_id].push(x);var T=x.resource_id+"-"+x.task_id;k[T]||(k[T]=[]),k[T].push(x)})),b?(k[w+"-"+$]||[]).slice():(m[w]||[]).slice()},d.getTaskAssignments=function(w){if(y===null){var $=[];y={},o.eachItem(function(b){y[b.task_id]||(y[b.task_id]=[]),y[b.task_id].push(b),b.task_id==w&&$.push(b)})}return(y[w]||[]).slice()},d.getTaskResources=function(w){var $=d.getDatastore("resource"),b={};d.getTaskAssignments(w).forEach(function(D){b[D.resource_id]||(b[D.resource_id]=D.resource_id)});var x=[];for(var T in b){var E=$.getItem(b[T]);E&&x.push(E)}return x},d.updateTaskAssignments=e}},{once:!0})}},function(S,C,d){var g=d(2);function f(s){var u={},i=!1;s.$data.tasksStore.attachEvent("onStoreUpdated",function(){u={},i=!1}),s.attachEvent("onBeforeGanttRender",function(){u={}});var o=String(Math.random());function n(a){return a===null?o+String(a):String(a)}function t(a,l,h){return Array.isArray(a)?a.map(function(c){return n(c)}).join("_")+"_".concat(l,"_").concat(h):n(a)+"_".concat(l,"_").concat(h)}function e(a,l,h){var c,_=t(l,a,JSON.stringify(h)),p={};return g.forEach(l,function(v){p[n(v)]=!0}),u[_]?c=u[_]:(c=u[_]=[],s.eachTask(function(v){if(h){if(!h[s.getTaskType(v)])return}else if(v.type==s.config.types.project)return;var m;a in v&&(m=g.isArray(v[a])?v[a]:[v[a]],g.forEach(m,function(k){var y=k&&k.resource_id?k.resource_id:k;if(p[n(y)])c.push(v);else if(!i){var w=t(k,a);u[w]||(u[w]=[]),u[w].push(v)}}))}),i=!0),c}function r(a,l,h){var c=s.config.resource_property,_=[];if(s.getDatastore("task").exists(l)){var p=s.getTask(l);_=p[c]||[]}Array.isArray(_)||(_=[_]);for(var v=0;v<_.length;v++)_[v].resource_id==a&&h.push({task_id:p.id,resource_id:_[v].resource_id,value:_[v].value})}return{getTaskBy:function(a,l,h){return typeof a=="function"?function(c){var _=[];return s.eachTask(function(p){c(p)&&_.push(p)}),_}(a):g.isArray(l)?e(a,l,h):e(a,[l],h)},getResourceAssignments:function(a,l){var h=[],c=s.config.resource_property;return l!==void 0?r(a,l,h):s.getTaskBy(c,a).forEach(function(_){r(a,_.id,h)}),h}}}S.exports=function(s){var u=f(s);s.ext.resources=function(n){var t={renderEditableLabel:function(e,r,a,l,h){var c=n.config.readonly?"":"contenteditable";if(e<a.end_date&&r>a.start_date){for(var _=0;_<h.length;_++){var p=h[_];return"<div "+c+" data-assignment-cell data-assignment-id='"+p.id+"' data-row-id='"+a.id+"' data-task='"+a.$task_id+"' data-start-date='"+n.templates.format_date(e)+"' data-end-date='"+n.templates.format_date(r)+"'>"+p.value+"</div>"}return"<div "+c+" data-assignment-cell data-empty  data-row-id='"+a.id+"' data-resource-id='"+a.$resource_id+"' data-task='"+a.$task_id+"' data-start-date='"+n.templates.format_date(e)+"''  data-end-date='"+n.templates.format_date(r)+"'>-</div>"}return""},renderSummaryLabel:function(e,r,a,l,h){var c=h.reduce(function(_,p){return _+Number(p.value)},0);return c%1&&(c=Math.round(10*c)/10),c?"<div>"+c+"</div>":""},editableResourceCellTemplate:function(e,r,a,l,h){return a.$role==="task"?t.renderEditableLabel(e,r,a,l,h):t.renderSummaryLabel(e,r,a,l,h)},editableResourceCellClass:function(e,r,a,l,h){var c=[];c.push("resource_marker"),a.$role==="task"?c.push("task_cell"):c.push("resource_cell");var _=h.reduce(function(v,m){return v+Number(m.value)},0),p=Number(a.capacity);return isNaN(p)&&(p=8),_<=p?c.push("workday_ok"):c.push("workday_over"),c.join(" ")},getSummaryResourceAssignments:function(e){var r,a=n.getDatastore(n.config.resource_store),l=a.getItem(e);return l.$role==="task"?r=n.getResourceAssignments(l.$resource_id,l.$task_id):(r=n.getResourceAssignments(e),a.eachItem&&a.eachItem(function(h){h.$role!=="task"&&(r=r.concat(n.getResourceAssignments(h.id)))},e)),r},initEditableDiagram:function(){n.config.resource_render_empty_cells=!0,function(){var e=null;function r(){return e&&cancelAnimationFrame(e),e=requestAnimationFrame(function(){Array.prototype.slice.call(n.$container.querySelectorAll(".resourceTimeline_cell [data-assignment-cell]")).forEach(function(a){a.contentEditable=!0})}),!0}n.attachEvent("onGanttReady",function(){n.getDatastore(n.config.resource_assignment_store).attachEvent("onStoreUpdated",r),n.getDatastore(n.config.resource_store).attachEvent("onStoreUpdated",r)},{once:!0}),n.attachEvent("onGanttLayoutReady",function(){n.$layout.getCellsByType("viewCell").forEach(function(a){a.$config&&a.$config.view==="resourceTimeline"&&a.$content&&a.$content.attachEvent("onScroll",r)})})}(),n.attachEvent("onGanttReady",function(){var e=!1;n.event(n.$container,"keypress",function(r){var a=r.target.closest(".resourceTimeline_cell [data-assignment-cell]");a&&(r.keyCode!==13&&r.keyCode!==27||a.blur())}),n.event(n.$container,"focusout",function(r){if(!e){e=!0,setTimeout(function(){e=!1},300);var a=r.target.closest(".resourceTimeline_cell [data-assignment-cell]");if(a){var l=(a.innerText||"").trim();l=="-"&&(l="0");var h=Number(l),c=a.getAttribute("data-row-id"),_=a.getAttribute("data-assignment-id"),p=a.getAttribute("data-task"),v=a.getAttribute("data-resource-id"),m=n.templates.parse_date(a.getAttribute("data-start-date")),k=n.templates.parse_date(a.getAttribute("data-end-date")),y=n.getDatastore(n.config.resource_assignment_store);if(isNaN(h))n.getDatastore(n.config.resource_store).refresh(c);else{var w=n.getTask(p);if(n.plugins().undo&&n.ext.undo.saveState(p,"task"),_){if(h===(b=y.getItem(_)).value)return;if(b.start_date.valueOf()===m.valueOf()&&b.end_date.valueOf()===k.valueOf())b.value=h,h?y.updateItem(b.id):y.removeItem(b.id);else{if(b.end_date.valueOf()>k.valueOf()){var $=n.copy(b);$.id=n.uid(),$.start_date=k,$.duration=n.calculateDuration({start_date:$.start_date,end_date:$.end_date,task:w}),$.delay=n.calculateDuration({start_date:w.start_date,end_date:$.start_date,task:w}),$.mode=b.mode||"default",$.duration!==0&&y.addItem($)}b.start_date.valueOf()<m.valueOf()?(b.end_date=m,b.duration=n.calculateDuration({start_date:b.start_date,end_date:b.end_date,task:w}),b.mode="fixedDuration",b.duration===0?y.removeItem(b.id):y.updateItem(b.id)):y.removeItem(b.id),h&&y.addItem({task_id:b.task_id,resource_id:b.resource_id,value:h,start_date:m,end_date:k,duration:n.calculateDuration({start_date:m,end_date:k,task:w}),delay:n.calculateDuration({start_date:w.start_date,end_date:m,task:w}),mode:"fixedDuration"})}n.updateTaskAssignments(w.id),n.updateTask(w.id)}else if(h){var b={task_id:p,resource_id:v,value:h,start_date:m,end_date:k,duration:n.calculateDuration({start_date:m,end_date:k,task:w}),delay:n.calculateDuration({start_date:w.start_date,end_date:m,task:w}),mode:"fixedDuration"};y.addItem(b),n.updateTaskAssignments(w.id),n.updateTask(w.id)}}}}})},{once:!0})}};return t}(s),s.config.resources={dataprocessor_assignments:!1,dataprocessor_resources:!1,editable_resource_diagram:!1,resource_store:{type:"treeDataStore",fetchTasks:!1,initItem:function(n){return n.parent=n.parent||s.config.root_id,n[s.config.resource_property]=n.parent,n.open=!0,n}},lightbox_resources:function(n){var t=[],e=s.getDatastore(s.config.resource_store);return n.forEach(function(r){if(!e.hasChild(r.id)){var a=s.copy(r);a.key=r.id,a.label=r.text,t.push(a)}}),t}},s.attachEvent("onBeforeGanttReady",function(){if(!s.getDatastore(s.config.resource_store)){var n=s.config.resources?s.config.resources.resource_store:void 0,t=n?n.fetchTasks:void 0;s.config.resources&&s.config.resources.editable_resource_diagram&&(t=!0);var e=function(a){return a.parent=a.parent||s.config.root_id,a[s.config.resource_property]=a.parent,a.open=!0,a};n&&n.initItem&&(e=n.initItem);var r=n&&n.type?n.type:"treeDatastore";s.$resourcesStore=s.createDatastore({name:s.config.resource_store,type:r,fetchTasks:t!==void 0&&t,initItem:e}),s.$data.resourcesStore=s.$resourcesStore,s.$resourcesStore.attachEvent("onParse",function(){var a=function(h){var c=[];return h.forEach(function(_){if(!s.$resourcesStore.hasChild(_.id)){var p=s.copy(_);p.key=_.id,p.label=_.text,c.push(p)}}),c};s.config.resources&&s.config.resources.lightbox_resources&&(a=s.config.resources.lightbox_resources);var l=a(s.$resourcesStore.getItems());s.updateCollection("resourceOptions",l)})}}),s.getTaskBy=u.getTaskBy,s.getResourceAssignments=u.getResourceAssignments,s.config.resource_property="owner_id",s.config.resource_store="resource",s.config.resource_render_empty_cells=!1,s.templates.histogram_cell_class=function(n,t,e,r,a){},s.templates.histogram_cell_label=function(n,t,e,r,a){return r.length+"/3"},s.templates.histogram_cell_allocated=function(n,t,e,r,a){return r.length/3},s.templates.histogram_cell_capacity=function(n,t,e,r,a){return 0};var i=function(n,t,e,r,a){return r.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},o=function(n,t,e,r,a){return 8*r.length};s.templates.resource_cell_value=o,s.templates.resource_cell_class=i,s.attachEvent("onBeforeGanttReady",function(){s.config.resources&&s.config.resources.editable_resource_diagram&&(s.config.resource_render_empty_cells=!0,s.templates.resource_cell_value===o&&(s.templates.resource_cell_value=s.ext.resources.editableResourceCellTemplate),s.templates.resource_cell_class===i&&(s.templates.resource_cell_class=s.ext.resources.editableResourceCellClass),s.ext.resources.initEditableDiagram(s))})}},function(S,C){S.exports=function(d){var g=function(s){return{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!s.getState().group_mode},_getWBSCode:function(u){return u?(this._isRecalcNeeded()&&this._calcWBS(),u.$virtual?"":this._isGroupSort()?u.$wbs||"":(u.$wbs||(this.reset(),this._calcWBS()),u.$wbs)):""},_setWBSCode:function(u,i){u.$wbs=i},getWBSCode:function(u){return this._getWBSCode(u)},getByWBSCode:function(u){for(var i=u.split("."),o=s.config.root_id,n=0;n<i.length;n++){var t=s.getChildren(o),e=1*i[n]-1;if(!s.isTaskExists(t[e]))return null;o=t[e]}return s.isTaskExists(o)?s.getTask(o):null},_calcWBS:function(){if(this._isRecalcNeeded()){var u=!0;s.eachTask(function(i){if(u)return u=!1,void this._setWBSCode(i,"1");var o=s.getPrevSibling(i.id);if(o!==null){var n=s.getTask(o).$wbs;n&&((n=n.split("."))[n.length-1]++,this._setWBSCode(i,n.join(".")))}else{var t=s.getParent(i.id);this._setWBSCode(i,s.getTask(t).$wbs+".1")}},s.config.root_id,this),this._needRecalc=!1}}}}(d);function f(){return g.reset(),!0}d.getWBSCode=function(s){return g.getWBSCode(s)},d.getTaskByWBSCode=function(s){return g.getByWBSCode(s)},d.attachEvent("onAfterTaskMove",f),d.attachEvent("onBeforeParse",f),d.attachEvent("onAfterTaskDelete",f),d.attachEvent("onAfterTaskAdd",f),d.attachEvent("onAfterSort",f)}},function(S,C,d){var g=d(16);function f(s){var u={},i=!1;function o(r,a){a=typeof a=="function"?a:function(){},u[r]||(u[r]=this[r],this[r]=a)}function n(r){u[r]&&(this[r]=u[r],u[r]=null)}function t(){for(var r in u)n.call(this,r)}function e(r){try{r()}catch(a){g.console.error(a)}}return s.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:i}},!1),function(r,a){if(i)e(r);else{var l,h=this._dp&&this._dp.updateMode!="off";h&&(l=this._dp.updateMode,this._dp.setUpdateMode("off"));var c={},_={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(v){c[v.id]=v}};for(var p in function(v){for(var m in v)o.call(this,m,v[m])}.call(this,_),i=!0,this.callEvent("onBeforeBatchUpdate",[]),e(r),this.callEvent("onAfterBatchUpdate",[]),t.call(this),c)this.resetProjectDates(c[p]);i=!1,a||this.render(),h&&(this._dp.setUpdateMode(l),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}S.exports=function(s){s.batchUpdate=f(s)}},function(S,C,d){S.exports=function(g){g.ext||(g.ext={});for(var f=[d(198),d(197),d(196),d(195),d(194),d(193),d(192),d(190).default],s=0;s<f.length;s++)f[s]&&f[s](g)}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(0),f=function(){function s(){var u=this;this.clear=function(){u._storage={}},this.storeItem=function(i){u._storage[i.id]=g.copy(i)},this.getStoredItem=function(i){return u._storage[i]||null},this._storage={}}return s.create=function(){return new s},s}();C.default=f},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(g,f){g.getUserData=function(s,u,i){return this.userdata||(this.userdata={}),this.userdata[i]=this.userdata[i]||{},this.userdata[i][s]&&this.userdata[i][s][u]?this.userdata[i][s][u]:""},g.setUserData=function(s,u,i,o){this.userdata||(this.userdata={}),this.userdata[o]=this.userdata[o]||{},this.userdata[o][s]=this.userdata[o][s]||{},this.userdata[o][s][u]=i},g._change_id=function(s,u){switch(this._dp._ganttMode){case"task":this.changeTaskId(s,u);break;case"link":this.changeLinkId(s,u);break;case"assignment":this.$data.assignmentsStore.changeId(s,u);break;case"resource":this.$data.resourcesStore.changeId(s,u);break;default:throw new Error("Invalid mode of the dataProcessor after database id is received: "+this._dp._ganttMode+", new id: "+u)}},g._row_style=function(s,u){this._dp._ganttMode==="task"&&g.isTaskExists(s)&&(g.getTask(s).$dataprocessor_class=u,g.refreshTask(s))},g._delete_task=function(s,u){},g._sendTaskOrder=function(s,u){u.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(s).target=u.$drop_target,this._dp.setUpdated(s,!0,"order"),delete this.getTask(s).$drop_target)},g.setDp=function(){this._dp=f},g.setDp()}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(2),f=function(){function s(u,i){this.$gantt=u,this.$dp=i,this._dataProcessorHandlers=[]}return s.prototype.attach=function(){var u=this,i=this.$dp,o=this.$gantt,n=d(38),t={},e=function(l){return u.clientSideDelete(l,i,o)};this._dataProcessorHandlers.push(o.attachEvent("onAfterTaskAdd",function(l,h){o.isTaskExists(l)&&(i.setGanttMode("tasks"),i.setUpdated(l,!0,"inserted"))})),this._dataProcessorHandlers.push(o.attachEvent("onAfterTaskUpdate",function(l,h){o.isTaskExists(l)&&(i.setGanttMode("tasks"),i.setUpdated(l,!0),o._sendTaskOrder&&o._sendTaskOrder(l,h))})),this._dataProcessorHandlers.push(o.attachEvent("onBeforeTaskDelete",function(l,h){return o.config.cascade_delete&&(t[l]={tasks:n.getSubtreeTasks(o,l),links:n.getSubtreeLinks(o,l)}),!i.deleteAfterConfirmation||(i.setGanttMode("tasks"),i.setUpdated(l,!0,"deleted"),!1)})),this._dataProcessorHandlers.push(o.attachEvent("onAfterTaskDelete",function(l,h){i.setGanttMode("tasks");var c=!e(l),_=o.config.cascade_delete&&t[l];if(c||_){if(_){var p=i.updateMode;i.setUpdateMode("off");var v=t[l];for(var m in v.tasks)e(m)||(i.storeItem(v.tasks[m]),i.setUpdated(m,!0,"deleted"));for(var m in i.setGanttMode("links"),v.links)e(m)||(i.storeItem(v.links[m]),i.setUpdated(m,!0,"deleted"));t[l]=null,p!=="off"&&i.sendAllData(),i.setGanttMode("tasks"),i.setUpdateMode(p)}c&&(i.storeItem(h),i.deleteAfterConfirmation||i.setUpdated(l,!0,"deleted")),i.updateMode==="off"||i._tSend||i.sendAllData()}})),this._dataProcessorHandlers.push(o.attachEvent("onAfterLinkUpdate",function(l,h){o.isLinkExists(l)&&(i.setGanttMode("links"),i.setUpdated(l,!0))})),this._dataProcessorHandlers.push(o.attachEvent("onAfterLinkAdd",function(l,h){o.isLinkExists(l)&&(i.setGanttMode("links"),i.setUpdated(l,!0,"inserted"))})),this._dataProcessorHandlers.push(o.attachEvent("onAfterLinkDelete",function(l,h){i.setGanttMode("links"),!e(l)&&(i.storeItem(h),i.setUpdated(l,!0,"deleted"))})),this._dataProcessorHandlers.push(o.attachEvent("onRowDragEnd",function(l,h){o._sendTaskOrder(l,o.getTask(l))}));var r=null,a=null;this._dataProcessorHandlers.push(o.attachEvent("onTaskIdChange",function(l,h){if(i._waitMode){var c=o.getChildren(h);if(c.length){r=r||{};for(var _=0;_<c.length;_++){var p=this.getTask(c[_]);r[p.id]=p}}var v=function(k){var y=[];return k.$source&&(y=y.concat(k.$source)),k.$target&&(y=y.concat(k.$target)),y}(this.getTask(h));if(v.length)for(a=a||{},_=0;_<v.length;_++){var m=this.getLink(v[_]);a[m.id]=m}}})),i.attachEvent("onAfterUpdateFinish",function(){(r||a)&&(o.batchUpdate(function(){for(var l in r)o.updateTask(r[l].id);for(var l in a)o.updateLink(a[l].id);r=null,a=null}),r?o._dp.setGanttMode("tasks"):o._dp.setGanttMode("links"))}),i.attachEvent("onBeforeDataSending",function(){if(this._tMode==="CUSTOM")return!0;var l=this._serverProcessor;if(this._tMode==="REST-JSON"||this._tMode==="REST"){var h=this._ganttMode;l=l.substring(0,l.indexOf("?")>-1?l.indexOf("?"):l.length),this.serverProcessor=l+(l.slice(-1)==="/"?"":"/")+h}else{var c=this._ganttMode+"s";this.serverProcessor=l+o.ajax.urlSeparator(l)+"gantt_mode="+c}return!0}),i.attachEvent("insertCallback",function(l,h,c,_){var p=l.data||o.xml._xmlNodeToJSON(l.firstChild),v={add:o.addTask,isExist:o.isTaskExists};_==="links"&&(v.add=o.addLink,v.isExist=o.isLinkExists),v.isExist.call(o,h)||(p.id=h,v.add.call(o,p))}),i.attachEvent("updateCallback",function(l,h){var c=l.data||o.xml._xmlNodeToJSON(l.firstChild);if(o.isTaskExists(h)){var _=o.getTask(h);for(var p in c){var v=c[p];switch(p){case"id":continue;case"start_date":case"end_date":v=o.defined(o.templates.xml_date)?o.templates.xml_date(v):o.templates.parse_date(v);break;case"duration":_.end_date=o.calculateEndDate({start_date:_.start_date,duration:v,task:_})}_[p]=v}o.updateTask(h),o.refreshData()}}),i.attachEvent("deleteCallback",function(l,h,c,_){var p={delete:o.deleteTask,isExist:o.isTaskExists};_==="links"?(p.delete=o.deleteLink,p.isExist=o.isLinkExists):_==="assignment"&&(p.delete=function(v){o.$data.assignmentsStore.remove(v)},p.isExist=function(v){return o.$data.assignmentsStore.exists(v)}),p.isExist.call(o,h)&&p.delete.call(o,h)}),this.handleResourceAssignmentCRUD(i,o)},s.prototype.clientSideDelete=function(u,i,o){var n=i.updatedRows.slice(),t=!1;o.getUserData(u,"!nativeeditor_status",i._ganttMode)==="true_deleted"&&(t=!0,i.setUpdated(u,!1));for(var e=0;e<n.length&&!i._in_progress[u];e++)n[e]===u&&(o.getUserData(u,"!nativeeditor_status",i._ganttMode)==="inserted"&&(t=!0),i.setUpdated(u,!1));return t},s.prototype.handleResourceAssignmentCRUD=function(u,i){var o=this;if(i.config.resources&&i.config.resources.dataprocessor_assignments===!0){var n=i.getDatastore(i.config.resource_assignment_store),t={},e={};i.attachEvent("onBeforeTaskAdd",function(a,l){return t[a]=!0,!0}),i.attachEvent("onTaskIdChange",function(a,l){delete t[a]}),n.attachEvent("onAfterAdd",function(a,l){t[l.task_id]?function(h){e[h.id]=h,t[h.task_id]=!0}(l):r(l)}),n.attachEvent("onAfterUpdate",function(a,l){n.exists(a)&&(e[a]?r(l):(u.setGanttMode("assignment"),u.setUpdated(a,!0)))}),n.attachEvent("onAfterDelete",function(a,l){u.setGanttMode("assignment"),!o.clientSideDelete(a,u,i)&&(u.storeItem(l),u.setUpdated(a,!0,"deleted"))})}function r(a){var l=a.id;n.exists(l)&&(u.setGanttMode("assignment"),u.setUpdated(l,!0,"inserted")),delete e[l]}},s.prototype.handleResourceCRUD=function(u,i){var o=this;if(i.config.resources&&i.config.resources.dataprocessor_resources===!0){var n=i.getDatastore(i.config.resource_store);n.attachEvent("onAfterAdd",function(t,e){(function(r){var a=r.id;n.exists(a)&&(u.setGanttMode("resource"),u.setUpdated(a,!0,"inserted"))})(e)}),n.attachEvent("onAfterUpdate",function(t,e){n.exists(t)&&(u.setGanttMode("resource"),u.setUpdated(t,!0))}),n.attachEvent("onAfterDelete",function(t,e){u.setGanttMode("resource"),!o.clientSideDelete(t,u,i)&&(u.storeItem(e),u.setUpdated(t,!0,"deleted"))})}},s.prototype.detach=function(){var u=this;g.forEach(this._dataProcessorHandlers,function(i){u.$gantt.detachEvent(i)}),this._dataProcessorHandlers=[]},s}();C.default=f},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(4),f=d(2),s=d(0),u=d(202),i=d(201),o=d(200);C.createDataProcessor=function(t){var e,r;t instanceof Function?e=t:t.hasOwnProperty("router")?e=t.router:(t.hasOwnProperty("assignment")||t.hasOwnProperty("link")||t.hasOwnProperty("task"))&&(e=t),r=e?"CUSTOM":t.mode||"REST-JSON";var a=new n(t.url);return a.init(this),a.setTransactionMode({mode:r,router:e},t.batchUpdate),t.deleteAfterConfirmation&&(a.deleteAfterConfirmation=t.deleteAfterConfirmation),a};var n=function(){function t(e){this.serverProcessor=e,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=o.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),g(this)}return t.prototype.setTransactionMode=function(e,r){typeof e=="object"?(this._tMode=e.mode||this._tMode,s.defined(e.headers)&&(this._headers=e.headers),s.defined(e.payload)&&(this._payload=e.payload),this._tSend=!!r):(this._tMode=e,this._tSend=r),this._tMode==="REST"&&(this._tSend=!1),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._router=e.router)},t.prototype.escape=function(e){return this._utf?encodeURIComponent(e):escape(e)},t.prototype.enableUTFencoding=function(e){this._utf=!!e},t.prototype.getSyncState=function(){return!this.updatedRows.length},t.prototype.setUpdateMode=function(e,r){this.autoUpdate=e==="cell",this.updateMode=e,this.dnd=r},t.prototype.ignore=function(e,r){this._silent_mode=!0,e.call(r||window),this._silent_mode=!1},t.prototype.setUpdated=function(e,r,a){if(!this._silent_mode){var l=this.findRow(e);a=a||"updated";var h=this.$gantt.getUserData(e,this.action_param,this._ganttMode);h&&a==="updated"&&(a=h),r?(this.set_invalid(e,!1),this.updatedRows[l]=e,this.$gantt.setUserData(e,this.action_param,a,this._ganttMode),this._in_progress[e]&&(this._in_progress[e]="wait")):this.is_invalid(e)||(this.updatedRows.splice(l,1),this.$gantt.setUserData(e,this.action_param,"",this._ganttMode)),this.markRow(e,r,a),r&&this.autoUpdate&&this.sendData(e)}},t.prototype.markRow=function(e,r,a){var l="",h=this.is_invalid(e);if(h&&(l=this.styles[h],r=!0),this.callEvent("onRowMark",[e,r,a,h])&&(l=this.styles[r?a:"clear"]+" "+l,this.$gantt[this._methods[0]](e,l),h&&h.details)){l+=this.styles[h+"_cell"];for(var c=0;c<h.details.length;c++)h.details[c]&&this.$gantt[this._methods[1]](e,c,l)}},t.prototype.getActionByState=function(e){return e==="inserted"?"create":e==="updated"?"update":e==="deleted"?"delete":"update"},t.prototype.getState=function(e){return this.$gantt.getUserData(e,this.action_param,this._ganttMode)},t.prototype.is_invalid=function(e){return this._invalid[e]},t.prototype.set_invalid=function(e,r,a){a&&(r={value:r,details:a,toString:function(){return this.value.toString()}}),this._invalid[e]=r},t.prototype.checkBeforeUpdate=function(e){return!0},t.prototype.sendData=function(e){var r=this;if(this.$gantt.editStop&&this.$gantt.editStop(),e===void 0||this._tSend){var a=[];if(this.modes&&["task","link","assignment"].forEach(function(h){r.modes[h]&&r.modes[h].updatedRows.length&&a.push(h)}),a.length){for(var l=0;l<a.length;l++)this.setGanttMode(a[l]),this.sendAllData();return}return this.sendAllData()}return!this._in_progress[e]&&(this.messages=[],!(!this.checkBeforeUpdate(e)&&this.callEvent("onValidationError",[e,this.messages]))&&void this._beforeSendData(this._getRowData(e),e))},t.prototype.serialize=function(e,r){if(this._serializeAsJson)return this._serializeAsJSON(e);if(typeof e=="string")return e;if(r!==void 0)return this.serialize_one(e,"");var a=[],l=[];for(var h in e)e.hasOwnProperty(h)&&(a.push(this.serialize_one(e[h],h+this._postDelim)),l.push(h));return a.push("ids="+this.escape(l.join(","))),this.$gantt.security_key&&a.push("dhx_security="+this.$gantt.security_key),a.join("&")},t.prototype.serialize_one=function(e,r){if(typeof e=="string")return e;var a=[],l="";for(var h in e)if(e.hasOwnProperty(h)){if((h==="id"||h==this.action_param)&&this._tMode==="REST")continue;l=typeof e[h]=="string"||typeof e[h]=="number"?e[h]:JSON.stringify(e[h]),a.push(this.escape((r||"")+h)+"="+this.escape(l))}return a.join("&")},t.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var e=!0;if(this._forEachUpdatedRow(function(r){e=e&&this.checkBeforeUpdate(r)}),!e&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(r){if(!this._in_progress[r]){if(this.is_invalid(r))return;this._beforeSendData(this._getRowData(r),r)}})}},t.prototype.findRow=function(e){var r=0;for(r=0;r<this.updatedRows.length&&e!=this.updatedRows[r];r++);return r},t.prototype.defineAction=function(e,r){this._uActions||(this._uActions={}),this._uActions[e]=r},t.prototype.afterUpdateCallback=function(e,r,a,l,h){var c=this;if(this.$gantt){this.setGanttMode(h);var _=e,p=a!=="error"&&a!=="invalid";if(p||this.set_invalid(e,a),this._uActions&&this._uActions[a]&&!this._uActions[a](l))return delete this._in_progress[_];this._in_progress[_]!=="wait"&&this.setUpdated(e,!1);var v=e;switch(a){case"inserted":case"insert":r!=e&&(this.setUpdated(e,!1),this.$gantt[this._methods[2]](e,r),e=r);break;case"delete":case"deleted":if(this.deleteAfterConfirmation&&this._ganttMode==="task"){if(this._ganttMode==="task"&&this.$gantt.isTaskExists(e)){this.$gantt.setUserData(e,this.action_param,"true_deleted",this._ganttMode);var m=this.$gantt.getTask(e);this.$gantt.silent(function(){c.$gantt.deleteTask(e)}),this.$gantt.callEvent("onAfterTaskDelete",[e,m]),this.$gantt.render(),delete this._in_progress[_]}return this.callEvent("onAfterUpdate",[e,a,r,l])}return this.$gantt.setUserData(e,this.action_param,"true_deleted",this._ganttMode),this.$gantt[this._methods[3]](e),delete this._in_progress[_],this.callEvent("onAfterUpdate",[e,a,r,l])}this._in_progress[_]!=="wait"?(p&&this.$gantt.setUserData(e,this.action_param,"",this._ganttMode),delete this._in_progress[_]):(delete this._in_progress[_],this.setUpdated(r,!0,this.$gantt.getUserData(e,this.action_param,this._ganttMode))),this.callEvent("onAfterUpdate",[v,a,r,l])}},t.prototype.afterUpdate=function(e,r,a){var l,h=this;l=arguments.length===3?arguments[1]:arguments[4];var c=this.getGanttMode(),_=l.filePath||l.url;c=this._tMode!=="REST"&&this._tMode!=="REST-JSON"?_.indexOf("gantt_mode=links")!==-1?"link":_.indexOf("gantt_mode=assignments")!==-1?"assignment":"task":_.indexOf("/link")>=0?"link":_.indexOf("/assignment")>=0?"assignment":"task",this.setGanttMode(c);var p,v=this.$gantt.ajax;try{p=JSON.parse(r.xmlDoc.responseText)}catch{r.xmlDoc.responseText.length||(p={})}var m=function(E){var D=p.action||h.getState(E)||"updated",A=p.sid||E[0],M=p.tid||E[0];e.afterUpdateCallback(A,M,D,p,c)};if(p)return Array.isArray(a)&&a.length>1?a.forEach(function(E){return m(E)}):m(a),e.finalizeUpdate(),void this.setGanttMode(c);var k=v.xmltop("data",r.xmlDoc);if(!k)return this.cleanUpdate(a);var y=v.xpath("//data/action",k);if(!y.length)return this.cleanUpdate(a);for(var w=0;w<y.length;w++){var $=y[w],b=$.getAttribute("type"),x=$.getAttribute("sid"),T=$.getAttribute("tid");e.afterUpdateCallback(x,T,b,$,c)}e.finalizeUpdate()},t.prototype.cleanUpdate=function(e){if(e)for(var r=0;r<e.length;r++)delete this._in_progress[e[r]]},t.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},t.prototype.init=function(e){if(!this._initialized){this.$gantt=e,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",delete_confirmation:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],i.default(this.$gantt,this);var r=new u.default(this.$gantt,this);r.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,r.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},t.prototype.setOnAfterUpdate=function(e){this.attachEvent("onAfterUpdate",e)},t.prototype.setOnBeforeUpdateHandler=function(e){this.attachEvent("onBeforeDataSending",e)},t.prototype.setAutoUpdate=function(e,r){var a=this;e=e||2e3,this._user=r||new Date().valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){a.loadUpdate()},e)},t.prototype.afterAutoUpdate=function(e,r,a,l){return r!=="collision"||(this._needUpdate=!0,!1)},t.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},t.prototype.getUpdates=function(e,r){var a=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,a.get(e,r)},t.prototype.loadUpdate=function(){var e=this,r=this.$gantt.ajax,a=this.$gantt.getUserData(0,"version",this._ganttMode),l=this.serverProcessor+r.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+a].join("&");l=l.replace("editing=true&",""),this.getUpdates(l,function(h){var c=r.xpath("//userdata",h);e.$gantt.setUserData(0,"version",e._getXmlNodeValue(c[0]),e._ganttMode);var _=r.xpath("//update",h);if(_.length){e._silent_mode=!0;for(var p=0;p<_.length;p++){var v=_[p].getAttribute("status"),m=_[p].getAttribute("id"),k=_[p].getAttribute("parent");switch(v){case"inserted":e.callEvent("insertCallback",[_[p],m,k]);break;case"updated":e.callEvent("updateCallback",[_[p],m,k]);break;case"deleted":e.callEvent("deleteCallback",[_[p],m,k])}}e._silent_mode=!1}e._updateBusy=!1})},t.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},t.prototype.setGanttMode=function(e){e==="tasks"?e="task":e==="links"&&(e="link");var r=this.modes||{},a=this.getGanttMode();a&&(r[a]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var l=r[e];l||(l=r[e]={_in_progress:{},_invalid:{},_storage:o.default.create(),updatedRows:[]}),this._in_progress=l._in_progress,this._invalid=l._invalid,this._storage=l._storage,this.updatedRows=l.updatedRows,this.modes=r,this._ganttMode=e},t.prototype.getGanttMode=function(){return this._ganttMode},t.prototype.storeItem=function(e){this._storage.storeItem(e)},t.prototype.url=function(e){this.serverProcessor=this._serverProcessor=e},t.prototype._beforeSendData=function(e,r){if(!this.callEvent("onBeforeUpdate",[r,this.getState(r),e]))return!1;this._sendData(e,r)},t.prototype._serializeAsJSON=function(e){if(typeof e=="string")return e;var r=s.copy(e);return this._tMode==="REST-JSON"&&(delete r.id,delete r[this.action_param]),JSON.stringify(r)},t.prototype._applyPayload=function(e){var r=this.$gantt.ajax;if(this._payload)for(var a in this._payload)e=e+r.urlSeparator(e)+this.escape(a)+"="+this.escape(this._payload[a]);return e},t.prototype._cleanupArgumentsBeforeSend=function(e){var r;if(e[this.action_param]===void 0)for(var a in r={},e)r[a]=this._cleanupArgumentsBeforeSend(e[a]);else r=this._cleanupItemBeforeSend(e);return r},t.prototype._cleanupItemBeforeSend=function(e){var r=null;return e&&(e[this.action_param]==="deleted"?((r={}).id=e.id,r[this.action_param]=e[this.action_param]):r=e),r},t.prototype._sendData=function(e,r){var a=this;if(e){if(!this.callEvent("onBeforeDataSending",r?[r,this.getState(r),e]:[null,null,e]))return!1;r&&(this._in_progress[r]=new Date().valueOf());var l=this.$gantt.ajax;if(this._tMode!=="CUSTOM"){var h;h={callback:function(A){var M=[];if(r)M.push(r);else if(e)for(var I in e)M.push(I);return a.afterUpdate(a,A,M)},headers:this._headers};var c,_="dhx_version="+this.$gantt.getUserData(0,"version",this._ganttMode),p=this.serverProcessor+(this._user?l.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,_].join("&"):""),v=this._applyPayload(p);switch(this._tMode){case"GET":c=this._cleanupArgumentsBeforeSend(e),h.url=v+l.urlSeparator(v)+this.serialize(c,r),h.method="GET";break;case"POST":c=this._cleanupArgumentsBeforeSend(e),h.url=v,h.method="POST",h.data=this.serialize(c,r);break;case"JSON":c={};var m=this._cleanupItemBeforeSend(e);for(var k in m)k!==this.action_param&&k!=="id"&&k!=="gr_id"&&(c[k]=m[k]);h.url=v,h.method="POST",h.data=JSON.stringify({id:r,action:e[this.action_param],data:c});break;case"REST":case"REST-JSON":switch(v=p.replace(/(&|\?)editing=true/,""),c="",this.getState(r)){case"inserted":h.method="POST",h.data=this.serialize(e,r);break;case"deleted":h.method="DELETE",v=v+(v.slice(-1)==="/"?"":"/")+r;break;default:h.method="PUT",h.data=this.serialize(e,r),v=v+(v.slice(-1)==="/"?"":"/")+r}h.url=this._applyPayload(v)}return this._waitMode++,l.query(h)}var y=this.getState(r),w=this.getActionByState(y),$=this.getGanttMode(),b=function(A){var M=y||"updated",I=r,N=r;A&&(M=A.action||y,I=A.sid||I,N=A.id||A.tid||N),a.afterUpdateCallback(I,N,M,A,$)},x=void 0;if(this._router instanceof Function)if(this._routerParametersFormat==="object"){var T={entity:$,action:w,data:e,id:r};x=this._router(T)}else x=this._router($,w,e,r);else if(this._router[$]instanceof Function)x=this._router[$](w,e,r);else{var E="Incorrect configuration of gantt.createDataProcessor",D=`
You need to either add missing properties to the dataProcessor router object or to use a router function.
See https://docs.dhtmlx.com/gantt/desktop__server_side.html#customrouting and https://docs.dhtmlx.com/gantt/api__gantt_createdataprocessor.html for details.`;if(!this._router[$])throw new Error(E+": router for the **"+$+"** entity is not defined. "+D);switch(y){case"inserted":if(!this._router[$].create)throw new Error(E+": **create** action for the **"+$+"** entity is not defined. "+D);x=this._router[$].create(e);break;case"deleted":if(!this._router[$].delete)throw new Error(E+": **delete** action for the **"+$+"** entity is not defined. "+D);x=this._router[$].delete(r);break;default:if(!this._router[$].update)throw new Error(E+': **update**" action for the **'+$+"** entity is not defined. "+D);x=this._router[$].update(e,r)}}if(x){if(!x.then&&x.id===void 0&&x.tid===void 0&&x.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");x.then?x.then(b).catch(function(A){A&&A.action?b(A):b({action:"error",value:A})}):b(x)}else b(null)}},t.prototype._forEachUpdatedRow=function(e){for(var r=this.updatedRows.slice(),a=0;a<r.length;a++){var l=r[a];this.$gantt.getUserData(l,this.action_param,this._ganttMode)&&e.call(this,l)}},t.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},t.prototype._getXmlNodeValue=function(e){return e.firstChild?e.firstChild.nodeValue:""},t.prototype._getAllData=function(){var e={},r=!1;return this._forEachUpdatedRow(function(a){if(!this._in_progress[a]&&!this.is_invalid(a)){var l=this._getRowData(a);this.callEvent("onBeforeUpdate",[a,this.getState(a),l])&&(e[a]=l,r=!0,this._in_progress[a]=new Date().valueOf())}}),r?e:null},t.prototype._prepareDate=function(e){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(e):this.$gantt.templates.format_date(e)},t.prototype._prepareArray=function(e,r){var a=this;return r.push(e),e.map(function(l){return f.isDate(l)?a._prepareDate(l):Array.isArray(l)&&!f.arrayIncludes(r,l)?a._prepareArray(l,r):l&&typeof l=="object"&&!f.arrayIncludes(r,l)?a._prepareObject(l,r):l})},t.prototype._prepareObject=function(e,r){var a={};for(var l in r.push(e),e)if(l.substr(0,1)!=="$"){var h=e[l];f.isDate(h)?a[l]=this._prepareDate(h):h===null?a[l]="":Array.isArray(h)&&!f.arrayIncludes(r,h)?a[l]=this._prepareArray(h,r):h&&typeof h=="object"&&!f.arrayIncludes(r,h)?a[l]=this._prepareObject(h,r):a[l]=h}return a},t.prototype._prepareDataItem=function(e){var r=this._prepareObject(e,[]);return r[this.action_param]=this.$gantt.getUserData(e.id,this.action_param,this._ganttMode),r},t.prototype.getStoredItem=function(e){return this._storage.getStoredItem(e)},t.prototype._getRowData=function(e){var r,a=this.$gantt;return this.getGanttMode()==="task"?a.isTaskExists(e)&&(r=this.$gantt.getTask(e)):this.getGanttMode()==="assignment"?this.$gantt.$data.assignmentsStore.exists(e)&&(r=this.$gantt.$data.assignmentsStore.getItem(e)):a.isLinkExists(e)&&(r=this.$gantt.getLink(e)),r||(r=this.getStoredItem(e)),r||(r={id:e}),this._prepareDataItem(r)},t}();C.DataProcessor=n},function(S,C,d){var g=d(203);S.exports={DEPRECATED_api:function(f){return new g.DataProcessor(f)},createDataProcessor:g.createDataProcessor,getDataProcessorModes:g.getAvailableModes}},function(S,C,d){var g=d(10);S.exports={bindDataStore:function(f,s){var u=s.getDatastore(f),i=function(e,r){var a=r.getLayers(),l=u.getItem(e);if(l&&u.isVisible(e))for(var h=0;h<a.length;h++)a[h].render_item(l)},o=function(e){for(var r=e.getLayers(),a=0;a<r.length;a++)r[a].clear();for(var l=null,h={},c=0;c<r.length;c++){var _=r[c],p=void 0;if(_.get_visible_range){var v=_.get_visible_range(u);if(v.start!==void 0&&v.end!==void 0){var m=v.start+" - "+v.end;h[m]?p=h[m]:(p=u.getIndexRange(v.start,v.end),h[m]=p)}else{if(v.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");p=v.ids.map(function(k){return u.getItem(k)})}}else l||(l=u.getVisibleItems()),p=l;_.prepare_data&&_.prepare_data(p),r[c].render_items(p)}},n=function(e){if(e.update_items){var r;if(e.get_visible_range){var a=e.get_visible_range(u);if(a.start!==void 0&&a.end!==void 0)r=u.getIndexRange(a.start,a.end);else{if(a.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");r=a.ids.map(function(l){return u.getItem(l)})}}else r=u.getVisibleItems();e.prepare_data&&e.prepare_data(r,e),e.update_items(r)}};function t(e){return!!e.$services.getService("state").getState("batchUpdate").batch_update}u.attachEvent("onStoreUpdated",function(e,r,a){if(g(s))return!0;var l=s.$services.getService("layers").getDataRender(f);l&&(l.onUpdateRequest=function(h){n(h)})}),u.attachEvent("onStoreUpdated",function(e,r,a){t(s)||(e&&a!="move"&&a!="delete"?(u.callEvent("onBeforeRefreshItem",[r.id]),u.callEvent("onAfterRefreshItem",[r.id])):(u.callEvent("onBeforeRefreshAll",[]),u.callEvent("onAfterRefreshAll",[])))}),u.attachEvent("onAfterRefreshAll",function(){if(g(s))return!0;var e=s.$services.getService("layers").getDataRender(f);e&&!t(s)&&o(e)}),u.attachEvent("onAfterRefreshItem",function(e){if(g(s))return!0;var r=s.$services.getService("layers").getDataRender(f);r&&i(e,r)}),u.attachEvent("onItemOpen",function(){if(g(s))return!0;s.render()}),u.attachEvent("onItemClose",function(){if(g(s))return!0;s.render()}),u.attachEvent("onIdChange",function(e,r){if(g(s))return!0;if(u.callEvent("onBeforeIdChange",[e,r]),!t(s)&&!u.isSilent()){var a=s.$services.getService("layers").getDataRender(f);a?(function(l,h,c,_){for(var p=0;p<l.length;p++)l[p].change_id(h,c)}(a.getLayers(),e,r,u.getItem(r)),i(r,a)):s.render()}})}}},function(S,C){S.exports=function(d){var g=null,f=d._removeItemInner;function s(u){g=null,this.callEvent("onAfterUnselect",[u])}return d._removeItemInner=function(u){return g==u&&s.call(this,u),g&&this.eachItem&&this.eachItem(function(i){i.id==g&&s.call(this,i.id)},u),f.apply(this,arguments)},d.attachEvent("onIdChange",function(u,i){d.getSelectedId()==u&&d.silent(function(){d.unselect(u),d.select(i)})}),{select:function(u){if(u){if(g==u)return g;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[u]))return!1;this.unselect(),g=u,this._skip_refresh||(this.refresh(u),this.callEvent("onAfterSelect",[u]))}return g},getSelectedId:function(){return g},isSelected:function(u){return u==g},unselect:function(u){(u=u||g)&&(g=null,this._skip_refresh||(this.refresh(u),s.call(this,u)))}}}},function(S,C,d){var g=d(0);S.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(f){return this.$data.linksStore.getItem(f)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(f){return this.$data.linksStore.exists(f)},addLink:function(f){var s=this.$data.linksStore.addItem(f);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(s),s},updateLink:function(f,s){g.defined(s)||(s=this.getLink(f)),this.$data.linksStore.updateItem(f,s)},deleteLink:function(f){return this.$data.linksStore.removeItem(f)},changeLinkId:function(f,s){return this.$data.linksStore.changeId(f,s)}}}},function(S,C,d){var g=d(0),f=d(2).replaceValidZeroId;S.exports=function(){return{getTask:function(s){s=f(s,this.config.root_id),this.assert(s,"Invalid argument for gantt.getTask");var u=this.$data.tasksStore.getItem(s);return this.assert(u,"Task not found id="+s),u},getTaskByTime:function(s,u){var i=this.$data.tasksStore.getItems(),o=[];if(s||u){s=+s||-1/0,u=+u||1/0;for(var n=0;n<i.length;n++){var t=i[n];+t.start_date<u&&+t.end_date>s&&o.push(t)}}else o=i;return o},isTaskExists:function(s){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(s)},updateTask:function(s,u){g.defined(u)||(u=this.getTask(s)),this.$data.tasksStore.updateItem(s,u),this.isTaskExists(s)&&this.refreshTask(s)},addTask:function(s,u,i){return g.defined(s.id)||(s.id=g.uid()),this.isTaskExists(s.id)&&this.getTask(s.id).$index!=s.$index?(s.start_date&&typeof s.start_date=="string"&&(s.start_date=this.date.parseDate(s.start_date,"parse_date")),s.end_date&&typeof s.end_date=="string"&&(s.end_date=this.date.parseDate(s.end_date,"parse_date")),this.$data.tasksStore.updateItem(s.id,s)):(g.defined(u)||(u=this.getParent(s)||0),this.isTaskExists(u)||(u=this.config.root_id),this.setParent(s,u),this.$data.tasksStore.addItem(s,i,u))},deleteTask:function(s){return s=f(s,this.config.root_id),this.$data.tasksStore.removeItem(s)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(s){return this.$data.tasksStore.getBranchIndex(s)},getGlobalTaskIndex:function(s){return s=f(s,this.config.root_id),this.assert(s,"Invalid argument"),this.$data.tasksStore.getIndexById(s)},eachTask:function(s,u,i){return this.$data.tasksStore.eachItem(g.bind(s,i||this),u)},eachParent:function(s,u,i){return this.$data.tasksStore.eachParent(g.bind(s,i||this),u)},changeTaskId:function(s,u){this.$data.tasksStore.changeId(s,u);var i=this.$data.tasksStore.getItem(u),o=[];i.$source&&(o=o.concat(i.$source)),i.$target&&(o=o.concat(i.$target));for(var n=0;n<o.length;n++){var t=this.getLink(o[n]);t.source==s&&(t.source=u),t.target==s&&(t.target=u)}},calculateTaskLevel:function(s){return this.$data.tasksStore.calculateItemLevel(s)},getNext:function(s){return this.$data.tasksStore.getNext(s)},getPrev:function(s){return this.$data.tasksStore.getPrev(s)},getParent:function(s){return this.$data.tasksStore.getParent(s)},setParent:function(s,u,i){return this.$data.tasksStore.setParent(s,u,i)},getSiblings:function(s){return this.$data.tasksStore.getSiblings(s).slice()},getNextSibling:function(s){return this.$data.tasksStore.getNextSibling(s)},getPrevSibling:function(s){return this.$data.tasksStore.getPrevSibling(s)},getTaskByIndex:function(s){var u=this.$data.tasksStore.getIdByIndex(s);return this.isTaskExists(u)?this.getTask(u):null},getChildren:function(s){return this.hasChild(s)?this.$data.tasksStore.getChildren(s).slice():[]},hasChild:function(s){return this.$data.tasksStore.hasChild(s)},open:function(s){this.$data.tasksStore.open(s)},close:function(s){this.$data.tasksStore.close(s)},moveTask:function(s,u,i){return i=f(i,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(s,u,i,o){var n=!o;this.$data.tasksStore.sort(s,u,i),this.callEvent("onAfterSort",[s,u,i]),n&&this.render()}}}},function(S,C,d){var g=d(0),f=d(208),s=d(207),u=d(42),i=d(40),o=d(206),n=d(205),t=d(10),e=d(2).replaceValidZeroId;function r(){for(var l=this.$services.getService("datastores"),h=[],c=0;c<l.length;c++){var _=this.getDatastore(l[c]);_.$destroyed||h.push(_)}return h}u.default&&(u=u.default);var a=function(){return{createDatastore:function(l){var h=(l.type||"").toLowerCase()=="treedatastore"?i:u;if(l){var c=this;l.openInitially=function(){return c.config.open_tree_initially},l.copyOnParse=function(){return c.config.deepcopy_on_parse}}var _=new h(l);if(this.mixin(_,o(_)),l.name){var p="datastore:"+l.name;_.attachEvent("onDestroy",function(){this.$services.dropService(p);for(var m=this.$services.getService("datastores"),k=0;k<m.length;k++)if(m[k]===l.name){m.splice(k,1);break}}.bind(this)),this.$services.dropService(p),this.$services.setService(p,function(){return _});var v=this.$services.getService("datastores");v?v.indexOf(l.name)<0&&v.push(l.name):(v=[],this.$services.setService("datastores",function(){return v}),v.push(l.name)),n.bindDataStore(l.name,this)}return _},getDatastore:function(l){return this.$services.getService("datastore:"+l)},_getDatastores:r,refreshData:function(){var l;t(this)||(l=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var h=r.call(this),c=0;c<h.length;c++)h[c].refresh();this.config.preserve_scroll&&!t(this)&&(l.x||l.y)&&this.scrollTo(l.x,l.y),this.callEvent("onDataRender",[])},isChildOf:function(l,h){return this.$data.tasksStore.isChildOf(l,h)},refreshTask:function(l,h){var c=this.getTask(l),_=this;function p(){if(h===void 0||h){for(var m=0;m<c.$source.length;m++)_.refreshLink(c.$source[m]);for(m=0;m<c.$target.length;m++)_.refreshLink(c.$target[m])}}if(c&&this.isTaskVisible(l))this.$data.tasksStore.refresh(l,!!this.getState("tasksDnd").drag_id||h===!1),p();else if(this.isTaskExists(l)&&this.isTaskExists(this.getParent(l))&&!this._bulk_dnd){this.refreshTask(this.getParent(l));var v=!1;this.eachParent(function(m){(v||this.isSplitTask(m))&&(v=!0)},l),v&&p()}},refreshLink:function(l){this.$data.linksStore.refresh(l,!!this.getState("tasksDnd").drag_id)},silent:function(l){var h=this;h.$data.tasksStore.silent(function(){h.$data.linksStore.silent(function(){l()})})},clearAll:function(){for(var l=r.call(this),h=0;h<l.length;h++)l[h].silent(function(){l[h].clearAll()});for(h=0;h<l.length;h++)l[h].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(l){var h=this.$data.tasksStore;if(!this.config.select_task)return!1;if(l=e(l,this.config.root_id)){var c=this.getSelectedId();h._skipResourceRepaint=!0,h.select(l),h._skipResourceRepaint=!1,c&&h.pull[c].$split_subtask&&c!=l&&this.refreshTask(c),h.pull[l].$split_subtask&&c!=l&&this.refreshTask(l)}return h.getSelectedId()},unselectTask:function(l){var h=this.$data.tasksStore;h.unselect(l),l&&h.pull[l].$split_subtask&&this.refreshTask(l)},isSelectedTask:function(l){return this.$data.tasksStore.isSelected(l)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}}};S.exports={create:function(){var l=g.mixin({},a());return g.mixin(l,f()),g.mixin(l,s()),l}}},function(S,C,d){var g=d(0),f=d(209),s=d(39),u=d(11);S.exports=function(i){var o=f.create();g.mixin(i,o);var n=i.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return i.config.root_id},initItem:g.bind(function(c){this.defined(c.id)||(c.id=this.uid()),c.start_date&&(c.start_date=i.date.parseDate(c.start_date,"parse_date")),c.end_date&&(c.end_date=i.date.parseDate(c.end_date,"parse_date"));var _=null;(c.duration||c.duration===0)&&(c.duration=_=1*c.duration),_&&(c.start_date&&!c.end_date?c.end_date=this.calculateEndDate(c):!c.start_date&&c.end_date&&(c.start_date=this.calculateEndDate({start_date:c.end_date,duration:-c.duration,task:c}))),c.progress=Number(c.progress)||0,this._isAllowedUnscheduledTask(c)&&this._set_default_task_timing(c),this._init_task_timing(c),c.start_date&&c.end_date&&this.correctTaskWorkTime(c),c.$source=[],c.$target=[];var p=this.$data.tasksStore.getItem(c.id);return p&&!g.defined(c.open)&&(c.$open=p.$open),c.parent===void 0&&(c.parent=this.config.root_id),c},i),getConfig:function(){return i.config}}),t=i.createDatastore({name:"link",initItem:g.bind(function(c){return this.defined(c.id)||(c.id=this.uid()),c},i)});function e(c){var _=i.isTaskVisible(c);if(!_&&i.isTaskExists(c)){var p=i.getParent(c);i.isTaskExists(p)&&i.isTaskVisible(p)&&(p=i.getTask(p),i.isSplitTask(p)&&(_=!0))}return _}function r(c){if(i.isTaskExists(c.source)){var _=i.getTask(c.source);_.$source=_.$source||[],_.$source.push(c.id)}if(i.isTaskExists(c.target)){var p=i.getTask(c.target);p.$target=p.$target||[],p.$target.push(c.id)}}function a(c){if(i.isTaskExists(c.source)){for(var _=i.getTask(c.source),p=0;p<_.$source.length;p++)if(_.$source[p]==c.id){_.$source.splice(p,1);break}}if(i.isTaskExists(c.target)){var v=i.getTask(c.target);for(p=0;p<v.$target.length;p++)if(v.$target[p]==c.id){v.$target.splice(p,1);break}}}function l(){for(var c=null,_=i.$data.tasksStore.getItems(),p=0,v=_.length;p<v;p++)(c=_[p]).$source=[],c.$target=[];var m=i.$data.linksStore.getItems();for(p=0,v=m.length;p<v;p++)r(m[p])}function h(c){var _=c.source,p=c.target;for(var v in c.events)(function(m,k){_.attachEvent(m,function(){return p.callEvent(k,Array.prototype.slice.call(arguments))},k)})(v,c.events[v])}i.attachEvent("onDestroy",function(){n.destructor(),t.destructor()}),i.attachEvent("onLinkValidation",function(c){if(i.isLinkExists(c.id)||c.id==="predecessor_generated")return!0;for(var _=i.getTask(c.source).$source,p=0;p<_.length;p++){var v=i.getLink(_[p]),m=c.source==v.source,k=c.target==v.target,y=c.type==v.type;if(m&&k&&y)return!1}return!0}),n.attachEvent("onBeforeRefreshAll",function(){if(!n._skipTaskRecalculation)for(var c=n.getVisibleItems(),_=0;_<c.length;_++){var p=c[_];p.$index=_,p.$local_index=i.getTaskIndex(p.id),i.resetProjectDates(p)}}),n.attachEvent("onFilterItem",function(c,_){if(i.config.show_tasks_outside_timescale)return!0;var p=null,v=null;if(i.config.start_date&&i.config.end_date){if(i._isAllowedUnscheduledTask(_))return!0;if(p=i.config.start_date.valueOf(),v=i.config.end_date.valueOf(),+_.start_date>v||+_.end_date<+p)return!1}return!0}),n.attachEvent("onIdChange",function(c,_){i._update_flags(c,_);var p=i.getTask(_);n.isSilent()||(p.$split_subtask||p.rollup)&&i.eachParent(function(v){i.refreshTask(v.id)},_)}),n.attachEvent("onAfterUpdate",function(c){if(i._update_parents(c),i.getState("batchUpdate").batch_update)return!0;var _=n.getItem(c);_.$source||(_.$source=[]);for(var p=0;p<_.$source.length;p++)t.refresh(_.$source[p]);for(_.$target||(_.$target=[]),p=0;p<_.$target.length;p++)t.refresh(_.$target[p])}),n.attachEvent("onBeforeItemMove",function(c,_,p){return!u(c,i,n)||(console.log("The placeholder task cannot be moved to another position."),!1)}),n.attachEvent("onAfterItemMove",function(c,_,p){var v=i.getTask(c);this.getNextSibling(c)!==null?v.$drop_target=this.getNextSibling(c):this.getPrevSibling(c)!==null?v.$drop_target="next:"+this.getPrevSibling(c):v.$drop_target="next:null"}),n.attachEvent("onStoreUpdated",function(c,_,p){if(p=="delete"&&i._update_flags(c,null),!i.$services.getService("state").getState("batchUpdate").batch_update){if(i.config.fit_tasks&&p!=="paint"){var v=i.getState();s(i);var m=i.getState();if(+v.min_date!=+m.min_date||+v.max_date!=+m.max_date)return i.render(),i.callEvent("onScaleAdjusted",[]),!0}p=="add"||p=="move"||p=="delete"?i.$layout&&(this.$config.name!="task"||p!="add"&&p!="delete"||this._skipTaskRecalculation!="lightbox"&&(this._skipTaskRecalculation=!0),i.$layout.resize()):c||t.refresh()}}),t.attachEvent("onAfterAdd",function(c,_){r(_)}),t.attachEvent("onAfterUpdate",function(c,_){l()}),t.attachEvent("onAfterDelete",function(c,_){a(_)}),t.attachEvent("onBeforeIdChange",function(c,_){a(i.mixin({id:c},i.$data.linksStore.getItem(_))),r(i.$data.linksStore.getItem(_))}),t.attachEvent("onFilterItem",function(c,_){if(!i.config.show_links)return!1;var p=e(_.source),v=e(_.target);return!(!p||!v||i._isAllowedUnscheduledTask(i.getTask(_.source))||i._isAllowedUnscheduledTask(i.getTask(_.target)))&&i.callEvent("onBeforeLinkDisplay",[c,_])}),function(){var c=d(38),_={};i.attachEvent("onBeforeTaskDelete",function(p,v){return _[p]=c.getSubtreeLinks(i,p),!0}),i.attachEvent("onAfterTaskDelete",function(p,v){_[p]&&i.$data.linksStore.silent(function(){for(var m in _[p])i.isLinkExists(m)&&i.$data.linksStore.removeItem(m),a(_[p][m]);_[p]=null})})}(),i.attachEvent("onAfterLinkDelete",function(c,_){i.refreshTask(_.source),i.refreshTask(_.target)}),i.attachEvent("onParse",l),h({source:t,target:i,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),h({source:n,target:i,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),i.$data={tasksStore:n,linksStore:t}}},function(S,C,d){(function(g,f){(function(s,u){"use strict";if(!s.setImmediate){var i,o=1,n={},t=!1,e=s.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(s);r=r&&r.setTimeout?r:s,{}.toString.call(s.process)==="[object process]"?i=function(h){f.nextTick(function(){l(h)})}:function(){if(s.postMessage&&!s.importScripts){var h=!0,c=s.onmessage;return s.onmessage=function(){h=!1},s.postMessage("","*"),s.onmessage=c,h}}()?function(){var h="setImmediate$"+Math.random()+"$",c=function(_){_.source===s&&typeof _.data=="string"&&_.data.indexOf(h)===0&&l(+_.data.slice(h.length))};s.addEventListener?s.addEventListener("message",c,!1):s.attachEvent("onmessage",c),i=function(_){s.postMessage(h+_,"*")}}():s.MessageChannel?function(){var h=new MessageChannel;h.port1.onmessage=function(c){l(c.data)},i=function(c){h.port2.postMessage(c)}}():e&&"onreadystatechange"in e.createElement("script")?function(){var h=e.documentElement;i=function(c){var _=e.createElement("script");_.onreadystatechange=function(){l(c),_.onreadystatechange=null,h.removeChild(_),_=null},h.appendChild(_)}}():i=function(h){setTimeout(l,0,h)},r.setImmediate=function(h){typeof h!="function"&&(h=new Function(""+h));for(var c=new Array(arguments.length-1),_=0;_<c.length;_++)c[_]=arguments[_+1];var p={callback:h,args:c};return n[o]=p,i(o),o++},r.clearImmediate=a}function a(h){delete n[h]}function l(h){if(t)setTimeout(l,0,h);else{var c=n[h];if(c){t=!0;try{(function(_){var p=_.callback,v=_.args;switch(v.length){case 0:p();break;case 1:p(v[0]);break;case 2:p(v[0],v[1]);break;case 3:p(v[0],v[1],v[2]);break;default:p.apply(u,v)}})(c)}finally{a(h),t=!1}}}}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,d(15),d(43))},function(S,C,d){(function(g){var f=g!==void 0&&g||typeof self<"u"&&self||window,s=Function.prototype.apply;function u(i,o){this._id=i,this._clearFn=o}C.setTimeout=function(){return new u(s.call(setTimeout,f,arguments),clearTimeout)},C.setInterval=function(){return new u(s.call(setInterval,f,arguments),clearInterval)},C.clearTimeout=C.clearInterval=function(i){i&&i.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(f,this._id)},C.enroll=function(i,o){clearTimeout(i._idleTimeoutId),i._idleTimeout=o},C.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},C._unrefActive=C.active=function(i){clearTimeout(i._idleTimeoutId);var o=i._idleTimeout;o>=0&&(i._idleTimeoutId=setTimeout(function(){i._onTimeout&&i._onTimeout()},o))},d(211),C.setImmediate=typeof self<"u"&&self.setImmediate||g!==void 0&&g.setImmediate||this&&this.setImmediate,C.clearImmediate=typeof self<"u"&&self.clearImmediate||g!==void 0&&g.clearImmediate||this&&this.clearImmediate}).call(this,d(15))},function(S,C,d){(function(g,f,s){var u,i,o;function n(t){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}(function(t){n(C)=="object"&&S!==void 0?S.exports=t():(i=[],(o=typeof(u=t)=="function"?u.apply(C,i):u)===void 0||(S.exports=o))})(function(){var t,e,r;return function a(l,h,c){function _(m,k){if(!h[m]){if(!l[m]){var y=typeof _dereq_=="function"&&_dereq_;if(!k&&y)return y(m,!0);if(p)return p(m,!0);var w=new Error("Cannot find module '"+m+"'");throw w.code="MODULE_NOT_FOUND",w}var $=h[m]={exports:{}};l[m][0].call($.exports,function(b){var x=l[m][1][b];return _(x||b)},$,$.exports,a,l,h,c)}return h[m].exports}for(var p=typeof _dereq_=="function"&&_dereq_,v=0;v<c.length;v++)_(c[v]);return _}({1:[function(a,l,h){"use strict";l.exports=function(c){var _=c._SomePromiseArray;function p(v){var m=new _(v),k=m.promise();return m.setHowMany(1),m.setUnwrap(),m.init(),k}c.any=function(v){return p(v)},c.prototype.any=function(){return p(this)}}},{}],2:[function(a,l,h){"use strict";var c;try{throw new Error}catch(x){c=x}var _=a("./schedule"),p=a("./queue"),v=a("./util");function m(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new p(16),this._normalQueue=new p(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var x=this;this.drainQueues=function(){x._drainQueues()},this._schedule=_}function k(x,T,E){this._lateQueue.push(x,T,E),this._queueTick()}function y(x,T,E){this._normalQueue.push(x,T,E),this._queueTick()}function w(x){this._normalQueue._pushOne(x),this._queueTick()}function $(x){for(;x.length()>0;)b(x)}function b(x){var T=x.shift();if(typeof T!="function")T._settlePromises();else{var E=x.shift(),D=x.shift();T.call(E,D)}}m.prototype.setScheduler=function(x){var T=this._schedule;return this._schedule=x,this._customScheduler=!0,T},m.prototype.hasCustomScheduler=function(){return this._customScheduler},m.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},m.prototype.disableTrampolineIfNecessary=function(){v.hasDevTools&&(this._trampolineEnabled=!1)},m.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},m.prototype.fatalError=function(x,T){T?(g.stderr.write("Fatal "+(x instanceof Error?x.stack:x)+`
`),g.exit(2)):this.throwLater(x)},m.prototype.throwLater=function(x,T){if(arguments.length===1&&(T=x,x=function(){throw T}),typeof setTimeout<"u")setTimeout(function(){x(T)},0);else try{this._schedule(function(){x(T)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},v.hasDevTools?(m.prototype.invokeLater=function(x,T,E){this._trampolineEnabled?k.call(this,x,T,E):this._schedule(function(){setTimeout(function(){x.call(T,E)},100)})},m.prototype.invoke=function(x,T,E){this._trampolineEnabled?y.call(this,x,T,E):this._schedule(function(){x.call(T,E)})},m.prototype.settlePromises=function(x){this._trampolineEnabled?w.call(this,x):this._schedule(function(){x._settlePromises()})}):(m.prototype.invokeLater=k,m.prototype.invoke=y,m.prototype.settlePromises=w),m.prototype._drainQueues=function(){$(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,$(this._lateQueue)},m.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},m.prototype._reset=function(){this._isTickUsed=!1},l.exports=m,l.exports.firstLineError=c},{"./queue":26,"./schedule":29,"./util":36}],3:[function(a,l,h){"use strict";l.exports=function(c,_,p,v){var m=!1,k=function(b,x){this._reject(x)},y=function(b,x){x.promiseRejectionQueued=!0,x.bindingPromise._then(k,k,null,this,b)},w=function(b,x){(50397184&this._bitField)==0&&this._resolveCallback(x.target)},$=function(b,x){x.promiseRejectionQueued||this._reject(b)};c.prototype.bind=function(b){m||(m=!0,c.prototype._propagateFrom=v.propagateFromFunction(),c.prototype._boundValue=v.boundValueFunction());var x=p(b),T=new c(_);T._propagateFrom(this,1);var E=this._target();if(T._setBoundTo(x),x instanceof c){var D={promiseRejectionQueued:!1,promise:T,target:E,bindingPromise:x};E._then(_,y,void 0,T,D),x._then(w,$,void 0,T,D),T._setOnCancel(x)}else T._resolveCallback(E);return T},c.prototype._setBoundTo=function(b){b!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=b):this._bitField=-2097153&this._bitField},c.prototype._isBound=function(){return(2097152&this._bitField)==2097152},c.bind=function(b,x){return c.resolve(x).bind(b)}}},{}],4:[function(a,l,h){"use strict";var c;typeof Promise<"u"&&(c=Promise);var _=a("./promise")();_.noConflict=function(){try{Promise===_&&(Promise=c)}catch{}return _},l.exports=_},{"./promise":22}],5:[function(a,l,h){"use strict";var c=Object.create;if(c){var _=c(null),p=c(null);_[" size"]=p[" size"]=0}l.exports=function(v){var m=a("./util"),k=m.canEvaluate;m.isIdentifier;function y(b){return function(x,T){var E;if(x!=null&&(E=x[T]),typeof E!="function"){var D="Object "+m.classString(x)+" has no method '"+m.toString(T)+"'";throw new v.TypeError(D)}return E}(b,this.pop()).apply(b,this)}function w(b){return b[this]}function $(b){var x=+this;return x<0&&(x=Math.max(0,x+b.length)),b[x]}v.prototype.call=function(b){var x=[].slice.call(arguments,1);return x.push(b),this._then(y,void 0,void 0,x,void 0)},v.prototype.get=function(b){var x;if(typeof b=="number")x=$;else if(k){var T=(void 0)(b);x=T!==null?T:w}else x=w;return this._then(x,void 0,void 0,b,void 0)}}},{"./util":36}],6:[function(a,l,h){"use strict";l.exports=function(c,_,p,v){var m=a("./util"),k=m.tryCatch,y=m.errorObj,w=c._async;c.prototype.break=c.prototype.cancel=function(){if(!v.cancellation())return this._warn("cancellation is disabled");for(var $=this,b=$;$._isCancellable();){if(!$._cancelBy(b)){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}var x=$._cancellationParent;if(x==null||!x._isCancellable()){$._isFollowing()?$._followee().cancel():$._cancelBranched();break}$._isFollowing()&&$._followee().cancel(),$._setWillBeCancelled(),b=$,$=x}},c.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},c.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},c.prototype._cancelBy=function($){return $===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},c.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},c.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),w.invoke(this._cancelPromises,this,void 0))},c.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},c.prototype._unsetOnCancel=function(){this._onCancelField=void 0},c.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},c.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},c.prototype._doInvokeOnCancel=function($,b){if(m.isArray($))for(var x=0;x<$.length;++x)this._doInvokeOnCancel($[x],b);else if($!==void 0)if(typeof $=="function"){if(!b){var T=k($).call(this._boundValue());T===y&&(this._attachExtraTrace(T.e),w.throwLater(T.e))}}else $._resultCancelled(this)},c.prototype._invokeOnCancel=function(){var $=this._onCancel();this._unsetOnCancel(),w.invoke(this._doInvokeOnCancel,this,$)},c.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},c.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(a,l,h){"use strict";l.exports=function(c){var _=a("./util"),p=a("./es5").keys,v=_.tryCatch,m=_.errorObj;return function(k,y,w){return function($){var b=w._boundValue();t:for(var x=0;x<k.length;++x){var T=k[x];if(T===Error||T!=null&&T.prototype instanceof Error){if($ instanceof T)return v(y).call(b,$)}else if(typeof T=="function"){var E=v(T).call(b,$);if(E===m)return E;if(E)return v(y).call(b,$)}else if(_.isObject($)){for(var D=p(T),A=0;A<D.length;++A){var M=D[A];if(T[M]!=$[M])continue t}return v(y).call(b,$)}}return c}}}},{"./es5":13,"./util":36}],8:[function(a,l,h){"use strict";l.exports=function(c){var _=!1,p=[];function v(){this._trace=new v.CapturedTrace(m())}function m(){var k=p.length-1;if(k>=0)return p[k]}return c.prototype._promiseCreated=function(){},c.prototype._pushContext=function(){},c.prototype._popContext=function(){return null},c._peekContext=c.prototype._peekContext=function(){},v.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,p.push(this._trace))},v.prototype._popContext=function(){if(this._trace!==void 0){var k=p.pop(),y=k._promiseCreated;return k._promiseCreated=null,y}return null},v.CapturedTrace=null,v.create=function(){if(_)return new v},v.deactivateLongStackTraces=function(){},v.activateLongStackTraces=function(){var k=c.prototype._pushContext,y=c.prototype._popContext,w=c._peekContext,$=c.prototype._peekContext,b=c.prototype._promiseCreated;v.deactivateLongStackTraces=function(){c.prototype._pushContext=k,c.prototype._popContext=y,c._peekContext=w,c.prototype._peekContext=$,c.prototype._promiseCreated=b,_=!1},_=!0,c.prototype._pushContext=v.prototype._pushContext,c.prototype._popContext=v.prototype._popContext,c._peekContext=c.prototype._peekContext=m,c.prototype._promiseCreated=function(){var x=this._peekContext();x&&x._promiseCreated==null&&(x._promiseCreated=this)}},v}},{}],9:[function(a,l,h){"use strict";l.exports=function(c,_){var p,v,m,k=c._getDomain,y=c._async,w=a("./errors").Warning,$=a("./util"),b=a("./es5"),x=$.canAttachTrace,T=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,E=/\((?:timers\.js):\d+:\d+\)/,D=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,A=null,M=null,I=!1,N=$.env("BLUEBIRD_DEBUG")!=0,P=!($.env("BLUEBIRD_WARNINGS")==0||!N&&!$.env("BLUEBIRD_WARNINGS")),O=!($.env("BLUEBIRD_LONG_STACK_TRACES")==0||!N&&!$.env("BLUEBIRD_LONG_STACK_TRACES")),H=$.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(P||!!$.env("BLUEBIRD_W_FORGOTTEN_RETURN"));c.prototype.suppressUnhandledRejections=function(){var j=this._target();j._bitField=-1048577&j._bitField|524288},c.prototype._ensurePossibleRejectionHandled=function(){if((524288&this._bitField)==0){this._setRejectionIsUnhandled();var j=this;setTimeout(function(){j._notifyUnhandledRejection()},1)}},c.prototype._notifyUnhandledRejectionIsHandled=function(){pt("rejectionHandled",p,void 0,this)},c.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},c.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},c.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var j=this._settledValue();this._setUnhandledRejectionIsNotified(),pt("unhandledRejection",v,j,this)}},c.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},c.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},c.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},c.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},c.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},c.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},c.prototype._warn=function(j,z,G){return nt(j,z,G||this)},c.onPossiblyUnhandledRejection=function(j){var z=k();v=typeof j=="function"?z===null?j:$.domainBind(z,j):void 0},c.onUnhandledRejectionHandled=function(j){var z=k();p=typeof j=="function"?z===null?j:$.domainBind(z,j):void 0};var V=function(){};c.longStackTraces=function(){if(y.haveItemsQueued()&&!_t.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!_t.longStackTraces&&yt()){var j=c.prototype._captureStackTrace,z=c.prototype._attachExtraTrace,G=c.prototype._dereferenceTrace;_t.longStackTraces=!0,V=function(){if(y.haveItemsQueued()&&!_t.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);c.prototype._captureStackTrace=j,c.prototype._attachExtraTrace=z,c.prototype._dereferenceTrace=G,_.deactivateLongStackTraces(),y.enableTrampoline(),_t.longStackTraces=!1},c.prototype._captureStackTrace=dt,c.prototype._attachExtraTrace=ft,c.prototype._dereferenceTrace=B,_.activateLongStackTraces(),y.disableTrampolineIfNecessary()}},c.hasLongStackTraces=function(){return _t.longStackTraces&&yt()};var W=function(){try{if(typeof CustomEvent=="function"){var j=new CustomEvent("CustomEvent");return $.global.dispatchEvent(j),function(z,G){var Y={detail:G,cancelable:!0};b.defineProperty(Y,"promise",{value:G.promise}),b.defineProperty(Y,"reason",{value:G.reason});var it=new CustomEvent(z.toLowerCase(),Y);return!$.global.dispatchEvent(it)}}return typeof Event=="function"?(j=new Event("CustomEvent"),$.global.dispatchEvent(j),function(z,G){var Y=new Event(z.toLowerCase(),{cancelable:!0});return Y.detail=G,b.defineProperty(Y,"promise",{value:G.promise}),b.defineProperty(Y,"reason",{value:G.reason}),!$.global.dispatchEvent(Y)}):((j=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),$.global.dispatchEvent(j),function(z,G){var Y=document.createEvent("CustomEvent");return Y.initCustomEvent(z.toLowerCase(),!1,!0,G),!$.global.dispatchEvent(Y)})}catch{}return function(){return!1}}(),J=$.isNode?function(){return g.emit.apply(g,arguments)}:$.global?function(j){var z="on"+j.toLowerCase(),G=$.global[z];return!!G&&(G.apply($.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function q(j,z){return{promise:z}}var X={promiseCreated:q,promiseFulfilled:q,promiseRejected:q,promiseResolved:q,promiseCancelled:q,promiseChained:function(j,z,G){return{promise:z,child:G}},warning:function(j,z){return{warning:z}},unhandledRejection:function(j,z,G){return{reason:z,promise:G}},rejectionHandled:q},R=function(j){var z=!1;try{z=J.apply(null,arguments)}catch(Y){y.throwLater(Y),z=!0}var G=!1;try{G=W(j,X[j].apply(null,arguments))}catch(Y){y.throwLater(Y),G=!0}return G||z};function lt(){return!1}function ut(j,z,G){var Y=this;try{j(z,G,function(it){if(typeof it!="function")throw new TypeError("onCancel must be a function, got: "+$.toString(it));Y._attachCancellationCallback(it)})}catch(it){return it}}function at(j){if(!this._isCancellable())return this;var z=this._onCancel();z!==void 0?$.isArray(z)?z.push(j):this._setOnCancel([z,j]):this._setOnCancel(j)}function L(){return this._onCancelField}function F(j){this._onCancelField=j}function U(){this._cancellationParent=void 0,this._onCancelField=void 0}function K(j,z){if((1&z)!=0){this._cancellationParent=j;var G=j._branchesRemainingToCancel;G===void 0&&(G=0),j._branchesRemainingToCancel=G+1}(2&z)!=0&&j._isBound()&&this._setBoundTo(j._boundTo)}c.config=function(j){if("longStackTraces"in(j=Object(j))&&(j.longStackTraces?c.longStackTraces():!j.longStackTraces&&c.hasLongStackTraces()&&V()),"warnings"in j){var z=j.warnings;_t.warnings=!!z,H=_t.warnings,$.isObject(z)&&"wForgottenReturn"in z&&(H=!!z.wForgottenReturn)}if("cancellation"in j&&j.cancellation&&!_t.cancellation){if(y.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");c.prototype._clearCancellationData=U,c.prototype._propagateFrom=K,c.prototype._onCancel=L,c.prototype._setOnCancel=F,c.prototype._attachCancellationCallback=at,c.prototype._execute=ut,Q=K,_t.cancellation=!0}return"monitoring"in j&&(j.monitoring&&!_t.monitoring?(_t.monitoring=!0,c.prototype._fireEvent=R):!j.monitoring&&_t.monitoring&&(_t.monitoring=!1,c.prototype._fireEvent=lt)),c},c.prototype._fireEvent=lt,c.prototype._execute=function(j,z,G){try{j(z,G)}catch(Y){return Y}},c.prototype._onCancel=function(){},c.prototype._setOnCancel=function(j){},c.prototype._attachCancellationCallback=function(j){},c.prototype._captureStackTrace=function(){},c.prototype._attachExtraTrace=function(){},c.prototype._dereferenceTrace=function(){},c.prototype._clearCancellationData=function(){},c.prototype._propagateFrom=function(j,z){};var Q=function(j,z){(2&z)!=0&&j._isBound()&&this._setBoundTo(j._boundTo)};function et(){var j=this._boundTo;return j!==void 0&&j instanceof c?j.isFulfilled()?j.value():void 0:j}function dt(){this._trace=new wt(this._peekContext())}function ft(j,z){if(x(j)){var G=this._trace;if(G!==void 0&&z&&(G=G._parent),G!==void 0)G.attachExtraTrace(j);else if(!j.__stackCleaned__){var Y=ot(j);$.notEnumerableProp(j,"stack",Y.message+`
`+Y.stack.join(`
`)),$.notEnumerableProp(j,"__stackCleaned__",!0)}}}function B(){this._trace=void 0}function nt(j,z,G){if(_t.warnings){var Y,it=new w(j);if(z)G._attachExtraTrace(it);else if(_t.longStackTraces&&(Y=c._peekContext()))Y.attachExtraTrace(it);else{var tt=ot(it);it.stack=tt.message+`
`+tt.stack.join(`
`)}R("warning",it)||rt(it,"",!0)}}function st(j){for(var z=[],G=0;G<j.length;++G){var Y=j[G],it=Y==="    (No stack trace)"||A.test(Y),tt=it&&xt(Y);it&&!tt&&(I&&Y.charAt(0)!==" "&&(Y="    "+Y),z.push(Y))}return z}function ot(j){var z=j.stack,G=j.toString();return z=typeof z=="string"&&z.length>0?function(Y){for(var it=Y.stack.replace(/\s+$/g,"").split(`
`),tt=0;tt<it.length;++tt){var Z=it[tt];if(Z==="    (No stack trace)"||A.test(Z))break}return tt>0&&Y.name!="SyntaxError"&&(it=it.slice(tt)),it}(j):["    (No stack trace)"],{message:G,stack:j.name=="SyntaxError"?z:st(z)}}function rt(j,z,G){if(typeof console<"u"){var Y;if($.isObject(j)){var it=j.stack;Y=z+M(it,j)}else Y=z+String(j);typeof m=="function"?m(Y,G):typeof console.log!="function"&&n(console.log)!=="object"||console.log(Y)}}function pt(j,z,G,Y){var it=!1;try{typeof z=="function"&&(it=!0,j==="rejectionHandled"?z(Y):z(G,Y))}catch(tt){y.throwLater(tt)}j==="unhandledRejection"?R(j,G,Y)||it||rt(G,"Unhandled rejection "):R(j,Y)}function mt(j){var z;if(typeof j=="function")z="[function "+(j.name||"anonymous")+"]";else{if(z=j&&typeof j.toString=="function"?j.toString():$.toString(j),/\[object [a-zA-Z0-9$_]+\]/.test(z))try{z=JSON.stringify(j)}catch{}z.length===0&&(z="(empty array)")}return"(<"+function(G){return G.length<41?G:G.substr(0,38)+"..."}(z)+">, no stack trace)"}function yt(){return typeof At=="function"}var xt=function(){return!1},St=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function $t(j){var z=j.match(St);if(z)return{fileName:z[1],line:parseInt(z[2],10)}}function wt(j){this._parent=j,this._promisesCreated=0;var z=this._length=1+(j===void 0?0:j._length);At(this,wt),z>32&&this.uncycle()}$.inherits(wt,Error),_.CapturedTrace=wt,wt.prototype.uncycle=function(){var j=this._length;if(!(j<2)){for(var z=[],G={},Y=0,it=this;it!==void 0;++Y)z.push(it),it=it._parent;for(Y=(j=this._length=Y)-1;Y>=0;--Y){var tt=z[Y].stack;G[tt]===void 0&&(G[tt]=Y)}for(Y=0;Y<j;++Y){var Z=G[z[Y].stack];if(Z!==void 0&&Z!==Y){Z>0&&(z[Z-1]._parent=void 0,z[Z-1]._length=1),z[Y]._parent=void 0,z[Y]._length=1;var ct=Y>0?z[Y-1]:this;Z<j-1?(ct._parent=z[Z+1],ct._parent.uncycle(),ct._length=ct._parent._length+1):(ct._parent=void 0,ct._length=1);for(var gt=ct._length+1,ht=Y-2;ht>=0;--ht)z[ht]._length=gt,gt++;return}}}},wt.prototype.attachExtraTrace=function(j){if(!j.__stackCleaned__){this.uncycle();for(var z=ot(j),G=z.message,Y=[z.stack],it=this;it!==void 0;)Y.push(st(it.stack.split(`
`))),it=it._parent;(function(tt){for(var Z=tt[0],ct=1;ct<tt.length;++ct){for(var gt=tt[ct],ht=Z.length-1,Tt=Z[ht],vt=-1,kt=gt.length-1;kt>=0;--kt)if(gt[kt]===Tt){vt=kt;break}for(kt=vt;kt>=0;--kt){var Et=gt[kt];if(Z[ht]!==Et)break;Z.pop(),ht--}Z=gt}})(Y),function(tt){for(var Z=0;Z<tt.length;++Z)(tt[Z].length===0||Z+1<tt.length&&tt[Z][0]===tt[Z+1][0])&&(tt.splice(Z,1),Z--)}(Y),$.notEnumerableProp(j,"stack",function(tt,Z){for(var ct=0;ct<Z.length-1;++ct)Z[ct].push("From previous event:"),Z[ct]=Z[ct].join(`
`);return ct<Z.length&&(Z[ct]=Z[ct].join(`
`)),tt+`
`+Z.join(`
`)}(G,Y)),$.notEnumerableProp(j,"__stackCleaned__",!0)}};var At=function(){var j=/^\s*at\s*/,z=function(tt,Z){return typeof tt=="string"?tt:Z.name!==void 0&&Z.message!==void 0?Z.toString():mt(Z)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,A=j,M=z;var G=Error.captureStackTrace;return xt=function(tt){return T.test(tt)},function(tt,Z){Error.stackTraceLimit+=6,G(tt,Z),Error.stackTraceLimit-=6}}var Y,it=new Error;if(typeof it.stack=="string"&&it.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return A=/@/,M=z,I=!0,function(tt){tt.stack=new Error().stack};try{throw new Error}catch(tt){Y="stack"in tt}return"stack"in it||!Y||typeof Error.stackTraceLimit!="number"?(M=function(tt,Z){return typeof tt=="string"?tt:n(Z)!=="object"&&typeof Z!="function"||Z.name===void 0||Z.message===void 0?mt(Z):Z.toString()},null):(A=j,M=z,function(tt){Error.stackTraceLimit+=6;try{throw new Error}catch(Z){tt.stack=Z.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(m=function(j){console.warn(j)},$.isNode&&g.stderr.isTTY?m=function(j,z){var G=z?"\x1B[33m":"\x1B[31m";console.warn(G+j+`\x1B[0m
`)}:$.isNode||typeof new Error().stack!="string"||(m=function(j,z){console.warn("%c"+j,z?"color: darkorange":"color: red")}));var _t={warnings:P,longStackTraces:!1,cancellation:!1,monitoring:!1};return O&&c.longStackTraces(),{longStackTraces:function(){return _t.longStackTraces},warnings:function(){return _t.warnings},cancellation:function(){return _t.cancellation},monitoring:function(){return _t.monitoring},propagateFromFunction:function(){return Q},boundValueFunction:function(){return et},checkForgottenReturns:function(j,z,G,Y,it){if(j===void 0&&z!==null&&H){if(it!==void 0&&it._returnedNonUndefined()||(65535&Y._bitField)==0)return;G&&(G+=" ");var tt="",Z="";if(z._trace){for(var ct=z._trace.stack.split(`
`),gt=st(ct),ht=gt.length-1;ht>=0;--ht){var Tt=gt[ht];if(!E.test(Tt)){var vt=Tt.match(D);vt&&(tt="at "+vt[1]+":"+vt[2]+":"+vt[3]+" ");break}}if(gt.length>0){var kt=gt[0];for(ht=0;ht<ct.length;++ht)if(ct[ht]===kt){ht>0&&(Z=`
`+ct[ht-1]);break}}}var Et="a promise was created in a "+G+"handler "+tt+"but was not returned from it, see http://goo.gl/rRqMUw"+Z;Y._warn(Et,!0,z)}},setBounds:function(j,z){if(yt()){for(var G,Y,it=j.stack.split(`
`),tt=z.stack.split(`
`),Z=-1,ct=-1,gt=0;gt<it.length;++gt)if(ht=$t(it[gt])){G=ht.fileName,Z=ht.line;break}for(gt=0;gt<tt.length;++gt){var ht;if(ht=$t(tt[gt])){Y=ht.fileName,ct=ht.line;break}}Z<0||ct<0||!G||!Y||G!==Y||Z>=ct||(xt=function(Tt){if(T.test(Tt))return!0;var vt=$t(Tt);return!!(vt&&vt.fileName===G&&Z<=vt.line&&vt.line<=ct)})}},warn:nt,deprecated:function(j,z){var G=j+" is deprecated and will be removed in a future version.";return z&&(G+=" Use "+z+" instead."),nt(G)},CapturedTrace:wt,fireDomEvent:W,fireGlobalEvent:J}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(a,l,h){"use strict";l.exports=function(c){function _(){return this.value}function p(){throw this.reason}c.prototype.return=c.prototype.thenReturn=function(v){return v instanceof c&&v.suppressUnhandledRejections(),this._then(_,void 0,void 0,{value:v},void 0)},c.prototype.throw=c.prototype.thenThrow=function(v){return this._then(p,void 0,void 0,{reason:v},void 0)},c.prototype.catchThrow=function(v){if(arguments.length<=1)return this._then(void 0,p,void 0,{reason:v},void 0);var m=arguments[1];return this.caught(v,function(){throw m})},c.prototype.catchReturn=function(v){if(arguments.length<=1)return v instanceof c&&v.suppressUnhandledRejections(),this._then(void 0,_,void 0,{value:v},void 0);var m=arguments[1];return m instanceof c&&m.suppressUnhandledRejections(),this.caught(v,function(){return m})}}},{}],11:[function(a,l,h){"use strict";l.exports=function(c,_){var p=c.reduce,v=c.all;function m(){return v(this)}c.prototype.each=function(k){return p(this,k,_,0)._then(m,void 0,void 0,this,void 0)},c.prototype.mapSeries=function(k){return p(this,k,_,_)},c.each=function(k,y){return p(k,y,_,0)._then(m,void 0,void 0,k,void 0)},c.mapSeries=function(k,y){return p(k,y,_,_)}}},{}],12:[function(a,l,h){"use strict";var c,_,p=a("./es5"),v=p.freeze,m=a("./util"),k=m.inherits,y=m.notEnumerableProp;function w(N,P){function O(H){if(!(this instanceof O))return new O(H);y(this,"message",typeof H=="string"?H:P),y(this,"name",N),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return k(O,Error),O}var $=w("Warning","warning"),b=w("CancellationError","cancellation error"),x=w("TimeoutError","timeout error"),T=w("AggregateError","aggregate error");try{c=TypeError,_=RangeError}catch{c=w("TypeError","type error"),_=w("RangeError","range error")}for(var E="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),D=0;D<E.length;++D)typeof Array.prototype[E[D]]=="function"&&(T.prototype[E[D]]=Array.prototype[E[D]]);p.defineProperty(T.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),T.prototype.isOperational=!0;var A=0;function M(N){if(!(this instanceof M))return new M(N);y(this,"name","OperationalError"),y(this,"message",N),this.cause=N,this.isOperational=!0,N instanceof Error?(y(this,"message",N.message),y(this,"stack",N.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}T.prototype.toString=function(){var N=Array(4*A+1).join(" "),P=`
`+N+`AggregateError of:
`;A++,N=Array(4*A+1).join(" ");for(var O=0;O<this.length;++O){for(var H=this[O]===this?"[Circular AggregateError]":this[O]+"",V=H.split(`
`),W=0;W<V.length;++W)V[W]=N+V[W];P+=(H=V.join(`
`))+`
`}return A--,P},k(M,Error);var I=Error.__BluebirdErrorTypes__;I||(I=v({CancellationError:b,TimeoutError:x,OperationalError:M,RejectionError:M,AggregateError:T}),p.defineProperty(Error,"__BluebirdErrorTypes__",{value:I,writable:!1,enumerable:!1,configurable:!1})),l.exports={Error,TypeError:c,RangeError:_,CancellationError:I.CancellationError,OperationalError:I.OperationalError,TimeoutError:I.TimeoutError,AggregateError:I.AggregateError,Warning:$}},{"./es5":13,"./util":36}],13:[function(a,l,h){var c=function(){"use strict";return this===void 0}();if(c)l.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:c,propertyIsWritable:function(k,y){var w=Object.getOwnPropertyDescriptor(k,y);return!(w&&!w.writable&&!w.set)}};else{var _={}.hasOwnProperty,p={}.toString,v={}.constructor.prototype,m=function(k){var y=[];for(var w in k)_.call(k,w)&&y.push(w);return y};l.exports={isArray:function(k){try{return p.call(k)==="[object Array]"}catch{return!1}},keys:m,names:m,defineProperty:function(k,y,w){return k[y]=w.value,k},getDescriptor:function(k,y){return{value:k[y]}},freeze:function(k){return k},getPrototypeOf:function(k){try{return Object(k).constructor.prototype}catch{return v}},isES5:c,propertyIsWritable:function(){return!0}}}},{}],14:[function(a,l,h){"use strict";l.exports=function(c,_){var p=c.map;c.prototype.filter=function(v,m){return p(this,v,m,_)},c.filter=function(v,m,k){return p(v,m,k,_)}}},{}],15:[function(a,l,h){"use strict";l.exports=function(c,_,p){var v=a("./util"),m=c.CancellationError,k=v.errorObj,y=a("./catch_filter")(p);function w(D,A,M){this.promise=D,this.type=A,this.handler=M,this.called=!1,this.cancelPromise=null}function $(D){this.finallyHandler=D}function b(D,A){return D.cancelPromise!=null&&(arguments.length>1?D.cancelPromise._reject(A):D.cancelPromise._cancel(),D.cancelPromise=null,!0)}function x(){return E.call(this,this.promise._target()._settledValue())}function T(D){if(!b(this,D))return k.e=D,k}function E(D){var A=this.promise,M=this.handler;if(!this.called){this.called=!0;var I=this.isFinallyHandler()?M.call(A._boundValue()):M.call(A._boundValue(),D);if(I===p)return I;if(I!==void 0){A._setReturnedNonUndefined();var N=_(I,A);if(N instanceof c){if(this.cancelPromise!=null){if(N._isCancelled()){var P=new m("late cancellation observer");return A._attachExtraTrace(P),k.e=P,k}N.isPending()&&N._attachCancellationCallback(new $(this))}return N._then(x,T,void 0,this,void 0)}}}return A.isRejected()?(b(this),k.e=D,k):(b(this),D)}return w.prototype.isFinallyHandler=function(){return this.type===0},$.prototype._resultCancelled=function(){b(this.finallyHandler)},c.prototype._passThrough=function(D,A,M,I){return typeof D!="function"?this.then():this._then(M,I,void 0,new w(this,A,D),void 0)},c.prototype.lastly=c.prototype.finally=function(D){return this._passThrough(D,0,E,E)},c.prototype.tap=function(D){return this._passThrough(D,1,E)},c.prototype.tapCatch=function(D){var A=arguments.length;if(A===1)return this._passThrough(D,1,void 0,E);var M,I=new Array(A-1),N=0;for(M=0;M<A-1;++M){var P=arguments[M];if(!v.isObject(P))return c.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+v.classString(P)));I[N++]=P}I.length=N;var O=arguments[M];return this._passThrough(y(I,O,this),1,void 0,E)},w}},{"./catch_filter":7,"./util":36}],16:[function(a,l,h){"use strict";l.exports=function(c,_,p,v,m,k){var y=a("./errors").TypeError,w=a("./util"),$=w.errorObj,b=w.tryCatch,x=[];function T(E,D,A,M){if(k.cancellation()){var I=new c(p),N=this._finallyPromise=new c(p);this._promise=I.lastly(function(){return N}),I._captureStackTrace(),I._setOnCancel(this)}else(this._promise=new c(p))._captureStackTrace();this._stack=M,this._generatorFunction=E,this._receiver=D,this._generator=void 0,this._yieldHandlers=typeof A=="function"?[A].concat(x):x,this._yieldedPromise=null,this._cancellationPhase=!1}w.inherits(T,m),T.prototype._isResolved=function(){return this._promise===null},T.prototype._cleanup=function(){this._promise=this._generator=null,k.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},T.prototype._promiseCancelled=function(){if(!this._isResolved()){var E;if(this._generator.return!==void 0)this._promise._pushContext(),E=b(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var D=new c.CancellationError("generator .return() sentinel");c.coroutine.returnSentinel=D,this._promise._attachExtraTrace(D),this._promise._pushContext(),E=b(this._generator.throw).call(this._generator,D),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(E)}},T.prototype._promiseFulfilled=function(E){this._yieldedPromise=null,this._promise._pushContext();var D=b(this._generator.next).call(this._generator,E);this._promise._popContext(),this._continue(D)},T.prototype._promiseRejected=function(E){this._yieldedPromise=null,this._promise._attachExtraTrace(E),this._promise._pushContext();var D=b(this._generator.throw).call(this._generator,E);this._promise._popContext(),this._continue(D)},T.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof c){var E=this._yieldedPromise;this._yieldedPromise=null,E.cancel()}},T.prototype.promise=function(){return this._promise},T.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},T.prototype._continue=function(E){var D=this._promise;if(E===$)return this._cleanup(),this._cancellationPhase?D.cancel():D._rejectCallback(E.e,!1);var A=E.value;if(E.done===!0)return this._cleanup(),this._cancellationPhase?D.cancel():D._resolveCallback(A);var M=v(A,this._promise);if(M instanceof c||(M=function(N,P,O){for(var H=0;H<P.length;++H){O._pushContext();var V=b(P[H])(N);if(O._popContext(),V===$){O._pushContext();var W=c.reject($.e);return O._popContext(),W}var J=v(V,O);if(J instanceof c)return J}return null}(M,this._yieldHandlers,this._promise))!==null){var I=(M=M._target())._bitField;(50397184&I)==0?(this._yieldedPromise=M,M._proxy(this,null)):(33554432&I)!=0?c._async.invoke(this._promiseFulfilled,this,M._value()):(16777216&I)!=0?c._async.invoke(this._promiseRejected,this,M._reason()):this._promiseCancelled()}else this._promiseRejected(new y(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(A))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)))},c.coroutine=function(E,D){if(typeof E!="function")throw new y(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var A=Object(D).yieldHandler,M=T,I=new Error().stack;return function(){var N=E.apply(this,arguments),P=new M(void 0,void 0,A,I),O=P.promise();return P._generator=N,P._promiseFulfilled(void 0),O}},c.coroutine.addYieldHandler=function(E){if(typeof E!="function")throw new y("expecting a function but got "+w.classString(E));x.push(E)},c.spawn=function(E){if(k.deprecated("Promise.spawn()","Promise.coroutine()"),typeof E!="function")return _(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var D=new T(E,this),A=D.promise();return D._run(c.spawn),A}}},{"./errors":12,"./util":36}],17:[function(a,l,h){"use strict";l.exports=function(c,_,p,v,m,k){var y=a("./util");y.canEvaluate,y.tryCatch,y.errorObj,c.join=function(){var w,$=arguments.length-1;$>0&&typeof arguments[$]=="function"&&(w=arguments[$]);var b=[].slice.call(arguments);w&&b.pop();var x=new _(b).promise();return w!==void 0?x.spread(w):x}}},{"./util":36}],18:[function(a,l,h){"use strict";l.exports=function(c,_,p,v,m,k){var y=c._getDomain,w=a("./util"),$=w.tryCatch,b=w.errorObj,x=c._async;function T(D,A,M,I){this.constructor$(D),this._promise._captureStackTrace();var N=y();this._callback=N===null?A:w.domainBind(N,A),this._preservedValues=I===m?new Array(this.length()):null,this._limit=M,this._inFlight=0,this._queue=[],x.invoke(this._asyncInit,this,void 0)}function E(D,A,M,I){if(typeof A!="function")return p("expecting a function but got "+w.classString(A));var N=0;if(M!==void 0){if(n(M)!=="object"||M===null)return c.reject(new TypeError("options argument must be an object but it is "+w.classString(M)));if(typeof M.concurrency!="number")return c.reject(new TypeError("'concurrency' must be a number but it is "+w.classString(M.concurrency)));N=M.concurrency}return new T(D,A,N=typeof N=="number"&&isFinite(N)&&N>=1?N:0,I).promise()}w.inherits(T,_),T.prototype._asyncInit=function(){this._init$(void 0,-2)},T.prototype._init=function(){},T.prototype._promiseFulfilled=function(D,A){var M=this._values,I=this.length(),N=this._preservedValues,P=this._limit;if(A<0){if(M[A=-1*A-1]=D,P>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(P>=1&&this._inFlight>=P)return M[A]=D,this._queue.push(A),!1;N!==null&&(N[A]=D);var O=this._promise,H=this._callback,V=O._boundValue();O._pushContext();var W=$(H).call(V,D,A,I),J=O._popContext();if(k.checkForgottenReturns(W,J,N!==null?"Promise.filter":"Promise.map",O),W===b)return this._reject(W.e),!0;var q=v(W,this._promise);if(q instanceof c){var X=(q=q._target())._bitField;if((50397184&X)==0)return P>=1&&this._inFlight++,M[A]=q,q._proxy(this,-1*(A+1)),!1;if((33554432&X)==0)return(16777216&X)!=0?(this._reject(q._reason()),!0):(this._cancel(),!0);W=q._value()}M[A]=W}return++this._totalResolved>=I&&(N!==null?this._filter(M,N):this._resolve(M),!0)},T.prototype._drainQueue=function(){for(var D=this._queue,A=this._limit,M=this._values;D.length>0&&this._inFlight<A;){if(this._isResolved())return;var I=D.pop();this._promiseFulfilled(M[I],I)}},T.prototype._filter=function(D,A){for(var M=A.length,I=new Array(M),N=0,P=0;P<M;++P)D[P]&&(I[N++]=A[P]);I.length=N,this._resolve(I)},T.prototype.preservedValues=function(){return this._preservedValues},c.prototype.map=function(D,A){return E(this,D,A,null)},c.map=function(D,A,M,I){return E(D,A,M,I)}}},{"./util":36}],19:[function(a,l,h){"use strict";l.exports=function(c,_,p,v,m){var k=a("./util"),y=k.tryCatch;c.method=function(w){if(typeof w!="function")throw new c.TypeError("expecting a function but got "+k.classString(w));return function(){var $=new c(_);$._captureStackTrace(),$._pushContext();var b=y(w).apply(this,arguments),x=$._popContext();return m.checkForgottenReturns(b,x,"Promise.method",$),$._resolveFromSyncValue(b),$}},c.attempt=c.try=function(w){if(typeof w!="function")return v("expecting a function but got "+k.classString(w));var $,b=new c(_);if(b._captureStackTrace(),b._pushContext(),arguments.length>1){m.deprecated("calling Promise.try with more than 1 argument");var x=arguments[1],T=arguments[2];$=k.isArray(x)?y(w).apply(T,x):y(w).call(T,x)}else $=y(w)();var E=b._popContext();return m.checkForgottenReturns($,E,"Promise.try",b),b._resolveFromSyncValue($),b},c.prototype._resolveFromSyncValue=function(w){w===k.errorObj?this._rejectCallback(w.e,!1):this._resolveCallback(w,!0)}}},{"./util":36}],20:[function(a,l,h){"use strict";var c=a("./util"),_=c.maybeWrapAsError,p=a("./errors").OperationalError,v=a("./es5"),m=/^(?:name|message|stack|cause)$/;function k(y){var w;if(function(T){return T instanceof Error&&v.getPrototypeOf(T)===Error.prototype}(y)){(w=new p(y)).name=y.name,w.message=y.message,w.stack=y.stack;for(var $=v.keys(y),b=0;b<$.length;++b){var x=$[b];m.test(x)||(w[x]=y[x])}return w}return c.markAsOriginatingFromRejection(y),y}l.exports=function(y,w){return function($,b){if(y!==null){if($){var x=k(_($));y._attachExtraTrace(x),y._reject(x)}else if(w){var T=[].slice.call(arguments,1);y._fulfill(T)}else y._fulfill(b);y=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(a,l,h){"use strict";l.exports=function(c){var _=a("./util"),p=c._async,v=_.tryCatch,m=_.errorObj;function k($,b){if(!_.isArray($))return y.call(this,$,b);var x=v(b).apply(this._boundValue(),[null].concat($));x===m&&p.throwLater(x.e)}function y($,b){var x=this._boundValue(),T=$===void 0?v(b).call(x,null):v(b).call(x,null,$);T===m&&p.throwLater(T.e)}function w($,b){if(!$){var x=new Error($+"");x.cause=$,$=x}var T=v(b).call(this._boundValue(),$);T===m&&p.throwLater(T.e)}c.prototype.asCallback=c.prototype.nodeify=function($,b){if(typeof $=="function"){var x=y;b!==void 0&&Object(b).spread&&(x=k),this._then(x,w,void 0,this,$)}return this}}},{"./util":36}],22:[function(a,l,h){"use strict";l.exports=function(){var c=function(){return new T(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},_=function(){return new R.PromiseInspection(this._target())},p=function(L){return R.reject(new T(L))};function v(){}var m,k={},y=a("./util");m=y.isNode?function(){var L=g.domain;return L===void 0&&(L=null),L}:function(){return null},y.notEnumerableProp(R,"_getDomain",m);var w=a("./es5"),$=a("./async"),b=new $;w.defineProperty(R,"_async",{value:b});var x=a("./errors"),T=R.TypeError=x.TypeError;R.RangeError=x.RangeError;var E=R.CancellationError=x.CancellationError;R.TimeoutError=x.TimeoutError,R.OperationalError=x.OperationalError,R.RejectionError=x.OperationalError,R.AggregateError=x.AggregateError;var D=function(){},A={},M={},I=a("./thenables")(R,D),N=a("./promise_array")(R,D,I,p,v),P=a("./context")(R),O=P.create,H=a("./debuggability")(R,P),V=(H.CapturedTrace,a("./finally")(R,I,M)),W=a("./catch_filter")(M),J=a("./nodeback"),q=y.errorObj,X=y.tryCatch;function R(L){L!==D&&function(F,U){if(F==null||F.constructor!==R)throw new T(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof U!="function")throw new T("expecting a function but got "+y.classString(U))}(this,L),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(L),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function lt(L){this.promise._resolveCallback(L)}function ut(L){this.promise._rejectCallback(L,!1)}function at(L){var F=new R(D);F._fulfillmentHandler0=L,F._rejectionHandler0=L,F._promise0=L,F._receiver0=L}return R.prototype.toString=function(){return"[object Promise]"},R.prototype.caught=R.prototype.catch=function(L){var F=arguments.length;if(F>1){var U,K=new Array(F-1),Q=0;for(U=0;U<F-1;++U){var et=arguments[U];if(!y.isObject(et))return p("Catch statement predicate: expecting an object but got "+y.classString(et));K[Q++]=et}return K.length=Q,L=arguments[U],this.then(void 0,W(K,L,this))}return this.then(void 0,L)},R.prototype.reflect=function(){return this._then(_,_,void 0,this,void 0)},R.prototype.then=function(L,F){if(H.warnings()&&arguments.length>0&&typeof L!="function"&&typeof F!="function"){var U=".then() only accepts functions but was passed: "+y.classString(L);arguments.length>1&&(U+=", "+y.classString(F)),this._warn(U)}return this._then(L,F,void 0,void 0,void 0)},R.prototype.done=function(L,F){this._then(L,F,void 0,void 0,void 0)._setIsFinal()},R.prototype.spread=function(L){return typeof L!="function"?p("expecting a function but got "+y.classString(L)):this.all()._then(L,void 0,void 0,A,void 0)},R.prototype.toJSON=function(){var L={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(L.fulfillmentValue=this.value(),L.isFulfilled=!0):this.isRejected()&&(L.rejectionReason=this.reason(),L.isRejected=!0),L},R.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new N(this).promise()},R.prototype.error=function(L){return this.caught(y.originatesFromRejection,L)},R.getNewLibraryCopy=l.exports,R.is=function(L){return L instanceof R},R.fromNode=R.fromCallback=function(L){var F=new R(D);F._captureStackTrace();var U=arguments.length>1&&!!Object(arguments[1]).multiArgs,K=X(L)(J(F,U));return K===q&&F._rejectCallback(K.e,!0),F._isFateSealed()||F._setAsyncGuaranteed(),F},R.all=function(L){return new N(L).promise()},R.cast=function(L){var F=I(L);return F instanceof R||((F=new R(D))._captureStackTrace(),F._setFulfilled(),F._rejectionHandler0=L),F},R.resolve=R.fulfilled=R.cast,R.reject=R.rejected=function(L){var F=new R(D);return F._captureStackTrace(),F._rejectCallback(L,!0),F},R.setScheduler=function(L){if(typeof L!="function")throw new T("expecting a function but got "+y.classString(L));return b.setScheduler(L)},R.prototype._then=function(L,F,U,K,Q){var et=Q!==void 0,dt=et?Q:new R(D),ft=this._target(),B=ft._bitField;et||(dt._propagateFrom(this,3),dt._captureStackTrace(),K===void 0&&(2097152&this._bitField)!=0&&(K=(50397184&B)!=0?this._boundValue():ft===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,dt));var nt=m();if((50397184&B)!=0){var st,ot,rt=ft._settlePromiseCtx;(33554432&B)!=0?(ot=ft._rejectionHandler0,st=L):(16777216&B)!=0?(ot=ft._fulfillmentHandler0,st=F,ft._unsetRejectionIsUnhandled()):(rt=ft._settlePromiseLateCancellationObserver,ot=new E("late cancellation observer"),ft._attachExtraTrace(ot),st=F),b.invoke(rt,ft,{handler:nt===null?st:typeof st=="function"&&y.domainBind(nt,st),promise:dt,receiver:K,value:ot})}else ft._addCallbacks(L,F,dt,K,nt);return dt},R.prototype._length=function(){return 65535&this._bitField},R.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},R.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},R.prototype._setLength=function(L){this._bitField=-65536&this._bitField|65535&L},R.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},R.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},R.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},R.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},R.prototype._isFinal=function(){return(4194304&this._bitField)>0},R.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},R.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},R.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},R.prototype._setAsyncGuaranteed=function(){b.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},R.prototype._receiverAt=function(L){var F=L===0?this._receiver0:this[4*L-4+3];if(F!==k)return F===void 0&&this._isBound()?this._boundValue():F},R.prototype._promiseAt=function(L){return this[4*L-4+2]},R.prototype._fulfillmentHandlerAt=function(L){return this[4*L-4+0]},R.prototype._rejectionHandlerAt=function(L){return this[4*L-4+1]},R.prototype._boundValue=function(){},R.prototype._migrateCallback0=function(L){L._bitField;var F=L._fulfillmentHandler0,U=L._rejectionHandler0,K=L._promise0,Q=L._receiverAt(0);Q===void 0&&(Q=k),this._addCallbacks(F,U,K,Q,null)},R.prototype._migrateCallbackAt=function(L,F){var U=L._fulfillmentHandlerAt(F),K=L._rejectionHandlerAt(F),Q=L._promiseAt(F),et=L._receiverAt(F);et===void 0&&(et=k),this._addCallbacks(U,K,Q,et,null)},R.prototype._addCallbacks=function(L,F,U,K,Q){var et=this._length();if(et>=65531&&(et=0,this._setLength(0)),et===0)this._promise0=U,this._receiver0=K,typeof L=="function"&&(this._fulfillmentHandler0=Q===null?L:y.domainBind(Q,L)),typeof F=="function"&&(this._rejectionHandler0=Q===null?F:y.domainBind(Q,F));else{var dt=4*et-4;this[dt+2]=U,this[dt+3]=K,typeof L=="function"&&(this[dt+0]=Q===null?L:y.domainBind(Q,L)),typeof F=="function"&&(this[dt+1]=Q===null?F:y.domainBind(Q,F))}return this._setLength(et+1),et},R.prototype._proxy=function(L,F){this._addCallbacks(void 0,void 0,F,L,null)},R.prototype._resolveCallback=function(L,F){if((117506048&this._bitField)==0){if(L===this)return this._rejectCallback(c(),!1);var U=I(L,this);if(!(U instanceof R))return this._fulfill(L);F&&this._propagateFrom(U,2);var K=U._target();if(K!==this){var Q=K._bitField;if((50397184&Q)==0){var et=this._length();et>0&&K._migrateCallback0(this);for(var dt=1;dt<et;++dt)K._migrateCallbackAt(this,dt);this._setFollowing(),this._setLength(0),this._setFollowee(K)}else if((33554432&Q)!=0)this._fulfill(K._value());else if((16777216&Q)!=0)this._reject(K._reason());else{var ft=new E("late cancellation observer");K._attachExtraTrace(ft),this._reject(ft)}}else this._reject(c())}},R.prototype._rejectCallback=function(L,F,U){var K=y.ensureErrorObject(L),Q=K===L;if(!Q&&!U&&H.warnings()){var et="a promise was rejected with a non-error: "+y.classString(L);this._warn(et,!0)}this._attachExtraTrace(K,!!F&&Q),this._reject(L)},R.prototype._resolveFromExecutor=function(L){if(L!==D){var F=this;this._captureStackTrace(),this._pushContext();var U=!0,K=this._execute(L,function(Q){F._resolveCallback(Q)},function(Q){F._rejectCallback(Q,U)});U=!1,this._popContext(),K!==void 0&&F._rejectCallback(K,!0)}},R.prototype._settlePromiseFromHandler=function(L,F,U,K){var Q=K._bitField;if((65536&Q)==0){var et;K._pushContext(),F===A?U&&typeof U.length=="number"?et=X(L).apply(this._boundValue(),U):(et=q).e=new T("cannot .spread() a non-array: "+y.classString(U)):et=X(L).call(F,U);var dt=K._popContext();(65536&(Q=K._bitField))==0&&(et===M?K._reject(U):et===q?K._rejectCallback(et.e,!1):(H.checkForgottenReturns(et,dt,"",K,this),K._resolveCallback(et)))}},R.prototype._target=function(){for(var L=this;L._isFollowing();)L=L._followee();return L},R.prototype._followee=function(){return this._rejectionHandler0},R.prototype._setFollowee=function(L){this._rejectionHandler0=L},R.prototype._settlePromise=function(L,F,U,K){var Q=L instanceof R,et=this._bitField,dt=(134217728&et)!=0;(65536&et)!=0?(Q&&L._invokeInternalOnCancel(),U instanceof V&&U.isFinallyHandler()?(U.cancelPromise=L,X(F).call(U,K)===q&&L._reject(q.e)):F===_?L._fulfill(_.call(U)):U instanceof v?U._promiseCancelled(L):Q||L instanceof N?L._cancel():U.cancel()):typeof F=="function"?Q?(dt&&L._setAsyncGuaranteed(),this._settlePromiseFromHandler(F,U,K,L)):F.call(U,K,L):U instanceof v?U._isResolved()||((33554432&et)!=0?U._promiseFulfilled(K,L):U._promiseRejected(K,L)):Q&&(dt&&L._setAsyncGuaranteed(),(33554432&et)!=0?L._fulfill(K):L._reject(K))},R.prototype._settlePromiseLateCancellationObserver=function(L){var F=L.handler,U=L.promise,K=L.receiver,Q=L.value;typeof F=="function"?U instanceof R?this._settlePromiseFromHandler(F,K,Q,U):F.call(K,Q,U):U instanceof R&&U._reject(Q)},R.prototype._settlePromiseCtx=function(L){this._settlePromise(L.promise,L.handler,L.receiver,L.value)},R.prototype._settlePromise0=function(L,F,U){var K=this._promise0,Q=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(K,L,Q,F)},R.prototype._clearCallbackDataAtIndex=function(L){var F=4*L-4;this[F+2]=this[F+3]=this[F+0]=this[F+1]=void 0},R.prototype._fulfill=function(L){var F=this._bitField;if(!((117506048&F)>>>16)){if(L===this){var U=c();return this._attachExtraTrace(U),this._reject(U)}this._setFulfilled(),this._rejectionHandler0=L,(65535&F)>0&&((134217728&F)!=0?this._settlePromises():b.settlePromises(this),this._dereferenceTrace())}},R.prototype._reject=function(L){var F=this._bitField;if(!((117506048&F)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=L,this._isFinal())return b.fatalError(L,y.isNode);(65535&F)>0?b.settlePromises(this):this._ensurePossibleRejectionHandled()}},R.prototype._fulfillPromises=function(L,F){for(var U=1;U<L;U++){var K=this._fulfillmentHandlerAt(U),Q=this._promiseAt(U),et=this._receiverAt(U);this._clearCallbackDataAtIndex(U),this._settlePromise(Q,K,et,F)}},R.prototype._rejectPromises=function(L,F){for(var U=1;U<L;U++){var K=this._rejectionHandlerAt(U),Q=this._promiseAt(U),et=this._receiverAt(U);this._clearCallbackDataAtIndex(U),this._settlePromise(Q,K,et,F)}},R.prototype._settlePromises=function(){var L=this._bitField,F=65535&L;if(F>0){if((16842752&L)!=0){var U=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,U,L),this._rejectPromises(F,U)}else{var K=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,K,L),this._fulfillPromises(F,K)}this._setLength(0)}this._clearCancellationData()},R.prototype._settledValue=function(){var L=this._bitField;return(33554432&L)!=0?this._rejectionHandler0:(16777216&L)!=0?this._fulfillmentHandler0:void 0},R.defer=R.pending=function(){return H.deprecated("Promise.defer","new Promise"),{promise:new R(D),resolve:lt,reject:ut}},y.notEnumerableProp(R,"_makeSelfResolutionError",c),a("./method")(R,D,I,p,H),a("./bind")(R,D,I,H),a("./cancel")(R,N,p,H),a("./direct_resolve")(R),a("./synchronous_inspection")(R),a("./join")(R,N,I,D,b,m),R.Promise=R,R.version="3.5.4",a("./map.js")(R,N,p,I,D,H),a("./call_get.js")(R),a("./using.js")(R,p,I,O,D,H),a("./timers.js")(R,D,H),a("./generators.js")(R,p,D,I,v,H),a("./nodeify.js")(R),a("./promisify.js")(R,D),a("./props.js")(R,N,I,p),a("./race.js")(R,D,I,p),a("./reduce.js")(R,N,p,I,D,H),a("./settle.js")(R,N,H),a("./some.js")(R,N,p),a("./filter.js")(R,D),a("./each.js")(R,D),a("./any.js")(R),y.toFastProperties(R),y.toFastProperties(R.prototype),at({a:1}),at({b:2}),at({c:3}),at(1),at(function(){}),at(void 0),at(!1),at(new R(D)),H.setBounds($.firstLineError,y.lastLineError),R}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(a,l,h){"use strict";l.exports=function(c,_,p,v,m){var k=a("./util");k.isArray;function y(w){var $=this._promise=new c(_);w instanceof c&&$._propagateFrom(w,3),$._setOnCancel(this),this._values=w,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return k.inherits(y,m),y.prototype.length=function(){return this._length},y.prototype.promise=function(){return this._promise},y.prototype._init=function w($,b){var x=p(this._values,this._promise);if(x instanceof c){var T=(x=x._target())._bitField;if(this._values=x,(50397184&T)==0)return this._promise._setAsyncGuaranteed(),x._then(w,this._reject,void 0,this,b);if((33554432&T)==0)return(16777216&T)!=0?this._reject(x._reason()):this._cancel();x=x._value()}if((x=k.asArray(x))!==null)x.length!==0?this._iterate(x):b===-5?this._resolveEmptyArray():this._resolve(function(D){switch(D){case-2:return[];case-3:return{};case-6:return new Map}}(b));else{var E=v("expecting an array or an iterable object but got "+k.classString(x)).reason();this._promise._rejectCallback(E,!1)}},y.prototype._iterate=function(w){var $=this.getActualLength(w.length);this._length=$,this._values=this.shouldCopyValues()?new Array($):this._values;for(var b=this._promise,x=!1,T=null,E=0;E<$;++E){var D=p(w[E],b);T=D instanceof c?(D=D._target())._bitField:null,x?T!==null&&D.suppressUnhandledRejections():T!==null?(50397184&T)==0?(D._proxy(this,E),this._values[E]=D):x=(33554432&T)!=0?this._promiseFulfilled(D._value(),E):(16777216&T)!=0?this._promiseRejected(D._reason(),E):this._promiseCancelled(E):x=this._promiseFulfilled(D,E)}x||b._setAsyncGuaranteed()},y.prototype._isResolved=function(){return this._values===null},y.prototype._resolve=function(w){this._values=null,this._promise._fulfill(w)},y.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},y.prototype._reject=function(w){this._values=null,this._promise._rejectCallback(w,!1)},y.prototype._promiseFulfilled=function(w,$){return this._values[$]=w,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},y.prototype._promiseCancelled=function(){return this._cancel(),!0},y.prototype._promiseRejected=function(w){return this._totalResolved++,this._reject(w),!0},y.prototype._resultCancelled=function(){if(!this._isResolved()){var w=this._values;if(this._cancel(),w instanceof c)w.cancel();else for(var $=0;$<w.length;++$)w[$]instanceof c&&w[$].cancel()}},y.prototype.shouldCopyValues=function(){return!0},y.prototype.getActualLength=function(w){return w},y}},{"./util":36}],24:[function(a,l,h){"use strict";l.exports=function(c,_){var p={},v=a("./util"),m=a("./nodeback"),k=v.withAppended,y=v.maybeWrapAsError,w=v.canEvaluate,$=a("./errors").TypeError,b={__isPromisified__:!0},x=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),T=function(O){return v.isIdentifier(O)&&O.charAt(0)!=="_"&&O!=="constructor"};function E(O){return!x.test(O)}function D(O){try{return O.__isPromisified__===!0}catch{return!1}}function A(O,H,V){var W=v.getDataPropertyOrDefault(O,H+V,b);return!!W&&D(W)}function M(O,H,V,W){for(var J=v.inheritedDataKeys(O),q=[],X=0;X<J.length;++X){var R=J[X],lt=O[R],ut=W===T||T(R,lt,O);typeof lt!="function"||D(lt)||A(O,R,H)||!W(R,lt,O,ut)||q.push(R,lt)}return function(at,L,F){for(var U=0;U<at.length;U+=2){var K=at[U];if(F.test(K)){for(var Q=K.replace(F,""),et=0;et<at.length;et+=2)if(at[et]===Q)throw new $(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",L))}}}(q,H,V),q}var I=function(O){return O.replace(/([$])/,"\\$")},N=w?void 0:function(O,H,V,W,J,q){var X=function(){return this}(),R=O;function lt(){var ut=H;H===p&&(ut=this);var at=new c(_);at._captureStackTrace();var L=typeof R=="string"&&this!==X?this[R]:O,F=m(at,q);try{L.apply(ut,k(arguments,F))}catch(U){at._rejectCallback(y(U),!0,!0)}return at._isFateSealed()||at._setAsyncGuaranteed(),at}return typeof R=="string"&&(O=W),v.notEnumerableProp(lt,"__isPromisified__",!0),lt};function P(O,H,V,W,J){for(var q=new RegExp(I(H)+"$"),X=M(O,H,q,V),R=0,lt=X.length;R<lt;R+=2){var ut=X[R],at=X[R+1],L=ut+H;if(W===N)O[L]=N(ut,p,ut,at,H,J);else{var F=W(at,function(){return N(ut,p,ut,at,H,J)});v.notEnumerableProp(F,"__isPromisified__",!0),O[L]=F}}return v.toFastProperties(O),O}c.promisify=function(O,H){if(typeof O!="function")throw new $("expecting a function but got "+v.classString(O));if(D(O))return O;var V=function(W,J,q){return N(W,J,void 0,W,null,q)}(O,(H=Object(H)).context===void 0?p:H.context,!!H.multiArgs);return v.copyDescriptors(O,V,E),V},c.promisifyAll=function(O,H){if(typeof O!="function"&&n(O)!=="object")throw new $(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);var V=!!(H=Object(H)).multiArgs,W=H.suffix;typeof W!="string"&&(W="Async");var J=H.filter;typeof J!="function"&&(J=T);var q=H.promisifier;if(typeof q!="function"&&(q=N),!v.isIdentifier(W))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var X=v.inheritedDataKeys(O),R=0;R<X.length;++R){var lt=O[X[R]];X[R]!=="constructor"&&v.isClass(lt)&&(P(lt.prototype,W,J,q,V),P(lt,W,J,q,V))}return P(O,W,J,q,V)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(a,l,h){"use strict";l.exports=function(c,_,p,v){var m,k=a("./util"),y=k.isObject,w=a("./es5");typeof Map=="function"&&(m=Map);var $=function(){var T=0,E=0;function D(A,M){this[T]=A,this[T+E]=M,T++}return function(A){E=A.size,T=0;var M=new Array(2*A.size);return A.forEach(D,M),M}}();function b(T){var E,D=!1;if(m!==void 0&&T instanceof m)E=$(T),D=!0;else{var A=w.keys(T),M=A.length;E=new Array(2*M);for(var I=0;I<M;++I){var N=A[I];E[I]=T[N],E[I+M]=N}}this.constructor$(E),this._isMap=D,this._init$(void 0,D?-6:-3)}function x(T){var E,D=p(T);return y(D)?(E=D instanceof c?D._then(c.props,void 0,void 0,void 0,void 0):new b(D).promise(),D instanceof c&&E._propagateFrom(D,2),E):v(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}k.inherits(b,_),b.prototype._init=function(){},b.prototype._promiseFulfilled=function(T,E){if(this._values[E]=T,++this._totalResolved>=this._length){var D;if(this._isMap)D=function(N){for(var P=new m,O=N.length/2|0,H=0;H<O;++H){var V=N[O+H],W=N[H];P.set(V,W)}return P}(this._values);else{D={};for(var A=this.length(),M=0,I=this.length();M<I;++M)D[this._values[M+A]]=this._values[M]}return this._resolve(D),!0}return!1},b.prototype.shouldCopyValues=function(){return!1},b.prototype.getActualLength=function(T){return T>>1},c.prototype.props=function(){return x(this)},c.props=function(T){return x(T)}}},{"./es5":13,"./util":36}],26:[function(a,l,h){"use strict";function c(_){this._capacity=_,this._length=0,this._front=0}c.prototype._willBeOverCapacity=function(_){return this._capacity<_},c.prototype._pushOne=function(_){var p=this.length();this._checkCapacity(p+1),this[this._front+p&this._capacity-1]=_,this._length=p+1},c.prototype.push=function(_,p,v){var m=this.length()+3;if(this._willBeOverCapacity(m))return this._pushOne(_),this._pushOne(p),void this._pushOne(v);var k=this._front+m-3;this._checkCapacity(m);var y=this._capacity-1;this[k+0&y]=_,this[k+1&y]=p,this[k+2&y]=v,this._length=m},c.prototype.shift=function(){var _=this._front,p=this[_];return this[_]=void 0,this._front=_+1&this._capacity-1,this._length--,p},c.prototype.length=function(){return this._length},c.prototype._checkCapacity=function(_){this._capacity<_&&this._resizeTo(this._capacity<<1)},c.prototype._resizeTo=function(_){var p=this._capacity;this._capacity=_,function(v,m,k,y,w){for(var $=0;$<w;++$)k[$+y]=v[$+m],v[$+m]=void 0}(this,0,this,p,this._front+this._length&p-1)},l.exports=c},{}],27:[function(a,l,h){"use strict";l.exports=function(c,_,p,v){var m=a("./util"),k=function(w){return w.then(function($){return y($,w)})};function y(w,$){var b=p(w);if(b instanceof c)return k(b);if((w=m.asArray(w))===null)return v("expecting an array or an iterable object but got "+m.classString(w));var x=new c(_);$!==void 0&&x._propagateFrom($,3);for(var T=x._fulfill,E=x._reject,D=0,A=w.length;D<A;++D){var M=w[D];(M!==void 0||D in w)&&c.cast(M)._then(T,E,void 0,x,null)}return x}c.race=function(w){return y(w,void 0)},c.prototype.race=function(){return y(this,void 0)}}},{"./util":36}],28:[function(a,l,h){"use strict";l.exports=function(c,_,p,v,m,k){var y=c._getDomain,w=a("./util"),$=w.tryCatch;function b(A,M,I,N){this.constructor$(A);var P=y();this._fn=P===null?M:w.domainBind(P,M),I!==void 0&&(I=c.resolve(I))._attachCancellationCallback(this),this._initialValue=I,this._currentCancellable=null,this._eachValues=N===m?Array(this._length):N===0?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function x(A,M){this.isFulfilled()?M._resolve(A):M._reject(A)}function T(A,M,I,N){return typeof M!="function"?p("expecting a function but got "+w.classString(M)):new b(A,M,I,N).promise()}function E(A){this.accum=A,this.array._gotAccum(A);var M=v(this.value,this.array._promise);return M instanceof c?(this.array._currentCancellable=M,M._then(D,void 0,void 0,this,void 0)):D.call(this,M)}function D(A){var M,I=this.array,N=I._promise,P=$(I._fn);N._pushContext(),(M=I._eachValues!==void 0?P.call(N._boundValue(),A,this.index,this.length):P.call(N._boundValue(),this.accum,A,this.index,this.length))instanceof c&&(I._currentCancellable=M);var O=N._popContext();return k.checkForgottenReturns(M,O,I._eachValues!==void 0?"Promise.each":"Promise.reduce",N),M}w.inherits(b,_),b.prototype._gotAccum=function(A){this._eachValues!==void 0&&this._eachValues!==null&&A!==m&&this._eachValues.push(A)},b.prototype._eachComplete=function(A){return this._eachValues!==null&&this._eachValues.push(A),this._eachValues},b.prototype._init=function(){},b.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},b.prototype.shouldCopyValues=function(){return!1},b.prototype._resolve=function(A){this._promise._resolveCallback(A),this._values=null},b.prototype._resultCancelled=function(A){if(A===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof c&&this._currentCancellable.cancel(),this._initialValue instanceof c&&this._initialValue.cancel())},b.prototype._iterate=function(A){var M,I;this._values=A;var N=A.length;if(this._initialValue!==void 0?(M=this._initialValue,I=0):(M=c.resolve(A[0]),I=1),this._currentCancellable=M,!M.isRejected())for(;I<N;++I){var P={accum:null,value:A[I],index:I,length:N,array:this};M=M._then(E,void 0,void 0,P,void 0)}this._eachValues!==void 0&&(M=M._then(this._eachComplete,void 0,void 0,this,void 0)),M._then(x,x,void 0,M,this)},c.prototype.reduce=function(A,M){return T(this,A,M,null)},c.reduce=function(A,M,I,N){return T(A,M,I,N)}}},{"./util":36}],29:[function(a,l,h){"use strict";var c,_=a("./util"),p=_.getNativePromise();if(_.isNode&&typeof MutationObserver>"u"){var v=f.setImmediate,m=g.nextTick;c=_.isRecentNode?function(y){v.call(f,y)}:function(y){m.call(g,y)}}else if(typeof p=="function"&&typeof p.resolve=="function"){var k=p.resolve();c=function(y){k.then(y)}}else c=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?s!==void 0?function(y){s(y)}:typeof setTimeout<"u"?function(y){setTimeout(y,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}:function(){var y=document.createElement("div"),w={attributes:!0},$=!1,b=document.createElement("div");return new MutationObserver(function(){y.classList.toggle("foo"),$=!1}).observe(b,w),function(x){var T=new MutationObserver(function(){T.disconnect(),x()});T.observe(y,w),$||($=!0,b.classList.toggle("foo"))}}();l.exports=c},{"./util":36}],30:[function(a,l,h){"use strict";l.exports=function(c,_,p){var v=c.PromiseInspection;function m(k){this.constructor$(k)}a("./util").inherits(m,_),m.prototype._promiseResolved=function(k,y){return this._values[k]=y,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},m.prototype._promiseFulfilled=function(k,y){var w=new v;return w._bitField=33554432,w._settledValueField=k,this._promiseResolved(y,w)},m.prototype._promiseRejected=function(k,y){var w=new v;return w._bitField=16777216,w._settledValueField=k,this._promiseResolved(y,w)},c.settle=function(k){return p.deprecated(".settle()",".reflect()"),new m(k).promise()},c.prototype.settle=function(){return c.settle(this)}}},{"./util":36}],31:[function(a,l,h){"use strict";l.exports=function(c,_,p){var v=a("./util"),m=a("./errors").RangeError,k=a("./errors").AggregateError,y=v.isArray,w={};function $(x){this.constructor$(x),this._howMany=0,this._unwrap=!1,this._initialized=!1}function b(x,T){if((0|T)!==T||T<0)return p(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var E=new $(x),D=E.promise();return E.setHowMany(T),E.init(),D}v.inherits($,_),$.prototype._init=function(){if(this._initialized)if(this._howMany!==0){this._init$(void 0,-5);var x=y(this._values);!this._isResolved()&&x&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},$.prototype.init=function(){this._initialized=!0,this._init()},$.prototype.setUnwrap=function(){this._unwrap=!0},$.prototype.howMany=function(){return this._howMany},$.prototype.setHowMany=function(x){this._howMany=x},$.prototype._promiseFulfilled=function(x){return this._addFulfilled(x),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},$.prototype._promiseRejected=function(x){return this._addRejected(x),this._checkOutcome()},$.prototype._promiseCancelled=function(){return this._values instanceof c||this._values==null?this._cancel():(this._addRejected(w),this._checkOutcome())},$.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var x=new k,T=this.length();T<this._values.length;++T)this._values[T]!==w&&x.push(this._values[T]);return x.length>0?this._reject(x):this._cancel(),!0}return!1},$.prototype._fulfilled=function(){return this._totalResolved},$.prototype._rejected=function(){return this._values.length-this.length()},$.prototype._addRejected=function(x){this._values.push(x)},$.prototype._addFulfilled=function(x){this._values[this._totalResolved++]=x},$.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},$.prototype._getRangeError=function(x){var T="Input array must contain at least "+this._howMany+" items but contains only "+x+" items";return new m(T)},$.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},c.some=function(x,T){return b(x,T)},c.prototype.some=function(x){return b(this,x)},c._SomePromiseArray=$}},{"./errors":12,"./util":36}],32:[function(a,l,h){"use strict";l.exports=function(c){function _($){$!==void 0?($=$._target(),this._bitField=$._bitField,this._settledValueField=$._isFateSealed()?$._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}_.prototype._settledValue=function(){return this._settledValueField};var p=_.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},v=_.prototype.error=_.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},m=_.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},k=_.prototype.isRejected=function(){return(16777216&this._bitField)!=0},y=_.prototype.isPending=function(){return(50397184&this._bitField)==0},w=_.prototype.isResolved=function(){return(50331648&this._bitField)!=0};_.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},c.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},c.prototype._isCancelled=function(){return this._target().__isCancelled()},c.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},c.prototype.isPending=function(){return y.call(this._target())},c.prototype.isRejected=function(){return k.call(this._target())},c.prototype.isFulfilled=function(){return m.call(this._target())},c.prototype.isResolved=function(){return w.call(this._target())},c.prototype.value=function(){return p.call(this._target())},c.prototype.reason=function(){var $=this._target();return $._unsetRejectionIsUnhandled(),v.call($)},c.prototype._value=function(){return this._settledValue()},c.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},c.PromiseInspection=_}},{}],33:[function(a,l,h){"use strict";l.exports=function(c,_){var p=a("./util"),v=p.errorObj,m=p.isObject,k={}.hasOwnProperty;return function(y,w){if(m(y)){if(y instanceof c)return y;var $=function(x){try{return function(T){return T.then}(x)}catch(T){return v.e=T,v}}(y);if($===v){w&&w._pushContext();var b=c.reject($.e);return w&&w._popContext(),b}if(typeof $=="function")return function(x){try{return k.call(x,"_promise0")}catch{return!1}}(y)?(b=new c(_),y._then(b._fulfill,b._reject,void 0,b,null),b):function(x,T,E){var D=new c(_),A=D;E&&E._pushContext(),D._captureStackTrace(),E&&E._popContext();var M=!0,I=p.tryCatch(T).call(x,function(N){D&&(D._resolveCallback(N),D=null)},function(N){D&&(D._rejectCallback(N,M,!0),D=null)});return M=!1,D&&I===v&&(D._rejectCallback(I.e,!0,!0),D=null),A}(y,$,w)}return y}}},{"./util":36}],34:[function(a,l,h){"use strict";l.exports=function(c,_,p){var v=a("./util"),m=c.TimeoutError;function k(x){this.handle=x}k.prototype._resultCancelled=function(){clearTimeout(this.handle)};var y=function(x){return w(+this).thenReturn(x)},w=c.delay=function(x,T){var E,D;return T!==void 0?(E=c.resolve(T)._then(y,null,null,x,void 0),p.cancellation()&&T instanceof c&&E._setOnCancel(T)):(E=new c(_),D=setTimeout(function(){E._fulfill()},+x),p.cancellation()&&E._setOnCancel(new k(D)),E._captureStackTrace()),E._setAsyncGuaranteed(),E};c.prototype.delay=function(x){return w(x,this)};function $(x){return clearTimeout(this.handle),x}function b(x){throw clearTimeout(this.handle),x}c.prototype.timeout=function(x,T){var E,D;x=+x;var A=new k(setTimeout(function(){E.isPending()&&function(M,I,N){var P;P=typeof I!="string"?I instanceof Error?I:new m("operation timed out"):new m(I),v.markAsOriginatingFromRejection(P),M._attachExtraTrace(P),M._reject(P),N?.cancel()}(E,T,D)},x));return p.cancellation()?(D=this.then(),(E=D._then($,b,void 0,A,void 0))._setOnCancel(A)):E=this._then($,b,void 0,A,void 0),E}}},{"./util":36}],35:[function(a,l,h){"use strict";l.exports=function(c,_,p,v,m,k){var y=a("./util"),w=a("./errors").TypeError,$=a("./util").inherits,b=y.errorObj,x=y.tryCatch,T={};function E(P){setTimeout(function(){throw P},0)}function D(P,O){var H=0,V=P.length,W=new c(m);return function J(){if(H>=V)return W._fulfill();var q=function(X){var R=p(X);return R!==X&&typeof X._isDisposable=="function"&&typeof X._getDisposer=="function"&&X._isDisposable()&&R._setDisposable(X._getDisposer()),R}(P[H++]);if(q instanceof c&&q._isDisposable()){try{q=p(q._getDisposer().tryDispose(O),P.promise)}catch(X){return E(X)}if(q instanceof c)return q._then(J,E,null,null,null)}J()}(),W}function A(P,O,H){this._data=P,this._promise=O,this._context=H}function M(P,O,H){this.constructor$(P,O,H)}function I(P){return A.isDisposer(P)?(this.resources[this.index]._setDisposable(P),P.promise()):P}function N(P){this.length=P,this.promise=null,this[P-1]=null}A.prototype.data=function(){return this._data},A.prototype.promise=function(){return this._promise},A.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():T},A.prototype.tryDispose=function(P){var O=this.resource(),H=this._context;H!==void 0&&H._pushContext();var V=O!==T?this.doDispose(O,P):null;return H!==void 0&&H._popContext(),this._promise._unsetDisposable(),this._data=null,V},A.isDisposer=function(P){return P!=null&&typeof P.resource=="function"&&typeof P.tryDispose=="function"},$(M,A),M.prototype.doDispose=function(P,O){return this.data().call(P,P,O)},N.prototype._resultCancelled=function(){for(var P=this.length,O=0;O<P;++O){var H=this[O];H instanceof c&&H.cancel()}},c.using=function(){var P=arguments.length;if(P<2)return _("you must pass at least 2 arguments to Promise.using");var O,H=arguments[P-1];if(typeof H!="function")return _("expecting a function but got "+y.classString(H));var V=!0;P===2&&Array.isArray(arguments[0])?(P=(O=arguments[0]).length,V=!1):(O=arguments,P--);for(var W=new N(P),J=0;J<P;++J){var q=O[J];if(A.isDisposer(q)){var X=q;(q=q.promise())._setDisposable(X)}else{var R=p(q);R instanceof c&&(q=R._then(I,null,null,{resources:W,index:J},void 0))}W[J]=q}var lt=new Array(W.length);for(J=0;J<lt.length;++J)lt[J]=c.resolve(W[J]).reflect();var ut=c.all(lt).then(function(L){for(var F=0;F<L.length;++F){var U=L[F];if(U.isRejected())return b.e=U.error(),b;if(!U.isFulfilled())return void ut.cancel();L[F]=U.value()}at._pushContext(),H=x(H);var K=V?H.apply(void 0,L):H(L),Q=at._popContext();return k.checkForgottenReturns(K,Q,"Promise.using",at),K}),at=ut.lastly(function(){var L=new c.PromiseInspection(ut);return D(W,L)});return W.promise=at,at._setOnCancel(W),at},c.prototype._setDisposable=function(P){this._bitField=131072|this._bitField,this._disposer=P},c.prototype._isDisposable=function(){return(131072&this._bitField)>0},c.prototype._getDisposer=function(){return this._disposer},c.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},c.prototype.disposer=function(P){if(typeof P=="function")return new M(P,this,v());throw new w}}},{"./errors":12,"./util":36}],36:[function(a,l,h){"use strict";var c=a("./es5"),_=typeof navigator>"u",p={e:{}},v,m=typeof self<"u"?self:typeof window<"u"?window:f!==void 0?f:this!==void 0?this:null;function k(){try{var B=v;return v=null,B.apply(this,arguments)}catch(nt){return p.e=nt,p}}function y(B){return v=B,k}var w=function(B,nt){var st={}.hasOwnProperty;function ot(){for(var rt in this.constructor=B,this.constructor$=nt,nt.prototype)st.call(nt.prototype,rt)&&rt.charAt(rt.length-1)!=="$"&&(this[rt+"$"]=nt.prototype[rt])}return ot.prototype=nt.prototype,B.prototype=new ot,B.prototype};function $(B){return B==null||B===!0||B===!1||typeof B=="string"||typeof B=="number"}function b(B){return typeof B=="function"||n(B)==="object"&&B!==null}function x(B){return $(B)?new Error(W(B)):B}function T(B,nt){var st,ot=B.length,rt=new Array(ot+1);for(st=0;st<ot;++st)rt[st]=B[st];return rt[st]=nt,rt}function E(B,nt,st){if(!c.isES5)return{}.hasOwnProperty.call(B,nt)?B[nt]:void 0;var ot=Object.getOwnPropertyDescriptor(B,nt);return ot!=null?ot.get==null&&ot.set==null?ot.value:st:void 0}function D(B,nt,st){if($(B))return B;var ot={value:st,configurable:!0,enumerable:!1,writable:!0};return c.defineProperty(B,nt,ot),B}function A(B){throw B}var M=function(){var B=[Array.prototype,Object.prototype,Function.prototype],nt=function(rt){for(var pt=0;pt<B.length;++pt)if(B[pt]===rt)return!0;return!1};if(c.isES5){var st=Object.getOwnPropertyNames;return function(rt){for(var pt=[],mt=Object.create(null);rt!=null&&!nt(rt);){var yt;try{yt=st(rt)}catch{return pt}for(var xt=0;xt<yt.length;++xt){var St=yt[xt];if(!mt[St]){mt[St]=!0;var $t=Object.getOwnPropertyDescriptor(rt,St);$t!=null&&$t.get==null&&$t.set==null&&pt.push(St)}}rt=c.getPrototypeOf(rt)}return pt}}var ot={}.hasOwnProperty;return function(rt){if(nt(rt))return[];var pt=[];t:for(var mt in rt)if(ot.call(rt,mt))pt.push(mt);else{for(var yt=0;yt<B.length;++yt)if(ot.call(B[yt],mt))continue t;pt.push(mt)}return pt}}(),I=/this\s*\.\s*\S+\s*=/;function N(B){try{if(typeof B=="function"){var nt=c.names(B.prototype),st=c.isES5&&nt.length>1,ot=nt.length>0&&!(nt.length===1&&nt[0]==="constructor"),rt=I.test(B+"")&&c.names(B).length>0;if(st||ot||rt)return!0}return!1}catch{return!1}}function P(B){function nt(){}nt.prototype=B;var st=new nt;function ot(){return n(st.foo)}return ot(),ot(),B}var O=/^[a-z$_][a-z$_0-9]*$/i;function H(B){return O.test(B)}function V(B,nt,st){for(var ot=new Array(B),rt=0;rt<B;++rt)ot[rt]=nt+rt+st;return ot}function W(B){try{return B+""}catch{return"[no string representation]"}}function J(B){return B instanceof Error||B!==null&&n(B)==="object"&&typeof B.message=="string"&&typeof B.name=="string"}function q(B){try{D(B,"isOperational",!0)}catch{}}function X(B){return B!=null&&(B instanceof Error.__BluebirdErrorTypes__.OperationalError||B.isOperational===!0)}function R(B){return J(B)&&c.propertyIsWritable(B,"stack")}var lt="stack"in new Error?function(B){return R(B)?B:new Error(W(B))}:function(B){if(R(B))return B;try{throw new Error(W(B))}catch(nt){return nt}};function ut(B){return{}.toString.call(B)}function at(B,nt,st){for(var ot=c.names(B),rt=0;rt<ot.length;++rt){var pt=ot[rt];if(st(pt))try{c.defineProperty(nt,pt,c.getDescriptor(B,pt))}catch{}}}var L=function(B){return c.isArray(B)?B:null};if(typeof Symbol<"u"&&Symbol.iterator){var F=typeof Array.from=="function"?function(B){return Array.from(B)}:function(B){for(var nt,st=[],ot=B[Symbol.iterator]();!(nt=ot.next()).done;)st.push(nt.value);return st};L=function(B){return c.isArray(B)?B:B!=null&&typeof B[Symbol.iterator]=="function"?F(B):null}}var U=g!==void 0&&ut(g).toLowerCase()==="[object process]",K=g!==void 0&&g.env!==void 0;function Q(B){return K?g.env[B]:void 0}function et(){if(typeof Promise=="function")try{var B=new Promise(function(){});if({}.toString.call(B)==="[object Promise]")return Promise}catch{}}function dt(B,nt){return B.bind(nt)}var ft={isClass:N,isIdentifier:H,inheritedDataKeys:M,getDataPropertyOrDefault:E,thrower:A,isArray:c.isArray,asArray:L,notEnumerableProp:D,isPrimitive:$,isObject:b,isError:J,canEvaluate:_,errorObj:p,tryCatch:y,inherits:w,withAppended:T,maybeWrapAsError:x,toFastProperties:P,filledRange:V,toString:W,canAttachTrace:R,ensureErrorObject:lt,originatesFromRejection:X,markAsOriginatingFromRejection:q,classString:ut,copyDescriptors:at,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:U,hasEnvVariables:K,env:Q,global:m,getNativePromise:et,domainBind:dt};ft.isRecentNode=ft.isNode&&function(){var B;return g.versions&&g.versions.node?B=g.versions.node.split(".").map(Number):g.version&&(B=g.version.split(".").map(Number)),B[0]===0&&B[1]>10||B[0]>0}(),ft.isNode&&ft.toFastProperties(g);try{throw new Error}catch(B){ft.lastLineError=B}l.exports=ft},{"./es5":13}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,d(43),d(15),d(212).setImmediate)},function(S,C,d){S.exports=d(213)},function(S,C,d){var g=d(0);S.exports=function(){var f={};return{getState:function(s){if(f[s])return f[s].method();var u={};for(var i in f)f[i].internal||g.mixin(u,f[i].method(),!0);return u},registerProvider:function(s,u,i){f[s]={method:u,internal:i}},unregisterProvider:function(s){delete f[s]}}}},function(S,C){S.exports=function(d){var g={};function f(s,u,i){i=i||s;var o=d.config,n=d.templates;d.config[s]&&g[i]!=o[s]&&(u&&n[i]||(n[i]=d.date.date_to_str(o[s]),g[i]=o[s]))}return{initTemplates:function(){var s=d.locale.labels;s.gantt_save_btn=s.icon_save,s.gantt_cancel_btn=s.icon_cancel,s.gantt_delete_btn=s.icon_delete;var u=d.date,i=u.date_to_str,o=d.config,n=i(o.xml_date||o.date_format,o.server_utc),t=u.str_to_date(o.xml_date||o.date_format,o.server_utc);f("date_scale",!0,void 0,d.config,d.templates),f("date_grid",!0,"grid_date_format",d.config,d.templates),f("task_date",!0,void 0,d.config,d.templates),d.mixin(d.templates,{xml_format:void 0,format_date:n,xml_date:void 0,parse_date:t,progress_text:function(e,r,a){return""},grid_header_class:function(e,r){return""},task_text:function(e,r,a){return a.text},task_class:function(e,r,a){return""},task_end_date:function(e){return d.templates.task_date(e)},grid_row_class:function(e,r,a){return""},task_row_class:function(e,r,a){return""},timeline_cell_class:function(e,r){return""},timeline_cell_content:function(e,r){return""},scale_cell_class:function(e){return""},scale_row_class:function(e){return""},grid_indent:function(e){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(e){return"<div class='gantt_tree_icon gantt_folder_"+(e.$open?"open":"closed")+"'></div>"},grid_file:function(e){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(e){return"<div class='gantt_tree_icon gantt_"+(e.$open?"close":"open")+"'></div>"},grid_blank:function(e){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(e,r,a){return r&&d.isUnscheduledTask(r)&&d.config.show_unscheduled?d.templates.task_unscheduled_time(r):d.templates.grid_date_format(e,a)},task_time:function(e,r,a){return d.isUnscheduledTask(a)&&d.config.show_unscheduled?d.templates.task_unscheduled_time(a):d.templates.task_date(e)+" - "+d.templates.task_end_date(r)},task_unscheduled_time:function(e){return""},time_picker:i(o.time_picker),link_class:function(e){return""},link_description:function(e){var r=d.getTask(e.source),a=d.getTask(e.target);return"<b>"+r.text+"</b> &ndash;  <b>"+a.text+"</b>"},drag_link:function(e,r,a,l){e=d.getTask(e);var h=d.locale.labels,c="<b>"+e.text+"</b> "+(r?h.link_start:h.link_end)+"<br/>";return a&&(c+="<b> "+(a=d.getTask(a)).text+"</b> "+(l?h.link_start:h.link_end)+"<br/>"),c},drag_link_class:function(e,r,a,l){var h="";return e&&a&&(h=" "+(d.isLinkAllowed(e,a,r,l)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+h},tooltip_date_format:u.date_to_str("%Y-%m-%d"),tooltip_text:function(e,r,a){return"<b>Task:</b> "+a.text+"<br/><b>Start date:</b> "+d.templates.tooltip_date_format(e)+"<br/><b>End date:</b> "+d.templates.tooltip_date_format(r)}})},initTemplate:f}}},function(S,C,d){var g=d(4),f=d(0),s=d(44),u=d(16),i=d(1);S.exports=function(o){function n(e){return{target:e.target||e.srcElement,pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,metaKey:e.metaKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey}}function t(e,r){this._obj=e,this._settings=r||{},g(this);var a=this.getInputMethods();this._drag_start_timer=null,o.attachEvent("onGanttScroll",f.bind(function(c,_){this.clearDragTimer()},this));for(var l={passive:!1},h=0;h<a.length;h++)f.bind(function(c){o.event(e,c.down,f.bind(function(p){c.accessor(p)&&(r.preventDefault&&r.selector&&i.closest(p.target,r.selector)&&p.preventDefault(),o.config.touch&&p.timeStamp&&p.timeStamp-0<300||(this._settings.original_target=n(p),o.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(f.bind(function(){o.getState().lightbox||this.dragStart(e,p,c)},this),o.config.touch_drag)):this.dragStart(e,p,c)))},this),l);var _=document.body;o.event(_,c.up,f.bind(function(p){c.accessor(p)&&this.clearDragTimer()},this),l)},this)(a[h])}return t.prototype={traceDragEvents:function(e,r){var a=f.bind(function(v){return this.dragMove(e,v,r.accessor)},this);f.bind(function(v){return this.dragScroll(e,v)},this);var l=f.bind(function(v){if(!this.config.started||!f.defined(this.config.updates_per_second)||s(this,this.config.updates_per_second)){var m=a(v);if(m)try{v&&v.preventDefault&&v.cancelable&&v.preventDefault()}catch{}return m}},this),h=i.getRootNode(o.$root),c=this.config.mousemoveContainer||i.getRootNode(o.$root),_={passive:!1},p=f.bind(function(v){return o.eventRemove(c,r.move,l),o.eventRemove(h,r.up,p,_),this.dragEnd(e)},this);o.event(c,r.move,l,_),o.event(h,r.up,p,_)},checkPositionChange:function(e){var r=e.x-this.config.pos.x,a=e.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(r),2)+Math.pow(Math.abs(a),2))>this.config.sensitivity},initDnDMarker:function(){var e=this.config.marker=document.createElement("div");e.className="gantt_drag_marker",e.innerHTML="",document.body.appendChild(e)},backupEventTarget:function(e,r){if(o.config.touch){var a=r(e),l=a.target||a.srcElement,h=l.cloneNode(!0);this.config.original_target=n(a),this.config.original_target.target=h,this.config.backup_element=l,l.parentNode.appendChild(h),l.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(l)}},getInputMethods:function(){var e=[];if(e.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(a){return a}}),o.config.touch){var r=!0;try{document.createEvent("TouchEvent")}catch{r=!1}r?e.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(a){return a.touches&&a.touches.length>1?null:a.touches[0]?{target:document.elementFromPoint(a.touches[0].clientX,a.touches[0].clientY),pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,clientX:a.touches[0].clientX,clientY:a.touches[0].clientY}:a}}):u.navigator.pointerEnabled?e.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(a){return a.pointerType=="mouse"?null:a}}):u.navigator.msPointerEnabled&&e.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(a){return a.pointerType==a.MSPOINTER_TYPE_MOUSE?null:a}})}return e},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(e,r,a){this.config&&this.config.started||(this.config={obj:e,marker:null,started:!1,pos:this.getPosition(r),sensitivity:4},this._settings&&f.mixin(this.config,this._settings,!0),this.traceDragEvents(e,a),o._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",o.config.touch&&this.dragMove(e,r,a.accessor))},dragMove:function(e,r,a){var l=a(r);if(!l)return!1;if(!this.config.marker&&!this.config.started){var h=this.getPosition(l);if(o.config.touch||this.checkPositionChange(h)){if(this.config.started=!0,this.config.ignore=!1,this.callEvent("onBeforeDragStart",[e,this.config.original_target])===!1)return this.config.ignore=!0,!1;this.backupEventTarget(r,a),this.initDnDMarker(),o._touch_feedback(),this.callEvent("onAfterDragStart",[e,this.config.original_target])}else this.config.ignore=!0}return this.config.ignore?!1:r.targetTouches&&!l.target?void 0:(l.pos=this.getPosition(l),this.config.marker.style.left=l.pos.x+"px",this.config.marker.style.top=l.pos.y+"px",this.callEvent("onDragMove",[e,l]),!0)},dragEnd:function(e){var r=this.config.backup_element;r&&r.parentNode&&r.parentNode.removeChild(r),o._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(e){var r=0,a=0;return e.pageX||e.pageY?(r=e.pageX,a=e.pageY):(e.clientX||e.clientY)&&(r=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:r,y:a}}},t}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g={date_to_str:function(f,s,u){return function(i){return f.replace(/%[a-zA-Z]/g,function(o){switch(o){case"%d":return s?u.date.to_fixed(i.getUTCDate()):u.date.to_fixed(i.getDate());case"%m":return s?u.date.to_fixed(i.getUTCMonth()+1):u.date.to_fixed(i.getMonth()+1);case"%j":return s?i.getUTCDate():i.getDate();case"%n":return s?i.getUTCMonth()+1:i.getMonth()+1;case"%y":return s?u.date.to_fixed(i.getUTCFullYear()%100):u.date.to_fixed(i.getFullYear()%100);case"%Y":return s?i.getUTCFullYear():i.getFullYear();case"%D":return s?u.locale.date.day_short[i.getUTCDay()]:u.locale.date.day_short[i.getDay()];case"%l":return s?u.locale.date.day_full[i.getUTCDay()]:u.locale.date.day_full[i.getDay()];case"%M":return s?u.locale.date.month_short[i.getUTCMonth()]:u.locale.date.month_short[i.getMonth()];case"%F":return s?u.locale.date.month_full[i.getUTCMonth()]:u.locale.date.month_full[i.getMonth()];case"%h":return s?u.date.to_fixed((i.getUTCHours()+11)%12+1):u.date.to_fixed((i.getHours()+11)%12+1);case"%g":return s?(i.getUTCHours()+11)%12+1:(i.getHours()+11)%12+1;case"%G":return s?i.getUTCHours():i.getHours();case"%H":return s?u.date.to_fixed(i.getUTCHours()):u.date.to_fixed(i.getHours());case"%i":return s?u.date.to_fixed(i.getUTCMinutes()):u.date.to_fixed(i.getMinutes());case"%a":return s?i.getUTCHours()>11?"pm":"am":i.getHours()>11?"pm":"am";case"%A":return s?i.getUTCHours()>11?"PM":"AM":i.getHours()>11?"PM":"AM";case"%s":return s?u.date.to_fixed(i.getUTCSeconds()):u.date.to_fixed(i.getSeconds());case"%W":return s?u.date.to_fixed(u.date.getUTCISOWeek(i)):u.date.to_fixed(u.date.getISOWeek(i));default:return o}})}},str_to_date:function(f,s,u){return function(i){for(var o=[0,0,1,0,0,0],n=i.match(/[a-zA-Z]+|[0-9]+/g),t=f.match(/%[a-zA-Z]/g),e=0;e<t.length;e++)switch(t[e]){case"%j":case"%d":o[2]=n[e]||1;break;case"%n":case"%m":o[1]=(n[e]||1)-1;break;case"%y":o[0]=1*n[e]+(n[e]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":o[3]=n[e]||0;break;case"%i":o[4]=n[e]||0;break;case"%Y":o[0]=n[e]||0;break;case"%a":case"%A":o[3]=o[3]%12+((n[e]||"").toLowerCase()==="am"?0:12);break;case"%s":o[5]=n[e]||0;break;case"%M":o[1]=u.locale.date.month_short_hash[n[e]]||0;break;case"%F":o[1]=u.locale.date.month_full_hash[n[e]]||0}return s?new Date(Date.UTC(o[0],o[1],o[2],o[3],o[4],o[5])):new Date(o[0],o[1],o[2],o[3],o[4],o[5])}}};C.default=g},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g={date_to_str:function(f,s,u){f=f.replace(/%[a-zA-Z]/g,function(o){switch(o){case"%d":return'"+to_fixed(date.get'+(s?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(s?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(s?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(s?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(s?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(s?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(s?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(s?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(s?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(s?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(s?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(s?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(s?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(s?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return o}});var i=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+f+'";');return function(o){return i(o,u.date.to_fixed,u.locale,u.date.getISOWeek,u.date.getWeek)}},str_to_date:function(f,s,u){for(var i="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",o=f.match(/%[a-zA-Z]/g),n=0;n<o.length;n++)switch(o[n]){case"%j":case"%d":i+="set[2]=temp["+n+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+n+"]||1)-1;";break;case"%y":i+="set[0]=temp["+n+"]*1+(temp["+n+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+n+"]||0;";break;case"%i":i+="set[4]=temp["+n+"]||0;";break;case"%Y":i+="set[0]=temp["+n+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+n+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+n+"]||0;";break;case"%M":i+="set[1]=locale.date.month_short_hash[temp["+n+"]]||0;";break;case"%F":i+="set[1]=locale.date.month_full_hash[temp["+n+"]]||0;"}var t="set[0],set[1],set[2],set[3],set[4],set[5]";s&&(t=" Date.UTC("+t+")");var e=new Function("date","locale","var set=[0,0,1,0,0,0]; "+i+" return new Date("+t+");");return function(r){return e(r,u.locale)}}};C.default=g},function(S,C,d){var g=d(219).default,f=d(218).default;S.exports=function(s){var u=null;function i(){var o=!1;return s.config.csp==="auto"?(u===null&&function(){try{new Function("canUseCsp = false;")}catch{u=!0}}(),o=u):o=s.config.csp,o}return{init:function(){for(var o=s.locale,n=o.date.month_short,t=o.date.month_short_hash={},e=0;e<n.length;e++)t[n[e]]=e;for(n=o.date.month_full,t=o.date.month_full_hash={},e=0;e<n.length;e++)t[n[e]]=e},date_part:function(o){var n=new Date(o);return o.setHours(0),this.hour_start(o),o.getHours()&&(o.getDate()<n.getDate()||o.getMonth()<n.getMonth()||o.getFullYear()<n.getFullYear())&&o.setTime(o.getTime()+36e5*(24-o.getHours())),o},time_part:function(o){return(o.valueOf()/1e3-60*o.getTimezoneOffset())%86400},week_start:function(o){var n=o.getDay();return s.config.start_on_monday&&(n===0?n=6:n--),this.date_part(this.add(o,-1*n,"day"))},month_start:function(o){return o.setDate(1),this.date_part(o)},quarter_start:function(o){this.month_start(o);var n,t=o.getMonth();return n=t>=9?9:t>=6?6:t>=3?3:0,o.setMonth(n),o},year_start:function(o){return o.setMonth(0),this.month_start(o)},day_start:function(o){return this.date_part(o)},hour_start:function(o){return o.getMinutes()&&o.setMinutes(0),this.minute_start(o),o},minute_start:function(o){return o.getSeconds()&&o.setSeconds(0),o.getMilliseconds()&&o.setMilliseconds(0),o},_add_days:function(o,n,t){o.setDate(o.getDate()+n);var e=n>=0,r=!t.getHours()&&o.getHours(),a=o.getDate()<=t.getDate()||o.getMonth()<t.getMonth()||o.getFullYear()<t.getFullYear();return e&&r&&a&&o.setTime(o.getTime()+36e5*(24-o.getHours())),n>1&&r&&o.setHours(0),o},add:function(o,n,t){var e=new Date(o.valueOf());switch(t){case"day":e=this._add_days(e,n,o);break;case"week":e=this._add_days(e,7*n,o);break;case"month":e.setMonth(e.getMonth()+n);break;case"year":e.setYear(e.getFullYear()+n);break;case"hour":e.setTime(e.getTime()+60*n*60*1e3);break;case"minute":e.setTime(e.getTime()+60*n*1e3);break;default:return this["add_"+t](o,n,t)}return e},add_quarter:function(o,n){return this.add(o,3*n,"month")},to_fixed:function(o){return o<10?"0"+o:o},copy:function(o){return new Date(o.valueOf())},date_to_str:function(o,n){var t=g;return i()&&(t=f),t.date_to_str(o,n,s)},str_to_date:function(o,n){var t=g;return i()&&(t=f),t.str_to_date(o,n,s)},getISOWeek:function(o){return s.date._getWeekNumber(o,!0)},_getWeekNumber:function(o,n){if(!o)return!1;var t=o.getDay();n&&t===0&&(t=7);var e=new Date(o.valueOf());e.setDate(o.getDate()+(4-t));var r=e.getFullYear(),a=Math.round((e.getTime()-new Date(r,0,1).getTime())/864e5);return 1+Math.floor(a/7)},getWeek:function(o){return s.date._getWeekNumber(o,s.config.start_on_monday)},getUTCISOWeek:function(o){return s.date.getISOWeek(o)},convert_to_utc:function(o){return new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds())},parseDate:function(o,n){return o&&!o.getFullYear&&(typeof n!="function"&&(n=typeof n=="string"?n==="parse_date"||n==="xml_date"?s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date:s.defined(s.templates[n])?s.templates[n]:s.date.str_to_date(n):s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date),o=o?n(o):null),o}}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(g){if(typeof g=="string"||typeof g=="number")return g;var f="";for(var s in g){var u="";g.hasOwnProperty(s)&&(u=s+"="+(u=typeof g[s]=="string"?encodeURIComponent(g[s]):typeof g[s]=="number"?g[s]:encodeURIComponent(JSON.stringify(g[s]))),f.length&&(u="&"+u),f+=u)}return f}},function(S,C,d){function g(o){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}var f=d(8),s=d(16),u=d(221).default;function i(o,n){var t={method:o};if(n.length===0)throw new Error("Arguments list of query is wrong.");if(n.length===1)return typeof n[0]=="string"?(t.url=n[0],t.async=!0):(t.url=n[0].url,t.async=n[0].async||!0,t.callback=n[0].callback,t.headers=n[0].headers),n[0].data?typeof n[0].data!="string"?t.data=u(n[0].data):t.data=n[0].data:t.data="",t;switch(t.url=n[0],o){case"GET":case"DELETE":t.callback=n[1],t.headers=n[2];break;case"POST":case"PUT":n[1]?typeof n[1]!="string"?t.data=u(n[1]):t.data=n[1]:t.data="",t.callback=n[2],t.headers=n[3]}return t}S.exports=function(o){return{cache:!0,method:"get",parse:function(n){return typeof n!="string"?n:(n=n.replace(/^[\s]+/,""),typeof DOMParser>"u"||f.isIE?s.ActiveXObject!==void 0&&((t=new s.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(n)):t=new DOMParser().parseFromString(n,"text/xml"),t);var t},xmltop:function(n,t,e){if(t.status===void 0||t.status<400){var r=t.responseXML?t.responseXML||t:this.parse(t.responseText||t);if(r&&r.documentElement!==null&&!r.getElementsByTagName("parsererror").length)return r.getElementsByTagName(n)[0]}return e!==-1&&o.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],e]),document.createElement("DIV")},xpath:function(n,t){if(t.nodeName||(t=t.responseXML||t),f.isIE)return t.selectNodes(n)||[];for(var e,r=[],a=(t.ownerDocument||t).evaluate(n,t,null,XPathResult.ANY_TYPE,null);e=a.iterateNext();)r.push(e);return r},query:function(n){return this._call(n.method||"GET",n.url,n.data||"",n.async||!0,n.callback,n.headers)},get:function(n,t,e){var r=i("GET",arguments);return this.query(r)},getSync:function(n,t){var e=i("GET",arguments);return e.async=!1,this.query(e)},put:function(n,t,e,r){var a=i("PUT",arguments);return this.query(a)},del:function(n,t,e){var r=i("DELETE",arguments);return this.query(r)},post:function(n,t,e,r){(arguments.length==1||arguments.length==2&&typeof t=="function")&&(t="");var a=i("POST",arguments);return this.query(a)},postSync:function(n,t,e){t=t===null?"":String(t);var r=i("POST",arguments);return r.async=!1,this.query(r)},_call:function(n,t,e,r,a,l){return new o.Promise(function(h,c){var _=(typeof XMLHttpRequest>"u"?"undefined":g(XMLHttpRequest))!==void 0?new XMLHttpRequest:new s.ActiveXObject("Microsoft.XMLHTTP"),p=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;r&&(_.onreadystatechange=function(){if(_.readyState==4||p&&_.readyState==3){if((_.status!=200||_.responseText==="")&&!o.callEvent("onAjaxError",[_]))return;setTimeout(function(){typeof a=="function"&&a.apply(s,[{xmlDoc:_,filePath:t}]),h(_),typeof a=="function"&&(a=null,_=null)},0)}});var v=!this||!this.cache;if(n=="GET"&&v&&(t+=(t.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),_.open(n,t,r),l)for(var m in l)_.setRequestHeader(m,l[m]);else n.toUpperCase()=="POST"||n=="PUT"||n=="DELETE"?_.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):n=="GET"&&(e=null);if(_.setRequestHeader("X-Requested-With","XMLHttpRequest"),_.send(e),!r)return{xmlDoc:_,filePath:t}})},urlSeparator:function(n){return n.indexOf("?")!=-1?"&":"?"}}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),S.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(S,C){S.exports=function(){var d={};return{services:{},setService:function(g,f){d[g]=f},getService:function(g){return d[g]?d[g]():null},dropService:function(g){d[g]&&delete d[g]},destructor:function(){for(var g in d)if(d[g]){var f=d[g];f&&f.destructor&&f.destructor()}d=null}}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){return function(f){var s=this;for(var u in this.addExtension=function(i,o){s._extensions[i]=o},this.getExtension=function(i){return s._extensions[i]},this._extensions={},f)this._extensions[u]=f[u]}}();C.default=g},function(S,C){S.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(S,C,d){function g(f){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(f)}S.exports=function(f){var s=new function(){this.constants=d(226),this.version="8.0.3",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},u=new(d(225)).default(f),i={};s.plugins=function(l){for(var h in l)if(l[h]&&!i[h]){var c=u.getExtension(h);c&&(c(s),i[h]=!0)}return i},s.$services=d(224)(),s.config=d(223)(),s.ajax=d(222)(s),s.date=d(220)(s);var o=d(217)(s);s.$services.setService("dnd",function(){return o});var n=d(216)(s);s.$services.setService("templateLoader",function(){return n}),d(4)(s);var t=new(d(215));t.registerProvider("global",function(){var l={min_date:s._min_date,max_date:s._max_date,selected_task:null};return s.$data&&s.$data.tasksStore&&(l.selected_task=s.$data.tasksStore.getSelectedId()),l}),s.getState=t.getState,s.$services.setService("state",function(){return t});var e=d(0);e.mixin(s,e),s.Promise=d(214),s.env=d(8),d(210)(s);var r=d(204);s.dataProcessor=r.DEPRECATED_api,s.createDataProcessor=r.createDataProcessor,d(199)(s),d(189)(s),d(188)(s),d(180)(s),d(179)(s),d(178)(s),d(165)(s),d(164).default(s),d(163)(s),d(162)(s),d(161)(s),d(158)(s),d(157).default(s);var a=d(156).default();return s.i18n={addLocale:a.addLocale,setLocale:function(l){if(typeof l=="string"){var h=a.getLocale(l);h||(h=a.getLocale("en")),s.locale=h}else if(l)if(s.locale)for(var c in l)l[c]&&g(l[c])==="object"?(s.locale[c]||(s.locale[c]={}),s.mixin(s.locale[c],l[c],!0)):s.locale[c]=l[c];else s.locale=l},getLocale:a.getLocale},s.i18n.setLocale("en"),s}},function(S,C,d){d(28);var g=d(227);S.exports=function(f){var s=g(f);return s.env.isNode||d(122)(s),s}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=10,f=function(){function s(u){var i=this;this.maxSteps=g,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(o){return{commands:o?o.slice():[]}},invert:function(o){for(var n,t=i._gantt.copy(o),e=i.command,r=0;r<o.commands.length;r++){var a=t.commands[r]=e.invert(t.commands[r]);a.type!==e.type.update&&a.type!==e.type.move||(n=[a.oldValue,a.value],a.value=n[0],a.oldValue=n[1])}return t}},this.command={entity:null,type:null,create:function(o,n,t,e){var r=i._gantt;return{entity:e,type:t,value:r.copy(o),oldValue:r.copy(n||o)}},invert:function(o){var n=i._gantt.copy(o);return n.type=i.command.inverseCommands(o.type),n},inverseCommands:function(o){var n=i._gantt,t=i.command.type;switch(o){case t.update:return t.update;case t.remove:return t.add;case t.add:return t.remove;case t.move:return t.move;default:return n.assert(!1,"Invalid command "+o),null}}},this._undoStack=[],this._redoStack=[],this._gantt=u}return s.prototype.getUndoStack=function(){return this._undoStack},s.prototype.getRedoStack=function(){return this._redoStack},s.prototype.clearUndoStack=function(){this._undoStack=[]},s.prototype.clearRedoStack=function(){this._redoStack=[]},s.prototype.updateConfigs=function(){var u=this._gantt;this.maxSteps=u.config.undo_steps||g,this.command.entity=u.config.undo_types,this.command.type=u.config.undo_actions,this.undoEnabled=!!u.config.undo,this.redoEnabled=!!u.config.redo},s.prototype.undo=function(){var u=this._gantt;if(this.updateConfigs(),this.undoEnabled){var i=this._pop(this._undoStack);if(i&&this._reorderCommands(i),u.callEvent("onBeforeUndo",[i])!==!1&&i)return this._applyAction(this.action.invert(i)),this._push(this._redoStack,u.copy(i)),void u.callEvent("onAfterUndo",[i]);u.callEvent("onAfterUndo",[null])}},s.prototype.redo=function(){var u=this._gantt;if(this.updateConfigs(),this.redoEnabled){var i=this._pop(this._redoStack);if(i&&this._reorderCommands(i),u.callEvent("onBeforeRedo",[i])!==!1&&i)return this._applyAction(i),this._push(this._undoStack,u.copy(i)),void u.callEvent("onAfterRedo",[i]);u.callEvent("onAfterRedo",[null])}},s.prototype.logAction=function(u){this._push(this._undoStack,u),this._redoStack=[]},s.prototype._push=function(u,i){var o=this._gantt;if(i.commands.length){var n=u===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(o.callEvent(n,[i])!==!1&&i.commands.length){for(u.push(i);u.length>this.maxSteps;)u.shift();return i}}},s.prototype._pop=function(u){return u.pop()},s.prototype._reorderCommands=function(u){var i={any:0,link:1,task:2},o={move:1,any:0};u.commands.sort(function(n,t){if(n.entity==="task"&&t.entity==="task")return n.type!==t.type?(o[t.type]||0)-(o[n.type]||0):n.type==="move"&&n.oldValue&&t.oldValue&&t.oldValue.parent===n.oldValue.parent?n.oldValue.$index-t.oldValue.$index:0;var e=i[n.entity]||i.any;return(i[t.entity]||i.any)-e})},s.prototype._applyAction=function(u){var i=null,o=this.command.entity,n=this.command.type,t=this._gantt,e={};e[o.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},e[o.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},t.batchUpdate(function(){for(var r=0;r<u.commands.length;r++){i=u.commands[r];var a=e[i.entity][i.type],l=e[i.entity].get,h=e[i.entity].isExists;if(i.type===n.add)t[a](i.oldValue,i.oldValue.parent,i.oldValue.$local_index);else if(i.type===n.remove)t[h](i.value.id)&&t[a](i.value.id);else if(i.type===n.update){var c=t[l](i.value.id);for(var _ in i.value)_.startsWith("$")||_.startsWith("_")||(c[_]=i.value[_]);t[a](i.value.id)}else i.type===n.move&&(t[a](i.value.id,i.value.$local_index,i.value.parent),t.callEvent("onRowDragEnd",[i.value.id]))}})},s}();C.Undo=f},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},f=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],s=function(){function u(i,o){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=i,this._gantt=o,this._attachEvents()}return u.prototype.store=function(i,o,n){return n===void 0&&(n=!1),o===this._gantt.config.undo_types.task?this._storeTask(i,n):o===this._gantt.config.undo_types.link&&this._storeLink(i,n)},u.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},u.prototype.toggleIgnoreMoveEvents=function(i){this._ignoreMoveEvents=i||!1},u.prototype.startIgnore=function(){this._ignore=!0},u.prototype.stopIgnore=function(){this._ignore=!1},u.prototype.startBatchAction=function(){var i=this;this._timeout||(this._timeout=setTimeout(function(){i.stopBatchAction(),i._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},u.prototype.stopBatchAction=function(){if(!this._ignore){var i=this._undo;this._batchAction&&i.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null}},u.prototype.onTaskAdded=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.add)},u.prototype.onTaskUpdated=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.update)},u.prototype.onTaskMoved=function(i){if(!this._ignore){i.$local_index=this._gantt.getTaskIndex(i.id);var o=this.getInitialTask(i.id);if(i.$local_index===o.$local_index&&this._gantt.getParent(i)===this._gantt.getParent(o))return;this._storeEntityCommand(i,this.getInitialTask(i.id),this._undo.command.type.move,this._undo.command.entity.task)}},u.prototype.onTaskDeleted=function(i){if(!this._ignore){if(this._storeTaskCommand(i,this._undo.command.type.remove),this._nestedTasks[i.id])for(var o=this._nestedTasks[i.id],n=0;n<o.length;n++)this._storeTaskCommand(o[n],this._undo.command.type.remove);if(this._nestedLinks[i.id]){var t=this._nestedLinks[i.id];for(n=0;n<t.length;n++)this._storeLinkCommand(t[n],this._undo.command.type.remove)}}},u.prototype.onLinkAdded=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.add)},u.prototype.onLinkUpdated=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.update)},u.prototype.onLinkDeleted=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.remove)},u.prototype.setNestedTasks=function(i,o){for(var n=this._gantt,t=null,e=[],r=this._getLinks(n.getTask(i)),a=0;a<o.length;a++)t=this.setInitialTask(o[a]),r=r.concat(this._getLinks(t)),e.push(t);var l={};for(a=0;a<r.length;a++)l[r[a]]=!0;var h=[];for(var a in l)h.push(this.setInitialLink(a));this._nestedTasks[i]=e,this._nestedLinks[i]=h},u.prototype.setInitialTask=function(i,o){var n=this._gantt;if(o||!this._initialTasks[i]||!this._batchMode){var t=n.copy(n.getTask(i));t.$index=n.getGlobalTaskIndex(i),t.$local_index=n.getTaskIndex(i),this.setInitialTaskObject(i,t)}return this._initialTasks[i]},u.prototype.getInitialTask=function(i){return this._initialTasks[i]},u.prototype.clearInitialTasks=function(){this._initialTasks={}},u.prototype.setInitialTaskObject=function(i,o){this._initialTasks[i]=o},u.prototype.setInitialLink=function(i,o){return this._initialLinks[i]&&this._batchMode||(this._initialLinks[i]=this._gantt.copy(this._gantt.getLink(i))),this._initialLinks[i]},u.prototype.getInitialLink=function(i){return this._initialLinks[i]},u.prototype.clearInitialLinks=function(){this._initialLinks={}},u.prototype._attachEvents=function(){var i=this,o=null,n=this._gantt,t=function(){o||(o=setTimeout(function(){o=null}),i.clearInitialTasks(),n.eachTask(function(l){i.setInitialTask(l.id)}),i.clearInitialLinks(),n.getLinks().forEach(function(l){i.setInitialLink(l.id)}))},e=function(l){return n.copy(n.getTask(l))};for(var r in g)n.attachEvent(r,function(){return i.startIgnore(),!0}),n.attachEvent(g[r],function(){return i.stopIgnore(),!0});for(r=0;r<f.length;r++)n.attachEvent(f[r],function(){return i.startBatchAction(),!0});n.attachEvent("onParse",function(){i._undo.clearUndoStack(),i._undo.clearRedoStack(),t()}),n.attachEvent("onAfterTaskAdd",function(l,h){i.setInitialTask(l,!0),i.onTaskAdded(h)}),n.attachEvent("onAfterTaskUpdate",function(l,h){i.onTaskUpdated(h)}),n.attachEvent("onAfterTaskDelete",function(l,h){i.onTaskDeleted(h)}),n.attachEvent("onAfterLinkAdd",function(l,h){i.setInitialLink(l,!0),i.onLinkAdded(h)}),n.attachEvent("onAfterLinkUpdate",function(l,h){i.onLinkUpdated(h)}),n.attachEvent("onAfterLinkDelete",function(l,h){i.onLinkDeleted(h)}),n.attachEvent("onRowDragEnd",function(l,h){return i.onTaskMoved(e(l)),i.toggleIgnoreMoveEvents(),!0}),n.attachEvent("onBeforeTaskDelete",function(l){i.store(l,n.config.undo_types.task);var h=[];return t(),n.eachTask(function(c){h.push(c.id)},l),i.setNestedTasks(l,h),!0});var a=n.getDatastore("task");a.attachEvent("onBeforeItemMove",function(l,h,c){return i.isMoveEventsIgnored()||t(),!0}),a.attachEvent("onAfterItemMove",function(l,h,c){return i.isMoveEventsIgnored()||i.onTaskMoved(e(l)),!0}),n.attachEvent("onRowDragStart",function(l,h,c){return i.toggleIgnoreMoveEvents(!0),t(),!0}),n.attachEvent("onBeforeTaskDrag",function(l){return i.store(l,n.config.undo_types.task)}),n.attachEvent("onLightbox",function(l){return i.store(l,n.config.undo_types.task)}),n.attachEvent("onBeforeTaskAutoSchedule",function(l){return i.store(l.id,n.config.undo_types.task),!0}),n.ext.inlineEditors&&n.ext.inlineEditors.attachEvent("onEditStart",function(l){i.store(l.id,n.config.undo_types.task)})},u.prototype._storeCommand=function(i){var o=this._undo;if(o.updateConfigs(),o.undoEnabled)if(this._batchMode)this._batchAction.commands.push(i);else{var n=o.action.create([i]);o.logAction(n)}},u.prototype._storeEntityCommand=function(i,o,n,t){var e=this._undo.command.create(i,o,n,t);this._storeCommand(e)},u.prototype._storeTaskCommand=function(i,o){this._gantt.isTaskExists(i.id)&&(i.$local_index=this._gantt.getTaskIndex(i.id)),this._storeEntityCommand(i,this.getInitialTask(i.id),o,this._undo.command.entity.task)},u.prototype._storeLinkCommand=function(i,o){this._storeEntityCommand(i,this.getInitialLink(i.id),o,this._undo.command.entity.link)},u.prototype._getLinks=function(i){return i.$source.concat(i.$target)},u.prototype._storeTask=function(i,o){var n=this;o===void 0&&(o=!1);var t=this._gantt;return this.setInitialTask(i,o),t.eachTask(function(e){n.setInitialTask(e.id)},i),!0},u.prototype._storeLink=function(i,o){return o===void 0&&(o=!1),this.setInitialLink(i,o),!0},u}();C.Monitor=s},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(230),f=d(229);C.default=function(s){var u=new f.Undo(s),i=new g.Monitor(u,s);function o(l,h,c){l&&(l.id===h&&(l.id=c),l.parent===h&&(l.parent=c))}function n(l,h,c){o(l.value,h,c),o(l.oldValue,h,c)}function t(l,h,c){l&&(l.source===h&&(l.source=c),l.target===h&&(l.target=c))}function e(l,h,c){t(l.value,h,c),t(l.oldValue,h,c)}function r(l,h,c){for(var _=u,p=0;p<l.length;p++)for(var v=l[p],m=0;m<v.commands.length;m++)v.commands[m].entity===_.command.entity.task?n(v.commands[m],h,c):v.commands[m].entity===_.command.entity.link&&e(v.commands[m],h,c)}function a(l,h,c){for(var _=u,p=0;p<l.length;p++)for(var v=l[p],m=0;m<v.commands.length;m++){var k=v.commands[m];k.entity===_.command.entity.link&&(k.value&&k.value.id===h&&(k.value.id=c),k.oldValue&&k.oldValue.id===h&&(k.oldValue.id=c))}}s.config.undo=!0,s.config.redo=!0,s.config.undo_types={link:"link",task:"task"},s.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},s.ext||(s.ext={}),s.ext.undo={undo:function(){return u.undo()},redo:function(){return u.redo()},getUndoStack:function(){return u.getUndoStack()},getRedoStack:function(){return u.getRedoStack()},clearUndoStack:function(){return u.clearUndoStack()},clearRedoStack:function(){return u.clearRedoStack()},saveState:function(l,h){return i.store(l,h,!0)}},s.undo=s.ext.undo.undo,s.redo=s.ext.undo.redo,s.getUndoStack=s.ext.undo.getUndoStack,s.getRedoStack=s.ext.undo.getRedoStack,s.clearUndoStack=s.ext.undo.clearUndoStack,s.clearRedoStack=s.ext.undo.clearRedoStack,s.attachEvent("onTaskIdChange",function(l,h){var c=u;r(c.getUndoStack(),l,h),r(c.getRedoStack(),l,h)}),s.attachEvent("onLinkIdChange",function(l,h){var c=u;a(c.getUndoStack(),l,h),a(c.getRedoStack(),l,h)}),s.attachEvent("onGanttReady",function(){u.updateConfigs()})}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(1),f=function(){function s(u){this._gantt=u}return s.prototype.getNode=function(){var u=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",u._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},s.prototype.setViewport=function(u){return this._root=u,this},s.prototype.show=function(u,i){var o=this._gantt,n=document.body,t=this.getNode();if(g.isChildOf(t,n)||(this.hide(),n.appendChild(t)),this._isLikeMouseEvent(u)){var e=this._calculateTooltipPosition(u);i=e.top,u=e.left}return t.style.top=i+"px",t.style.left=u+"px",o._waiAria.tooltipVisibleAttr(t),this},s.prototype.hide=function(){var u=this._gantt,i=this.getNode();return i&&i.parentNode&&i.parentNode.removeChild(i),u._waiAria.tooltipHiddenAttr(i),this},s.prototype.setContent=function(u){return this.getNode().innerHTML=u,this},s.prototype._isLikeMouseEvent=function(u){return!(!u||typeof u!="object")&&"clientX"in u&&"clientY"in u},s.prototype._getViewPort=function(){return this._root||document.body},s.prototype._calculateTooltipPosition=function(u){var i=this._gantt,o=this._getViewPortSize(),n=this.getNode(),t={top:0,left:0,width:n.offsetWidth,height:n.offsetHeight,bottom:0,right:0},e=i.config.tooltip_offset_x,r=i.config.tooltip_offset_y,a=document.body,l=g.getRelativeEventPosition(u,a),h=g.getNodePosition(a);l.y+=h.y,t.top=l.y,t.left=l.x,t.top+=r,t.left+=e,t.bottom=t.top+t.height,t.right=t.left+t.width;var c=window.scrollY+a.scrollTop;return t.top<o.top-c?(t.top=o.top,t.bottom=t.top+t.height):t.bottom>o.bottom&&(t.bottom=o.bottom,t.top=t.bottom-t.height),t.left<o.left?(t.left=o.left,t.right=o.left+t.width):t.right>o.right&&(t.right=o.right,t.left=t.right-t.width),l.x>=t.left&&l.x<=t.right&&(t.left=l.x-t.width-e,t.right=t.left+t.width),l.y>=t.top&&l.y<=t.bottom&&(t.top=l.y-t.height-r,t.bottom=t.top+t.height),t},s.prototype._getViewPortSize=function(){var u,i=this._gantt,o=this._getViewPort(),n=o,t=window.scrollY+document.body.scrollTop,e=window.scrollX+document.body.scrollLeft;return o===i.$task_data?(n=i.$task,t=0,e=0,u=g.getNodePosition(i.$task)):u=g.getNodePosition(n),{left:u.x+e,top:u.y+t,width:u.width,height:u.height,bottom:u.y+u.height+t,right:u.x+u.width+e}},s}();C.Tooltip=f},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(45),f=d(1),s=d(2),u=d(232),i=function(){function o(n){this._listeners={},this.tooltip=new u.Tooltip(n),this._gantt=n,this._domEvents=g(),this._initDelayedFunctions()}return o.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},o.prototype.hideTooltip=function(){this.delayHide()},o.prototype.attach=function(n){var t=this,e=document.body,r=this._gantt;n.global||(e=r.$root);var a=null,l=function(h){var c=f.getTargetNode(h),_=f.closest(c,n.selector);if(!f.isChildOf(c,t.tooltip.getNode())){var p=function(){a=_,n.onmouseenter(h,_)};a?_&&_===a?n.onmousemove(h,_):(n.onmouseleave(h,a),a=null,_&&_!==a&&p()):_&&p()}};this.detach(n.selector),this._domEvents.attach(e,"mousemove",l),this._listeners[n.selector]={node:e,handler:l}},o.prototype.detach=function(n){var t=this._listeners[n];t&&this._domEvents.detach(t.node,"mousemove",t.handler)},o.prototype.tooltipFor=function(n){var t=this,e=function(r){var a=r;return document.createEventObject&&!document.createEvent&&(a=document.createEventObject(r)),a};this._initDelayedFunctions(),this.attach({selector:n.selector,global:n.global,onmouseenter:function(r,a){var l=n.html(r,a);l&&t.delayShow(e(r),l)},onmousemove:function(r,a){var l=n.html(r,a);l?t.delayShow(e(r),l):(t.delayShow.$cancelTimeout(),t.delayHide())},onmouseleave:function(){t.delayShow.$cancelTimeout(),t.delayHide()}})},o.prototype._initDelayedFunctions=function(){var n=this,t=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=s.delay(function(e,r){t.callEvent("onBeforeTooltip",[e])===!1?n.tooltip.hide():(n.tooltip.setContent(r),n.tooltip.show(e))},t.config.tooltip_timeout||1),this.delayHide=s.delay(function(){n.delayShow.$cancelTimeout(),n.tooltip.hide()},t.config.tooltip_hide_timeout||1)},o}();C.TooltipManager=i},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(233);C.default=function(f){f.config.tooltip_timeout=30,f.config.tooltip_offset_y=20,f.config.tooltip_offset_x=10,f.config.tooltip_hide_timeout=30;var s=new g.TooltipManager(f);f.ext.tooltips=s,f.attachEvent("onGanttReady",function(){s.tooltipFor({selector:"["+f.config.task_attribute+"]:not(.gantt_task_row)",html:function(u){if(!f.config.touch||f.config.touch_tooltip){var i=f.locate(u);if(f.isTaskExists(i)){var o=f.getTask(i);return f.templates.tooltip_text(o.start_date,o.end_date,o)}return null}},global:!1})}),f.attachEvent("onDestroy",function(){s.destructor()}),f.attachEvent("onLightbox",function(){s.hideTooltip()}),f.attachEvent("onBeforeTooltip",function(){if(f.getState().link_source_id)return!1}),f.attachEvent("onGanttScroll",function(){s.hideTooltip()})}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function f(s){var u=this;this.show=function(i,o){o===void 0?u._showForTask(i):u._showAtCoordinates(i,o)},this.hide=function(i){var o=u._gantt,n=u._quickInfoBox;u._quickInfoBoxId=0;var t=u._quickInfoTask;if(u._quickInfoTask=null,n&&n.parentNode){if(o.config.quick_info_detached)return o.callEvent("onAfterQuickInfo",[t]),n.parentNode.removeChild(n);n.className+=" gantt_qi_hidden",n.style.right==="auto"?n.style.left="-350px":n.style.right="-350px",i&&(n.style.left=n.style.right="",n.parentNode.removeChild(n)),o.callEvent("onAfterQuickInfo",[t])}},this.getNode=function(){return u._quickInfoBox?u._quickInfoBox:null},this.setContainer=function(i){i&&(u._container=typeof i=="string"?document.getElementById(i):i)},this.setContent=function(i){var o=u._gantt,n={taskId:null,header:{title:"",date:""},content:"",buttons:o.config.quickinfo_buttons};i||(i=n),i.taskId||(i.taskId=n.taskId),i.header||(i.header=n.header),i.header.title||(i.header.title=n.header.title),i.header.date||(i.header.date=n.header.date),i.content||(i.content=n.content),i.buttons||(i.buttons=n.buttons);var t=u.getNode();t||(t=u._createQuickInfoElement()),i.taskId&&(u._quickInfoBoxId=i.taskId);var e=t.querySelector(".gantt_cal_qi_title"),r=e.querySelector(".gantt_cal_qi_tcontent"),a=e.querySelector(".gantt_cal_qi_tdate"),l=t.querySelector(".gantt_cal_qi_content"),h=t.querySelector(".gantt_cal_qi_controls");o._waiAria.quickInfoHeader(t,[i.header.title,i.header.date].join(" ")),r.innerHTML=i.header.title,a.innerHTML=i.header.date,i.header.title||i.header.date?e.style.display="":e.style.display="none",l.innerHTML=i.content;var c=i.buttons;c.length?h.style.display="":h.style.display="none";for(var _="",p=0;p<c.length;p++){var v=o._waiAria.quickInfoButtonAttrString(o.locale.labels[c[p]]);_+='<div class="gantt_qi_big_icon '+c[p]+'" title="'+o.locale.labels[c[p]]+'" '+v+"><div class='gantt_menu_icon "+c[p]+"'></div><div>"+o.locale.labels[c[p]]+"</div></div>"}h.innerHTML=_,o.eventRemove(t,"click",u._qiButtonClickHandler),o.eventRemove(t,"keypress",u._qiKeyPressHandler),o.event(t,"click",u._qiButtonClickHandler),o.event(t,"keypress",u._qiKeyPressHandler)},this._qiButtonClickHandler=function(i){i=i||event,u._qi_button_click(i.target||i.srcElement)},this._qiKeyPressHandler=function(i){var o=(i=i||event).which||event.keyCode;o!==13&&o!==32||setTimeout(function(){u._qi_button_click(i.target||i.srcElement)},1)},this._gantt=s}return f.prototype._showAtCoordinates=function(s,u){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(s,u),this._gantt.callEvent("onQuickInfo",[null])},f.prototype._showForTask=function(s){var u=this._gantt;if((s!==this._quickInfoBoxId||!u.utils.dom.isChildOf(this._quickInfoBox,document.body))&&u.config.show_quick_info){this.hide(!0);var i=this._getContainer(),o=this._get_event_counter_part(s,6,i.xViewport,i.yViewport);o&&(this._quickInfoBox=this._init_quick_info(s),this._quickInfoTask=s,this._quickInfoBox.className=this._prepare_quick_info_classname(s),this._fill_quick_data(s),this._show_quick_info(o,6),u.callEvent("onQuickInfo",[s]))}},f.prototype._get_event_counter_part=function(s,u,i,o){var n=this._gantt,t=n.getTaskNode(s);if(!t&&!(t=n.getTaskRowNode(s)))return null;var e=0,r=u+t.offsetTop+t.offsetHeight,a=t;if(n.utils.dom.isChildOf(a,i))for(;a&&a!==i;)e+=a.offsetLeft,a=a.offsetParent;var l=n.getScrollState();return a?{left:e,top:r,dx:e+t.offsetWidth/2-l.x>i.offsetWidth/2?1:0,dy:r+t.offsetHeight/2-l.y>o.offsetHeight/2?1:0,width:t.offsetWidth,height:t.offsetHeight}:null},f.prototype._createQuickInfoElement=function(){var s=this,u=this._gantt,i=document.createElement("div");i.className+="gantt_cal_quick_info",u._waiAria.quickInfoAttr(i);var o='<div class="gantt_cal_qi_title" '+u._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(o+='<div class="gantt_cal_qi_controls">',o+="</div>",i.innerHTML=o,u.config.quick_info_detached){var n=this._getContainer();u.event(n.parent,"scroll",function(){s.hide()})}return this._quickInfoBox=i,i},f.prototype._init_quick_info=function(s){var u=this._gantt,i=u.getTask(s);return typeof this._quickInfoReadonly=="boolean"&&u.isReadonly(i)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=u.isReadonly(i),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},f.prototype._prepare_quick_info_classname=function(s){var u=this._gantt,i=u.getTask(s),o="gantt_cal_quick_info",n=u.templates.quick_info_class(i.start_date,i.end_date,i);return n&&(o+=" "+n),o},f.prototype._fill_quick_data=function(s){var u=this._gantt,i=u.getTask(s);this._quickInfoBoxId=s;var o=[];if(this._quickInfoReadonly)for(var n=u.config.quickinfo_buttons,t={icon_delete:!0,icon_edit:!0},e=0;e<n.length;e++)this._quickInfoReadonly&&t[n[e]]||o.push(n[e]);else o=u.config.quickinfo_buttons;this.setContent({header:{title:u.templates.quick_info_title(i.start_date,i.end_date,i),date:u.templates.quick_info_date(i.start_date,i.end_date,i)},content:u.templates.quick_info_content(i.start_date,i.end_date,i),buttons:o})},f.prototype._appendAtCoordinates=function(s,u){var i=this._quickInfoBox,o=this._getContainer();i.parentNode&&i.parentNode.nodeName.toLowerCase()!=="#document-fragment"||o.parent.appendChild(i),i.style.left=s+"px",i.style.top=u+"px"},f.prototype._show_quick_info=function(s,u){var i=this._gantt,o=this._quickInfoBox;if(i.config.quick_info_detached){var n=this._getContainer();o.parentNode&&o.parentNode.nodeName.toLowerCase()!=="#document-fragment"||n.parent.appendChild(o);var t=o.offsetWidth,e=o.offsetHeight,r=i.getScrollState(),a=n.xViewport,l=n.yViewport,h=a.offsetWidth+r.x-t,c=s.top-r.y+e,_=s.top;c>l.offsetHeight/2&&(_=s.top-(e+s.height+2*u))<r.y&&c<=l.offsetHeight&&(_=s.top),_<r.y&&(_=r.y);var p=Math.min(Math.max(r.x,s.left-s.dx*(t-s.width)),h),v=_;this._appendAtCoordinates(p,v)}else o.style.top="20px",s.dx===1?(o.style.right="auto",o.style.left="-300px",setTimeout(function(){o.style.left="10px"},1)):(o.style.left="auto",o.style.right="-300px",setTimeout(function(){o.style.right="10px"},1)),o.className+=" gantt_qi_"+(s.dx===1?"left":"right"),i.$root.appendChild(o)},f.prototype._qi_button_click=function(s){var u=this._gantt,i=this._quickInfoBox;if(s&&s!==i){var o=s.className;if(o.indexOf("_icon")!==-1){var n=this._quickInfoBoxId;u.$click.buttons[o.split(" ")[1].replace("icon_","")](n)}else this._qi_button_click(s.parentNode)}},f.prototype._getContainer=function(){var s=this._gantt,u=this._container?this._container:s.$task_data;return u&&u.offsetHeight&&u.offsetWidth?{parent:u,xViewport:s.$task,yViewport:s.$task_data}:(u=this._container?this._container:s.$grid_data)&&u.offsetHeight&&u.offsetWidth?{parent:u,xViewport:s.$grid,yViewport:s.$grid_data}:{parent:this._container?this._container:s.$layout,xViewport:s.$layout,yViewport:s.$layout}},f}();C.QuickInfo=g},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(235);C.default=function(f){f.ext||(f.ext={}),f.ext.quickInfo=new g.QuickInfo(f),f.config.quickinfo_buttons=["icon_delete","icon_edit"],f.config.quick_info_detached=!0,f.config.show_quick_info=!0,f.templates.quick_info_title=function(n,t,e){return e.text.substr(0,50)},f.templates.quick_info_content=function(n,t,e){return e.details||e.text},f.templates.quick_info_date=function(n,t,e){return f.templates.task_time(n,t,e)},f.templates.quick_info_class=function(n,t,e){return""},f.attachEvent("onTaskClick",function(n,t){return f.utils.dom.closest(t.target,".gantt_add")||setTimeout(function(){f.ext.quickInfo.show(n)},0),!0});for(var s=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],u=function(){return f.ext.quickInfo.hide(),!0},i=0;i<s.length;i++)f.attachEvent(s[i],u);function o(){return f.ext.quickInfo.hide(),f.ext.quickInfo._quickInfoBox=null,!0}f.attachEvent("onEmptyClick",function(n){var t=!0,e=document.querySelector(".gantt_cal_quick_info");e&&f.utils.dom.isChildOf(n.target,e)&&(t=!1),t&&u()}),f.attachEvent("onGanttReady",o),f.attachEvent("onDestroy",o),f.event(window,"keydown",function(n){n.keyCode===27&&f.ext.quickInfo.hide()})}},function(S,C,d){var g=d(2).replaceValidZeroId;S.exports=function(f){f.config.multiselect=!0,f.config.multiselect_one_level=!1,f._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var s=this.getSelected();return s.length?s[s.length-1]:null},setFirstSelected:function(s){this._first_selected_when_shift=s},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=f.config.multiselect_one_level;var s=this._active;this._active=f.config.select_task,this._active!=s&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(s){f.$data.tasksStore.silent(function(){var u=f.$data.tasksStore;s?u.select(s+""):u.unselect(null)})},getLastSelected:function(){var s=f.$data.tasksStore.getSelectedId();return s&&f.isTaskExists(s)?s:null},select:function(s,u){return!!(s&&f.callEvent("onBeforeTaskMultiSelect",[s,!0,u])&&f.callEvent("onBeforeTaskSelected",[s]))&&(this._selected[s]=!0,this.setLastSelected(s),this.afterSelect(s),f.callEvent("onTaskMultiSelect",[s,!0,u]),f.callEvent("onTaskSelected",[s]),!0)},toggle:function(s,u){this._selected[s]?this.unselect(s,u):this.select(s,u)},unselect:function(s,u){s&&f.callEvent("onBeforeTaskMultiSelect",[s,!1,u])&&(this._selected[s]=!1,this.getLastSelected()==s&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(s),f.callEvent("onTaskMultiSelect",[s,!1,u]),f.callEvent("onTaskUnselected",[s]))},isSelected:function(s){return!(!f.isTaskExists(s)||!this._selected[s])},getSelected:function(){var s=[];for(var u in this._selected)this._selected[u]&&f.isTaskExists(u)?s.push(u):this._selected[u]=!1;return s.sort(function(i,o){return f.getGlobalTaskIndex(i)>f.getGlobalTaskIndex(o)?1:-1}),s},forSelected:function(s){for(var u=this.getSelected(),i=0;i<u.length;i++)s(u[i])},isSameLevel:function(s){if(!this._one_level)return!0;var u=this.getLastSelected();return!u||!f.isTaskExists(u)||!f.isTaskExists(s)||f.calculateTaskLevel(f.getTask(u))==f.calculateTaskLevel(f.getTask(s))},afterSelect:function(s){f.isTaskExists(s)&&f._quickRefresh(function(){f.refreshTask(s)})},doSelection:function(s){if(!this.isActive()||f._is_icon_open_click(s))return!1;var u=f.locate(s);if(!u||!f.callEvent("onBeforeMultiSelect",[s]))return!1;var i=this.getSelected(),o=this.getFirstSelected(),n=!1,t=this.getLastSelected(),e=f.config.multiselect,r=function(){var l=f.ext.inlineEditors,h=l.getState(),c=l.locateCell(s.target);f.config.inline_editors_multiselect_open&&c&&l.getEditorConfig(c.columnName)&&(l.isVisible()&&h.id==c.id&&h.columnName==c.columnName||l.startEdit(c.id,c.columnName)),this.setFirstSelected(u),this.isSelected(u)||this.select(u,s),i=this.getSelected();for(var _=0;_<i.length;_++)i[_]!==u&&this.unselect(i[_],s)}.bind(this),a=function(){if(t){if(u){for(var l=f.getGlobalTaskIndex(this.getFirstSelected()),h=f.getGlobalTaskIndex(u),c=f.getGlobalTaskIndex(t),_=t;f.getGlobalTaskIndex(_)!==l;)this.unselect(_,s),_=l>c?f.getNext(_):f.getPrev(_);for(_=u;f.getGlobalTaskIndex(_)!==l;)this.select(_,s)&&!n&&(n=!0,o=_),_=l>h?f.getNext(_):f.getPrev(_)}}else t=u}.bind(this);return e&&(s.ctrlKey||s.metaKey)?(this.isSelected(u)||this.setFirstSelected(u),u&&this.toggle(u,s)):e&&s.shiftKey?(f.isTaskExists(this.getFirstSelected())&&this.getFirstSelected()!==null||this.setFirstSelected(u),i.length?a():r()):r(),this.isSelected(u)?this.setLastSelected(u):o?u==t&&this.setLastSelected(s.shiftKey?o:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var s=f.selectTask;f.selectTask=function(i){if(!(i=g(i,this.config.root_id)))return!1;var o=f._multiselect,n=i;return o.isActive()?(o.select(i,null)&&o.setLastSelected(i),o.setFirstSelected(o.getLastSelected())):n=s.call(this,i),n};var u=f.unselectTask;f.unselectTask=function(i){var o=f._multiselect,n=o.isActive();(i=i||o.getLastSelected())&&n&&(o.unselect(i,null),i==o.getLastSelected()&&o.setLastSelected(null),f.refreshTask(i),o.setFirstSelected(o.getLastSelected()));var t=i;return n||(t=u.call(this,i)),t},f.toggleTaskSelection=function(i){var o=f._multiselect;i&&o.isActive()&&(o.toggle(i),o.setFirstSelected(o.getLastSelected()))},f.getSelectedTasks=function(){var i=f._multiselect;return i.isActive(),i.getSelected()},f.eachSelectedTask=function(i){return this._multiselect.forSelected(i)},f.isSelectedTask=function(i){return this._multiselect.isSelected(i)},f.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},f.attachEvent("onGanttReady",function(){var i=f.$data.tasksStore.isSelected;f.$data.tasksStore.isSelected=function(o){return f._multiselect.isActive()?f._multiselect.isSelected(o):i.call(this,o)}})}(),f.attachEvent("onTaskIdChange",function(s,u){var i=f._multiselect;if(!i.isActive())return!0;f.isSelectedTask(s)&&(i.unselect(s,null),i.select(u,null))}),f.attachEvent("onAfterTaskDelete",function(s,u){var i=f._multiselect;if(!i.isActive())return!0;i._selected[s]&&(i.unselect(s,null),i._selected[s]=!1,i.setLastSelected(i.getDefaultSelected())),i.forSelected(function(o){f.isTaskExists(o)||i.unselect(o,null)})}),f.attachEvent("onBeforeTaskMultiSelect",function(s,u,i){var o=f._multiselect;return!(u&&o.isActive()&&o._one_level)||o.isSameLevel(s)}),f.attachEvent("onTaskClick",function(s,u){return f._multiselect.doSelection(u)&&f.callEvent("onMultiSelect",[u]),!0})}},function(S,C){S.exports=function(d){function g(s){if(!d.config.show_markers||!s.start_date)return!1;var u=d.getState();if(!(+s.start_date>+u.max_date||(!s.end_date||+s.end_date<+u.min_date)&&+s.start_date<+u.min_date)){var i=document.createElement("div");i.setAttribute("data-marker-id",s.id);var o="gantt_marker";d.templates.marker_class&&(o+=" "+d.templates.marker_class(s)),s.css&&(o+=" "+s.css),s.title&&(i.title=s.title),i.className=o;var n=d.posFromDate(s.start_date);i.style.left=n+"px";var t=Math.max(d.getRowTop(d.getVisibleTaskCount()),0)+"px";if(d.config.timeline_placeholder&&(t=d.$container.scrollHeight+"px"),i.style.height=t,s.end_date){var e=d.posFromDate(s.end_date);i.style.width=Math.max(e-n,0)+"px"}return s.text&&(i.innerHTML="<div class='gantt_marker_content' >"+s.text+"</div>"),i}}function f(){if(d.$task_data){var s=document.createElement("div");s.className="gantt_marker_area",d.$task_data.appendChild(s),d.$marker_area=s}}d._markers||(d._markers=d.createDatastore({name:"marker",initItem:function(s){return s.id=s.id||d.uid(),s}})),d.config.show_markers=!0,d.attachEvent("onBeforeGanttRender",function(){d.$marker_area||f()}),d.attachEvent("onDataRender",function(){d.$marker_area||(f(),d.renderMarkers())}),d.attachEvent("onGanttLayoutReady",function(){d.attachEvent("onBeforeGanttRender",function(){f(),d.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return d.$marker_area}}).addLayer(g)},{once:!0})}),d.getMarker=function(s){return this._markers?this._markers.getItem(s):null},d.addMarker=function(s){return this._markers.addItem(s)},d.deleteMarker=function(s){return!!this._markers.exists(s)&&(this._markers.removeItem(s),!0)},d.updateMarker=function(s){this._markers.refresh(s)},d._getMarkers=function(){return this._markers.getItems()},d.renderMarkers=function(){this._markers.refresh()}}},function(S,C){S.exports=function(d){d.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new d.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var g;return(g=d.config.keyboard_navigation_cells?new d.$keyboardNavigation.TaskCell:new d.$keyboardNavigation.TaskRow).isValid()||(g=g.fallback()),g},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var g=this.activeNode;return g&&!g.isValid()&&(g=g.fallback()),g},fromDomElement:function(g){for(var f=[d.$keyboardNavigation.TaskRow,d.$keyboardNavigation.TaskCell,d.$keyboardNavigation.HeaderCell],s=0;s<f.length;s++)if(f[s].prototype.fromDomElement){var u=f[s].prototype.fromDomElement(g);if(u)return u}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(g){var f=!0;this.activeNode&&this.activeNode.compareTo(g)&&(f=!1),this.isEnabled()&&(f&&this.blurNode(this.activeNode),this.activeNode=g,this.focusNode(this.activeNode,!f))},focusNode:function(g,f){g&&g.focus&&g.focus(f)},blurNode:function(g){g&&g.blur&&g.blur()},keyDownHandler:function(g){if(!d.$keyboardNavigation.isModal()&&this.isEnabled()&&!g.defaultPrevented){var f=this.globalNode,s=d.$keyboardNavigation.shortcuts.getCommandFromEvent(g),u=this.getActiveNode();d.$keyboardNavigation.facade.callEvent("onKeyDown",[s,g])!==!1&&(u?u.findHandler(s)?u.doAction(s,g):f.findHandler(s)&&f.doAction(s,g):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return this._timeout!==null},delay:function(g,f){clearTimeout(this._timeout),this._timeout=setTimeout(d.bind(function(){this._timeout=null,g()},this),f||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(S,C){S.exports=function(d){(function(){var g=[];function f(){return!!g.length}function s(e){setTimeout(function(){f()||d.$destroyed||d.focus()},1)}function u(e){d.eventRemove(e,"keydown",o),d.event(e,"keydown",o),g.push(e)}function i(){var e=g.pop();e&&d.eventRemove(e,"keydown",o),s()}function o(e){var r=e.currentTarget;(function(a){return a==g[g.length-1]})(r)&&d.$keyboardNavigation.trapFocus(r,e)}function n(){u(d.getLightbox())}d.attachEvent("onLightbox",n),d.attachEvent("onAfterLightbox",i),d.attachEvent("onLightboxChange",function(){i(),n()}),d.attachEvent("onAfterQuickInfo",function(){s()}),d.attachEvent("onMessagePopup",function(e){t=d.utils.dom.getActiveElement(),u(e)}),d.attachEvent("onAfterMessagePopup",function(){i(),setTimeout(function(){t&&(t.focus(),t=null)},1)});var t=null;d.$keyboardNavigation.isModal=f})()}},function(S,C,d){S.exports=function(g){var f=d(1),s=d(2).replaceValidZeroId;g.$keyboardNavigation.TaskCell=function(u,i){if(!(u=s(u,g.config.root_id))){var o=g.getChildren(g.config.root_id);o[0]&&(u=o[0])}this.taskId=u,this.columnIndex=i||0,g.isTaskExists(this.taskId)&&(this.index=g.getTaskIndex(this.taskId),this.globalIndex=g.getGlobalTaskIndex(this.taskId))},g.$keyboardNavigation.TaskCell.prototype=g._compose(g.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return g.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!g.getGridColumns()[this.columnIndex]},fallback:function(){var u=g.$keyboardNavigation.TaskRow.prototype.fallback.call(this),i=u;if(u instanceof g.$keyboardNavigation.TaskRow){for(var o=g.getGridColumns(),n=this.columnIndex;n>=0&&!o[n];)n--;o[n]&&(i=new g.$keyboardNavigation.TaskCell(u.taskId,n))}return i},fromDomElement:function(u){if(!g.config.keyboard_navigation_cells)return null;var i=g.locate(u);if(g.isTaskExists(i)){var o=0,n=f.locateAttribute(u,"data-column-index");return n&&(o=1*n.getAttribute("data-column-index")),new g.$keyboardNavigation.TaskCell(i,o)}return null},getNode:function(){if(g.isTaskExists(this.taskId)&&g.isTaskVisible(this.taskId)){if(g.config.show_grid){var u=g.$grid.querySelector(".gantt_row["+g.config.task_attribute+"='"+this.taskId+"']");return u?u.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return g.getTaskNode(this.taskId)}},keys:{up:function(){var u=null,i=g.getPrev(this.taskId);u=g.isTaskExists(i)?new g.$keyboardNavigation.TaskCell(i,this.columnIndex):new g.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(u)},down:function(){var u=g.getNext(this.taskId);g.isTaskExists(u)&&this.moveTo(new g.$keyboardNavigation.TaskCell(u,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new g.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var u=g.getGridColumns();this.columnIndex<u.length-1&&this.moveTo(new g.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var u=g.getGridColumns();this.moveTo(new g.$keyboardNavigation.TaskCell(this.taskId,u.length-1))},home:function(){this.moveTo(new g.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){g.getVisibleTaskCount()&&this.moveTo(new g.$keyboardNavigation.TaskCell(g.getTaskByIndex(g.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){g.getVisibleTaskCount()&&this.moveTo(new g.$keyboardNavigation.TaskCell(g.getTaskByIndex(0).id,this.columnIndex))}}}),g.$keyboardNavigation.TaskCell.prototype.bindAll(g.$keyboardNavigation.TaskRow.prototype.keys),g.$keyboardNavigation.TaskCell.prototype.bindAll(g.$keyboardNavigation.TaskCell.prototype.keys)}},function(S,C){S.exports=function(d){d.$keyboardNavigation.TaskRow=function(g){if(!g){var f=d.getChildren(d.config.root_id);f[0]&&(g=f[0])}this.taskId=g,d.isTaskExists(this.taskId)&&(this.index=d.getTaskIndex(this.taskId),this.globalIndex=d.getGlobalTaskIndex(this.taskId))},d.$keyboardNavigation.TaskRow.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return d.isTaskExists(this.taskId)&&d.getTaskIndex(this.taskId)>-1},fallback:function(){if(!d.getVisibleTaskCount()){var g=new d.$keyboardNavigation.HeaderCell;return g.isValid()?g:null}var f=-1;if(d.getTaskByIndex(this.globalIndex-1))f=this.globalIndex-1;else if(d.getTaskByIndex(this.globalIndex+1))f=this.globalIndex+1;else for(var s=this.globalIndex;s>=0;){if(d.getTaskByIndex(s)){f=s;break}s--}if(f>-1)return new d.$keyboardNavigation.TaskRow(d.getTaskByIndex(f).id)},fromDomElement:function(g){if(d.config.keyboard_navigation_cells)return null;var f=d.locate(g);return d.isTaskExists(f)?new d.$keyboardNavigation.TaskRow(f):null},getNode:function(){if(d.isTaskExists(this.taskId)&&d.isTaskVisible(this.taskId))return d.config.show_grid?d.$grid.querySelector(".gantt_row["+d.config.task_attribute+"='"+this.taskId+"']"):d.getTaskNode(this.taskId)},focus:function(g){if(!g){var f,s,u=d.getTaskPosition(d.getTask(this.taskId)),i=d.getTaskHeight(this.taskId),o=d.getScrollState();f=d.$task?d.$task.offsetWidth:o.inner_width,s=d.$grid_data||d.$task_data?(d.$grid_data||d.$task_data).offsetHeight:o.inner_height,u.top<o.y||u.top+i>o.y+s?d.scrollTo(null,u.top-5*i):d.config.scroll_on_click&&d.config.show_chart&&(u.left>o.x+f?d.scrollTo(u.left-d.config.task_scroll_offset):u.left+u.width<o.x&&d.scrollTo(u.left+u.width-d.config.task_scroll_offset))}d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[g]),function(){var n=d.$ui.getView("grid"),t=parseInt(n.$grid.scrollLeft),e=parseInt(n.$grid_data.scrollTop),r=n.$config.scrollX;if(r&&n.$config.scrollable){var a=d.$ui.getView(r);a&&a.scrollTo(t,e)}var l=n.$config.scrollY;if(l){var h=d.$ui.getView(l);h&&h.scrollTo(t,e)}}()},keys:{pagedown:function(){d.getVisibleTaskCount()&&this.moveTo(new d.$keyboardNavigation.TaskRow(d.getTaskByIndex(d.getVisibleTaskCount()-1).id))},pageup:function(){d.getVisibleTaskCount()&&this.moveTo(new d.$keyboardNavigation.TaskRow(d.getTaskByIndex(0).id))},up:function(){var g=null,f=d.getPrev(this.taskId);g=d.isTaskExists(f)?new d.$keyboardNavigation.TaskRow(f):new d.$keyboardNavigation.HeaderCell,this.moveTo(g)},down:function(){var g=d.getNext(this.taskId);d.isTaskExists(g)&&this.moveTo(new d.$keyboardNavigation.TaskRow(g))},"shift+down":function(){d.hasChild(this.taskId)&&!d.getTask(this.taskId).$open&&d.open(this.taskId)},"shift+up":function(){d.hasChild(this.taskId)&&d.getTask(this.taskId).$open&&d.close(this.taskId)},"shift+right":function(){if(!d.isReadonly(this)){var g=d.getPrevSibling(this.taskId);d.isTaskExists(g)&&!d.isChildOf(this.taskId,g)&&(d.getTask(g).$open=!0,d.moveTask(this.taskId,-1,g)!==!1&&d.updateTask(this.taskId))}},"shift+left":function(){if(!d.isReadonly(this)){var g=d.getParent(this.taskId);d.isTaskExists(g)&&d.moveTask(this.taskId,d.getTaskIndex(g)+1,d.getParent(g))!==!1&&d.updateTask(this.taskId)}},space:function(g){d.isSelectedTask(this.taskId)?d.unselectTask(this.taskId):d.selectTask(this.taskId)},"ctrl+left":function(g){d.close(this.taskId)},"ctrl+right":function(g){d.open(this.taskId)},delete:function(g){d.isReadonly(this)||d.$click.buttons.delete(this.taskId)},enter:function(){d.isReadonly(this)||d.showLightbox(this.taskId)},"ctrl+enter":function(){d.isReadonly(this)||d.createTask({},this.taskId)}}}),d.$keyboardNavigation.TaskRow.prototype.bindAll(d.$keyboardNavigation.TaskRow.prototype.keys)}},function(S,C,d){S.exports=function(g){var f=d(1);g.$keyboardNavigation.HeaderCell=function(s){this.index=s||0},g.$keyboardNavigation.HeaderCell.prototype=g._compose(g.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!g.config.show_grid&&g.getVisibleTaskCount())&&(!!g.getGridColumns()[this.index]||!g.getVisibleTaskCount())},fallback:function(){if(!g.config.show_grid)return g.getVisibleTaskCount()?new g.$keyboardNavigation.TaskRow:null;for(var s=g.getGridColumns(),u=this.index;u>=0&&!s[u];)u--;return s[u]?new g.$keyboardNavigation.HeaderCell(u):null},fromDomElement:function(s){var u=f.locateClassName(s,"gantt_grid_head_cell");if(u){for(var i=0;u&&u.previousSibling;)u=u.previousSibling,i+=1;return new g.$keyboardNavigation.HeaderCell(i)}return null},getNode:function(){return g.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new g.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var s=g.getGridColumns();this.index<s.length-1&&this.moveTo(new g.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var s,u=g.getChildren(g.config.root_id);g.isTaskExists(u[0])&&(s=u[0]),s&&(g.config.keyboard_navigation_cells?this.moveTo(new g.$keyboardNavigation.TaskCell(s,this.index)):this.moveTo(new g.$keyboardNavigation.TaskRow(s)))},end:function(){var s=g.getGridColumns();this.moveTo(new g.$keyboardNavigation.HeaderCell(s.length-1))},home:function(){this.moveTo(new g.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){f.getActiveElement().click()},"ctrl+enter":function(){g.isReadonly(this)||g.createTask({},this.taskId)}}}),g.$keyboardNavigation.HeaderCell.prototype.bindAll(g.$keyboardNavigation.HeaderCell.prototype.keys)}},function(S,C){S.exports=function(d){d.$keyboardNavigation.KeyNavNode=function(){},d.$keyboardNavigation.KeyNavNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(g){d.$keyboardNavigation.dispatcher.setActiveNode(g)},compareTo:function(g){if(!g)return!1;for(var f in this){if(!!this[f]!=!!g[f])return!1;var s=!(!this[f]||!this[f].toString),u=!(!g[f]||!g[f].toString);if(u!=s)return!1;if(u&&s){if(g[f].toString()!=this[f].toString())return!1}else if(g[f]!=this[f])return!1}return!0},getNode:function(){},focus:function(){var g=this.getNode();if(g){var f=d.$keyboardNavigation.facade;f.callEvent("onBeforeFocus",[g])!==!1&&g&&(g.setAttribute("tabindex","-1"),g.$eventAttached||(g.$eventAttached=!0,d.event(g,"focus",function(s){return s.preventDefault(),!1},!1)),d.utils.dom.isChildOf(document.activeElement,g)&&(g=document.activeElement),g.focus&&g.focus(),f.callEvent("onFocus",[this.getNode()]))}},blur:function(){var g=this.getNode();g&&(d.$keyboardNavigation.facade.callEvent("onBlur",[g]),g.setAttribute("tabindex","-1"))}})}},function(S,C){S.exports=function(d){d.$keyboardNavigation.GanttNode=function(){},d.$keyboardNavigation.GanttNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{focus:function(){d.focus()},blur:function(){},isEnabled:function(){return d.$container.hasAttribute("tabindex")},scrollHorizontal:function(g){var f=d.dateFromPos(d.getScrollState().x),s=d.getScale(),u=g<0?-s.step:s.step;f=d.date.add(f,u,s.unit),d.scrollTo(d.posFromDate(f))},scrollVertical:function(g){var f=d.getScrollState().y,s=d.config.row_height;d.scrollTo(null,f+(g<0?-1:1)*s)},keys:{"alt+left":function(g){this.scrollHorizontal(-1)},"alt+right":function(g){this.scrollHorizontal(1)},"alt+up":function(g){this.scrollVertical(-1)},"alt+down":function(g){this.scrollVertical(1)},"ctrl+z":function(){d.undo&&d.undo()},"ctrl+r":function(){d.redo&&d.redo()}}}),d.$keyboardNavigation.GanttNode.prototype.bindAll(d.$keyboardNavigation.GanttNode.prototype.keys)}},function(S,C,d){S.exports=function(g){(function(){var f=d(1);g.$keyboardNavigation.getFocusableNodes=f.getFocusableNodes,g.$keyboardNavigation.trapFocus=function(s,u){if(u.keyCode!=9)return!1;for(var i=g.$keyboardNavigation.getFocusableNodes(s),o=f.getActiveElement(),n=-1,t=0;t<i.length;t++)if(i[t]==o){n=t;break}if(u.shiftKey){if(n<=0){var e=i[i.length-1];if(e)return e.focus(),u.preventDefault(),!0}}else if(n>=i.length-1){var r=i[0];if(r)return r.focus(),u.preventDefault(),!0}return!1}})()}},function(S,C){S.exports=function(d){d.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(g){this._handlers||(this._handlers={});var f=d.$keyboardNavigation.shortcuts.getHash(g);return this._handlers[f]},doAction:function(g,f){var s=this.findHandler(g);if(s){if(d.$keyboardNavigation.facade.callEvent("onBeforeAction",[g,f])===!1)return;s.call(this,f),f.preventDefault?f.preventDefault():f.returnValue=!1}},bind:function(g,f){this._handlers||(this._handlers={});for(var s=d.$keyboardNavigation.shortcuts,u=s.parse(g),i=0;i<u.length;i++)this._handlers[s.getHash(u[i])]=f},unbind:function(g){for(var f=d.$keyboardNavigation.shortcuts,s=f.parse(g),u=0;u<s.length;u++)this._handlers[f.getHash(s[u])]&&delete this._handlers[f.getHash(s[u])]},bindAll:function(g){for(var f in g)this.bind(f,g[f])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(S,C){S.exports=function(d){d.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(g){for(var f=[],s=this.getExpressions(this.trim(g)),u=0;u<s.length;u++){for(var i=this.getWords(s[u]),o=this.createCommand(),n=0;n<i.length;n++)this.commandKeys[i[n]]?o.modifiers[i[n]]=!0:this.specialKeys[i[n]]?o.keyCode=this.specialKeys[i[n]]:o.keyCode=i[n].charCodeAt(0);f.push(o)}return f},getCommandFromEvent:function(g){var f=this.createCommand();f.modifiers.shift=!!g.shiftKey,f.modifiers.alt=!!g.altKey,f.modifiers.ctrl=!!g.ctrlKey,f.modifiers.meta=!!g.metaKey,f.keyCode=g.which||g.keyCode,f.keyCode>=96&&f.keyCode<=105&&(f.keyCode-=48);var s=String.fromCharCode(f.keyCode);return s&&(f.keyCode=s.toLowerCase().charCodeAt(0)),f},getHashFromEvent:function(g){return this.getHash(this.getCommandFromEvent(g))},getHash:function(g){var f=[];for(var s in g.modifiers)g.modifiers[s]&&f.push(s);return f.push(g.keyCode),f.join(this.junctionChar)},getExpressions:function(g){return g.split(this.junctionChar)},getWords:function(g){return g.split(this.combinationChar)},trim:function(g){return g.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(S,C,d){S.exports=function(g){var f=d(4);(function(s){s.config.keyboard_navigation=!0,s.config.keyboard_navigation_cells=!1,s.$keyboardNavigation={},s._compose=function(){for(var i=Array.prototype.slice.call(arguments,0),o={},n=0;n<i.length;n++){var t=i[n];for(var e in typeof t=="function"&&(t=new t),t)o[e]=t[e]}return o},d(248)(s),d(247)(s),d(246)(s),d(245)(s),d(244)(s),d(243)(s),d(242)(s),d(241)(s),d(240)(s),d(239)(s);var u=d(1);(function(){var i=s.$keyboardNavigation.dispatcher;i.isTaskFocused=function(k){var y=i.activeNode;return(y instanceof s.$keyboardNavigation.TaskRow||y instanceof s.$keyboardNavigation.TaskCell)&&y.taskId==k};var o=function(k){if(s.config.keyboard_navigation&&(s.config.keyboard_navigation_cells||!e(k))&&!r(k)&&!function(y){return!!u.closest(y.target,".gantt_cal_light")}(k))return i.keyDownHandler(k)},n=function(k){if(i.$preventDefault)return k.preventDefault(),s.$container.blur(),!1;i.awaitsFocus()||i.focusGlobalNode()},t=function(){if(i.isEnabled()){var k=!u.isChildOf(document.activeElement,s.$container)&&document.activeElement.localName!="body",y=i.getActiveNode();if(y&&!k){var w,$,b=y.getNode();b&&b.parentNode&&(w=b.parentNode.scrollTop,$=b.parentNode.scrollLeft),y.focus(!0),b&&b.parentNode&&(b.parentNode.scrollTop=w,b.parentNode.scrollLeft=$)}}};function e(k){return!!u.closest(k.target,".gantt_grid_editor_placeholder")}function r(k){return!!u.closest(k.target,".no_keyboard_navigation")}function a(k){if(!s.config.keyboard_navigation||!s.config.keyboard_navigation_cells&&e(k))return!0;if(!r(k)){var y,w=i.fromDomElement(k);w&&(i.activeNode instanceof s.$keyboardNavigation.TaskCell&&u.isChildOf(k.target,s.$task)&&(w=new s.$keyboardNavigation.TaskCell(w.taskId,i.activeNode.columnIndex)),y=w),y?i.isEnabled()?i.delay(function(){i.setActiveNode(y)}):i.activeNode=y:(i.$preventDefault=!0,setTimeout(function(){i.$preventDefault=!1},300))}}s.attachEvent("onDataRender",function(){s.config.keyboard_navigation&&t()}),s.attachEvent("onGanttRender",function(){s.eventRemove(s.$root,"keydown",o),s.eventRemove(s.$container,"focus",n),s.eventRemove(s.$container,"mousedown",a),s.config.keyboard_navigation?(s.event(s.$root,"keydown",o),s.event(s.$container,"focus",n),s.event(s.$container,"mousedown",a),s.$container.setAttribute("tabindex","0")):s.$container.removeAttribute("tabindex")});var l=s.attachEvent("onGanttReady",function(){if(s.detachEvent(l),s.$data.tasksStore.attachEvent("onStoreUpdated",function(y){if(s.config.keyboard_navigation&&i.isEnabled()){var w=i.getActiveNode();w&&w.taskId==y&&t()}}),s._smart_render){var k=s._smart_render._redrawTasks;s._smart_render._redrawTasks=function(y,w){if(s.config.keyboard_navigation&&i.isEnabled()){var $=i.getActiveNode();if($&&$.taskId!==void 0){for(var b=!1,x=0;x<w.length;x++)if(w[x].id==$.taskId&&w[x].start_date){b=!0;break}b||w.push(s.getTask($.taskId))}}return k.apply(this,arguments)}}}),h=null,c=!1;s.attachEvent("onTaskCreated",function(k){return h=k.id,!0}),s.attachEvent("onAfterTaskAdd",function(k,y){if(!s.config.keyboard_navigation)return!0;if(i.isEnabled()){if(k==h&&(c=!0,setTimeout(function(){c=!1,h=null})),c&&y.type==s.config.types.placeholder)return;var w=0,$=i.activeNode;$ instanceof s.$keyboardNavigation.TaskCell&&(w=$.columnIndex);var b=s.config.keyboard_navigation_cells?s.$keyboardNavigation.TaskCell:s.$keyboardNavigation.TaskRow;y.type==s.config.types.placeholder&&s.config.placeholder_task.focusOnCreate===!1||i.setActiveNode(new b(k,w))}}),s.attachEvent("onTaskIdChange",function(k,y){if(!s.config.keyboard_navigation)return!0;var w=i.activeNode;return i.isTaskFocused(k)&&(w.taskId=y),!0});var _=setInterval(function(){s.config.keyboard_navigation&&(i.isEnabled()||i.enable())},500);function p(k){var y={gantt:s.$keyboardNavigation.GanttNode,headerCell:s.$keyboardNavigation.HeaderCell,taskRow:s.$keyboardNavigation.TaskRow,taskCell:s.$keyboardNavigation.TaskCell};return y[k]||y.gantt}function v(k){for(var y=s.getGridColumns(),w=0;w<y.length;w++)if(y[w].name==k)return w;return 0}s.attachEvent("onDestroy",function(){clearInterval(_)});var m={};f(m),s.mixin(m,{addShortcut:function(k,y,w){var $=p(w);$&&$.prototype.bind(k,y)},getShortcutHandler:function(k,y){var w=s.$keyboardNavigation.shortcuts.parse(k);if(w.length)return m.getCommandHandler(w[0],y)},getCommandHandler:function(k,y){var w=p(y);if(w&&k)return w.prototype.findHandler(k)},removeShortcut:function(k,y){var w=p(y);w&&w.prototype.unbind(k)},focus:function(k){var y,w=k?k.type:null,$=p(w);switch(w){case"taskCell":y=new $(k.id,v(k.column));break;case"taskRow":y=new $(k.id);break;case"headerCell":y=new $(v(k.column))}i.delay(function(){y?i.setActiveNode(y):(i.enable(),i.getActiveNode()?i.awaitsFocus()||i.enable():i.setDefaultNode())})},getActiveNode:function(){if(i.isEnabled()){var k=i.getActiveNode(),y=function($){return $ instanceof s.$keyboardNavigation.GanttNode?"gantt":$ instanceof s.$keyboardNavigation.HeaderCell?"headerCell":$ instanceof s.$keyboardNavigation.TaskRow?"taskRow":$ instanceof s.$keyboardNavigation.TaskCell?"taskCell":null}(k),w=s.getGridColumns();switch(y){case"taskCell":return{type:"taskCell",id:k.taskId,column:w[k.columnIndex].name};case"taskRow":return{type:"taskRow",id:k.taskId};case"headerCell":return{type:"headerCell",column:w[k.index].name}}}return null}}),s.$keyboardNavigation.facade=m,s.ext.keyboardNavigation=m,s.focus=function(){m.focus()},s.addShortcut=m.addShortcut,s.getShortcutHandler=m.getShortcutHandler,s.removeShortcut=m.removeShortcut})()})(g)}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(g){function f(){var a=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!a||a!==document.body)}function s(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(a){console.error("Fullscreen is not available:",a)}}g.$services.getService("state").registerProvider("fullscreen",function(){return s()?{fullscreen:f()}:void 0});var u={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},i={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},o=null;function n(a,l){l.width=a.width,l.height=a.height,l.top=a.top,l.left=a.left,l.position=a.position,l.zIndex=a.zIndex}var t=!1;function e(){var a;g.$container&&(f()?t&&(a="onExpand",function(){var l=g.ext.fullscreen.getFullscreenElement(),h=document.body;n(l.style,i),u={overflow:h.style.overflow,padding:h.style.padding?h.style.padding:null,paddingTop:h.style.paddingTop?h.style.paddingTop:null,paddingRight:h.style.paddingRight?h.style.paddingRight:null,paddingBottom:h.style.paddingBottom?h.style.paddingBottom:null,paddingLeft:h.style.paddingLeft?h.style.paddingLeft:null},h.style.padding&&(h.style.padding="0"),h.style.paddingTop&&(h.style.paddingTop="0"),h.style.paddingRight&&(h.style.paddingRight="0"),h.style.paddingBottom&&(h.style.paddingBottom="0"),h.style.paddingLeft&&(h.style.paddingLeft="0"),h.style.overflow="hidden",l.style.width="100vw",l.style.height="100vh",l.style.top="0px",l.style.left="0px",l.style.position="absolute",l.style.zIndex=1,i.modified=!0,o=function(c){for(var _=c.parentNode,p=[];_&&_.style;)p.push({element:_,originalPositioning:_.style.position}),_.style.position="static",_=_.parentNode;return p}(l)}()):t&&(t=!1,a="onCollapse",function(){var l=g.ext.fullscreen.getFullscreenElement(),h=document.body;i.modified&&(u.padding&&(h.style.padding=u.padding),u.paddingTop&&(h.style.paddingTop=u.paddingTop),u.paddingRight&&(h.style.paddingRight=u.paddingRight),u.paddingBottom&&(h.style.paddingBottom=u.paddingBottom),u.paddingLeft&&(h.style.paddingLeft=u.paddingLeft),h.style.overflow=u.overflow,u={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},n(i,l.style),i.modified=!1),function(c){c.forEach(function(_){_.element.style.position=_.originalPositioning})}(o),o=null}()),setTimeout(function(){g.render()}),setTimeout(function(){g.callEvent(a,[g.ext.fullscreen.getFullscreenElement()])}))}function r(){return!g.$container||!g.ext.fullscreen.getFullscreenElement()||!s()&&((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}g.ext.fullscreen={expand:function(){if(!r()&&!f()&&g.callEvent("onBeforeExpand",[this.getFullscreenElement()])){t=!0;var a=document.body,l=a.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],h=a.msRequestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullscreen||a.requestFullscreen;h&&h.apply(a,l)}},collapse:function(){if(!r()&&f()&&g.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var a=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;a&&a.apply(document)}},toggle:function(){r()||(f()?this.collapse():this.expand())},getFullscreenElement:function(){return g.$root}},g.expand=function(){g.ext.fullscreen.expand()},g.collapse=function(){g.ext.fullscreen.collapse()},g.attachEvent("onGanttReady",function(){g.event(document,"webkitfullscreenchange",e),g.event(document,"mozfullscreenchange",e),g.event(document,"MSFullscreenChange",e),g.event(document,"fullscreenChange",e),g.event(document,"fullscreenchange",e)})}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function f(s){var u=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(u._trace.length>=10){for(var i=u._trace.slice(u._trace.length-10),o=[],n=1;n<i.length;n++)o.push({x:i[n].x-i[n-1].x,y:i[n].y-i[n-1].y});var t={x:0,y:0};return o.forEach(function(e){t.x+=e.x,t.y+=e.y}),{magnitude:Math.sqrt(t.x*t.x+t.y*t.y),angleDegrees:180*Math.atan2(Math.abs(t.y),Math.abs(t.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){u._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){u._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(i){var o=u._gantt;return{x:o.$ui.getView(i.$config.scrollX).getScrollState().position,y:o.$ui.getView(i.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(i){var o=u._calculateDirectionVector(),n=u._startPoint.x-i.x,t=u._startPoint.y-i.y;return o&&(o.angleDegrees<15?t=0:o.angleDegrees>75&&(n=0)),{x:u._scrollState.x+n,y:u._scrollState.y+t}},this._setScrollPosition=function(i,o){var n=u._gantt;requestAnimationFrame(function(){n.scrollLayoutCell(i.$id,o.x,o.y)})},this._stopDrag=function(i){var o=u._gantt;if(u._trace=[],o.$root.classList.remove("gantt_noselect"),u._originalReadonly!==void 0&&(o.config.readonly=u._originalReadonly),u._originAutoscroll!==void 0&&(o.config.autoscroll=u._originAutoscroll),o.config.drag_timeline){var n=o.config.drag_timeline.useKey;if(n&&i[n]!==!0)return}u._mouseDown=!1},this._startDrag=function(i){var o=u._gantt;u._originAutoscroll=o.config.autoscroll,o.config.autoscroll=!1,o.$root.classList.add("gantt_noselect"),u._originalReadonly=o.config.readonly,o.config.readonly=!0,u._trace=[],u._mouseDown=!0;var n=u._getScrollPosition(u._timeline),t=n.x,e=n.y;u._scrollState={x:t,y:e},u._startPoint={x:i.clientX,y:i.clientY},u._trace.push(u._startPoint)},this._gantt=s,this._domEvents=s._createDomEventScope(),this._trace=[]}return f.create=function(s){return new f(s)},f.prototype.destructor=function(){this._domEvents.detachAll()},f.prototype.attach=function(s){var u=this;this._timeline=s;var i=this._gantt;this._domEvents.attach(s.$task,"mousedown",function(o){if(i.config.drag_timeline){var n=i.config.drag_timeline,t=n.useKey,e=n.ignore;if(n.enabled!==!1){var r=".gantt_task_line, .gantt_task_link";e!==void 0&&(r=e instanceof Array?e.join(", "):e),r&&i.utils.dom.closest(o.target,r)||t&&o[t]!==!0||u._startDrag(o)}}}),this._domEvents.attach(document,"keydown",function(o){if(i.config.drag_timeline){var n=i.config.drag_timeline.useKey;n&&o[n]===!0&&u._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(o){if(i.config.drag_timeline){var n=i.config.drag_timeline.useKey;n&&o[n]===!1&&(u._clearDndReadyStyles(),u._stopDrag(o))}}),this._domEvents.attach(document,"mouseup",function(o){u._stopDrag(o)}),this._domEvents.attach(i.$root,"mouseup",function(o){u._stopDrag(o)}),this._domEvents.attach(document,"mouseleave",function(o){u._stopDrag(o)}),this._domEvents.attach(i.$root,"mouseleave",function(o){u._stopDrag(o)}),this._domEvents.attach(i.$root,"mousemove",function(o){if(i.config.drag_timeline){var n=i.config.drag_timeline.useKey;if(!n||o[n]===!0){var t=u._gantt.ext.clickDrag,e=(u._gantt.config.click_drag||{}).useKey;if((!t||!e||n||!o[e])&&u._mouseDown===!0){u._trace.push({x:o.clientX,y:o.clientY});var r=u._countNewScrollPosition({x:o.clientX,y:o.clientY});u._setScrollPosition(s,r),u._scrollState=r,u._startPoint={x:o.clientX,y:o.clientY}}}}})},f}();C.EventsManager=g},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(251);C.default=function(f){f.ext||(f.ext={}),f.ext.dragTimeline={create:function(){return g.EventsManager.create(f)}},f.config.drag_timeline={enabled:!0}}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(4),f=d(2),s=function(){function u(i,o,n){var t=this;this._el=document.createElement("div"),this.defaultRender=function(e,r){t._el||(t._el=document.createElement("div"));var a=t._el,l=Math.min(e.relative.top,r.relative.top),h=Math.max(e.relative.top,r.relative.top),c=Math.min(e.relative.left,r.relative.left),_=Math.max(e.relative.left,r.relative.left);if(t._singleRow){var p=t._getTaskPositionByTop(t._startPoint.relative.top);a.style.height=p.height+"px",a.style.top=p.top+"px"}else a.style.height=Math.abs(h-l)+"px",a.style.top=l+"px";return a.style.width=Math.abs(_-c)+"px",a.style.left=c+"px",a},this._gantt=o,this._view=n,this._viewPort=i.viewPort,this._el.classList.add(i.className),typeof i.callback=="function"&&(this._callback=i.callback),this.render=function(){var e;(e=i.render?i.render(t._startPoint,t._endPoint):t.defaultRender(t._startPoint,t._endPoint))!==t._el&&(t._el&&t._el.parentNode&&t._el.parentNode.removeChild(t._el),t._el=e),i.className!==""&&t._el.classList.add(i.className),t.draw()},f.isEventable(this._viewPort)||g(this._viewPort),this._singleRow=i.singleRow,this._useRequestAnimationFrame=i.useRequestAnimationFrame}return u.prototype.draw=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._viewPort.appendChild(i.getElement())});this._viewPort.appendChild(this.getElement())},u.prototype.clear=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._el.parentNode&&i._viewPort.removeChild(i._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},u.prototype.getElement=function(){return this._el},u.prototype.getViewPort=function(){return this._viewPort},u.prototype.setStart=function(i){var o=this._gantt;this._startPoint=i,this._startDate=o.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},u.prototype.setEnd=function(i){var o=this._gantt;if(this._endPoint=i,this._singleRow){var n=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=n.top}this._endDate=o.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},u.prototype.setPosition=function(i){this._positionPoint=i},u.prototype.dragEnd=function(i){var o,n=this._gantt;i.relative.left<0&&(i.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,i]),this.setEnd(i),this._endDate=this._endDate||n.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(o=[this._endDate,this._startDate],this._startDate=o[0],this._endDate=o[1]),this.clear();var t=n.getTaskByTime(this._startDate,this._endDate),e=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,t,e)},u.prototype.getInBounds=function(){return this._singleRow},u.prototype._getTasksByTop=function(i,o){var n=this._gantt,t=i,e=o;i>o&&(t=o,e=i);for(var r=this._getTaskPositionByTop(t).index,a=this._getTaskPositionByTop(e).index,l=[],h=r;h<=a;h++)n.getTaskByIndex(h)&&l.push(n.getTaskByIndex(h));return l},u.prototype._getTaskPositionByTop=function(i){var o=this._gantt,n=this._view,t=n.getItemIndexByTopPosition(i),e=o.getTaskByIndex(t);if(e){var r=n.getItemHeight(e.id);return{top:n.getItemTop(e.id)||0,height:r||0,index:t}}var a=n.getTotalHeight();return{top:i>a?a:0,height:o.config.row_height,index:i>a?o.getTaskCount():0}},u}();C.SelectedRegion=s},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(1),f=function(){function s(u){this._mouseDown=!1,this._gantt=u,this._domEvents=u._createDomEventScope()}return s.prototype.attach=function(u,i,o){var n=this,t=this._gantt,e=u.getViewPort();this._originPosition=window.getComputedStyle(e).display,this._restoreOriginPosition=function(){e.style.position=n._originPosition},this._originPosition==="static"&&(e.style.position="relative");var r=t.$services.getService("state");r.registerProvider("clickDrag",function(){return{autoscroll:!1}});var a=null;this._domEvents.attach(e,"mousedown",function(h){a=null;var c=".gantt_task_line, .gantt_task_link";o!==void 0&&(c=o instanceof Array?o.join(", "):o),c&&t.utils.dom.closest(h.target,c)||(r.registerProvider("clickDrag",function(){return{autoscroll:n._mouseDown}}),i&&h[i]!==!0||(a=n._getCoordinates(h,u)))});var l=g.getRootNode(t.$root)||document.body;this._domEvents.attach(l,"mouseup",function(h){if(a=null,(!i||h[i]===!0)&&n._mouseDown===!0){n._mouseDown=!1;var c=n._getCoordinates(h,u);u.dragEnd(c)}}),this._domEvents.attach(e,"mousemove",function(h){if(!i||h[i]===!0){var c=n._gantt.ext.clickDrag,_=(n._gantt.config.drag_timeline||{}).useKey;if(!c||!_||i||!h[_]){var p=null;if(!n._mouseDown&&a)return p=n._getCoordinates(h,u),void(Math.abs(a.relative.left-p.relative.left)>5&&a&&(n._mouseDown=!0,u.setStart(t.copy(a)),u.setPosition(t.copy(a)),u.setEnd(t.copy(a)),a=null));n._mouseDown===!0&&(p=n._getCoordinates(h,u),u.setEnd(p),u.render())}}})},s.prototype.detach=function(){var u=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),u.$services.getService("state").unregisterProvider("clickDrag")},s.prototype.destructor=function(){this.detach()},s.prototype._getCoordinates=function(u,i){var o=i.getViewPort(),n=o.getBoundingClientRect(),t=u.clientX,e=u.clientY;return{absolute:{left:t,top:e},relative:{left:t-n.left+o.scrollLeft,top:e-n.top+o.scrollTop}}},s}();C.EventsManager=f},function(S,C,d){"use strict";var g=this&&this.__assign||function(){return(g=Object.assign||function(u){for(var i,o=1,n=arguments.length;o<n;o++)for(var t in i=arguments[o])Object.prototype.hasOwnProperty.call(i,t)&&(u[t]=i[t]);return u}).apply(this,arguments)};Object.defineProperty(C,"__esModule",{value:!0});var f=d(254),s=d(253);C.default=function(u){u.ext||(u.ext={});var i={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},o=new f.EventsManager(u);u.ext.clickDrag=o,u.attachEvent("onGanttReady",function(){var n=g({viewPort:u.$task_data},i);if(u.config.click_drag){var t=u.config.click_drag;n.render=t.render||i.render,n.className=t.className||i.className,n.callback=t.callback||i.callback,n.viewPort=t.viewPort||u.$task_data,n.useRequestAnimationFrame=t.useRequestAnimationFrame===void 0?i.useRequestAnimationFrame:t.useRequestAnimationFrame,n.singleRow=t.singleRow===void 0?i.singleRow:t.singleRow;var e=u.$ui.getView("timeline"),r=new s.SelectedRegion(n,u,e);u.ext.clickDrag.attach(r,t.useKey,t.ignore)}}),u.attachEvent("onDestroy",function(){o.destructor()})}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(255),f=d(252),s=d(250),u=d(249),i=d(238),o=d(237),n=d(236),t=d(234),e=d(231);C.default={click_drag:g.default,drag_timeline:f.default,fullscreen:s.default,keyboard_navigation:u,quick_info:n.default,tooltip:t.default,undo:e.default,marker:i,multiselect:o}},function(S,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var g=d(256),f=d(228),s=d(16).gantt=f(g.default);C.gantt=s,C.default=s}])})});var bt=Ft(It());function Ut(S,C){S.importCSS("main.css"),bt.gantt.config.columns=[{name:"text",label:"Task name",tree:!0,width:"*"},{name:"start_date",label:"Start time",align:"center"},{name:"duration",label:"Duration",align:"center"},{name:"add",label:""}],bt.gantt.config.scales=[{unit:"week",step:1,format:function(g){return"Week #"+bt.gantt.date.getWeek(g)}}],bt.gantt.config.start_date=new Date("2023-01-01"),bt.gantt.config.end_date=new Date("2024-01-01"),bt.gantt.plugins({fullscreen:!0,marker:!0}),bt.gantt.addMarker({start_date:new Date,css:"today",text:"Now",title:"TEST"}),bt.gantt.init(S.root);let d=document.createElement("button");d.innerHTML="Fullscreen",d.onclick=function(){bt.gantt.ext.fullscreen.toggle()},S.root.prepend(d)}export{Ut as init};
/*
@license

dhtmlxGantt v.8.0.3 Standard

This version of dhtmlxGantt is distributed under GPL 2.0 license and can be legally used in GPL projects.

To use dhtmlxGantt in non-GPL projects (and get Pro version of the product), please obtain Commercial/Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxGantt/#licensing or contact us at sales@dhtmlx.com

(c) XB Software Ltd.

*/
/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
